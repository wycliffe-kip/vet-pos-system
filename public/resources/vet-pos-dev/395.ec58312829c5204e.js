"use strict";(self.webpackChunkvet_pos_dev=self.webpackChunkvet_pos_dev||[]).push([[395],{7395:(ct,j,c)=>{c.r(j),c.d(j,{AdminModule:()=>qe});var a=c(177),A=c(2183),n=c(4438),u=c(8010);let b=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return console.log("AuthGuard \u2192 token =",t),!!t||(console.warn("AuthGuard \u2192 No token found, redirecting to /login"),this.router.navigate(["/login"]),!1)}canActivateChild(){return this.canActivate()}static{this.\u0275fac=function(s){return new(s||r)(n.KVO(u.u),n.KVO(A.Ix))}}static{this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var H=c(4493),$=c(6511),O=c(1063);const B=()=>({mode:"multiple"}),x=()=>({type:"currency",currency:"KES",precision:2});let y=(()=>{class r{constructor(t){this.salesService=t,this.dailySales=[],this.monthlySales=[],this.topProducts=[],this.lowStock=[],this.totalSalesToday=0,this.totalRevenueToday=0,this.totalQuantityToday=0,this.totalLowStockItems=0,this.lowStockAlert=!1,this.monthlyRevenue=0,this.monthlyQuantity=0,this.topCustomer=null,this.bestSellingProduct=null,this.animatedSales=0,this.animatedRevenue=0,this.animatedQuantity=0,this.animatedLowStock=0,this.animatedMonthlyRevenue=0,this.animatedMonthlyQuantity=0}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.salesService.getDashboardReport().subscribe({next:t=>{const s=t.data;this.totalLowStockItems=s.summary.lowStockCount,this.lowStockAlert=this.totalLowStockItems>0,this.dailySales=s.dailySales||[],this.monthlySales=s.monthlySales||[];const d=(new Date).toISOString().split("T")[0],p=this.dailySales.find(D=>D.date===d);this.totalSalesToday=p?.total_sales||0,this.totalRevenueToday=Number(p?.total_revenue||0),this.totalQuantityToday=p?.total_quantity_sold||0;const m=this.monthlySales[this.monthlySales.length-1];m&&(this.monthlyRevenue=Number(m.total_revenue),this.monthlyQuantity=m.total_quantity_sold),this.topProducts=s.topProducts,this.lowStock=s.lowStockProducts,this.bestSellingProduct=this.topProducts.length?this.topProducts[0].product_name:"N/A",this.animateNumbers()},error:t=>console.error("Failed to load dashboard:",t)})}animateNumbers(){const t=(s,d,p,m)=>{const D=d-s;let M=null;const G=J=>{M||(M=J);const X=Math.min((J-M)/p,1);m(Math.floor(X*D+s)),X<1&&requestAnimationFrame(G)};requestAnimationFrame(G)};t(0,this.totalSalesToday,1200,s=>this.animatedSales=s),t(0,this.totalRevenueToday,1300,s=>this.animatedRevenue=s),t(0,this.totalQuantityToday,1200,s=>this.animatedQuantity=s),t(0,this.totalLowStockItems,1e3,s=>this.animatedLowStock=s),t(0,this.monthlyRevenue,1500,s=>this.animatedMonthlyRevenue=s),t(0,this.monthlyQuantity,1500,s=>this.animatedMonthlyQuantity=s)}onLowStockRowPrepared(t){"data"===t.rowType&&t.data.stock_quantity<=t.data.low_stock_threshold&&(t.rowElement.style.backgroundColor="#ffcccc",t.rowElement.style.fontWeight="bold")}customizeTooltip(t){const s=this.dailySales.find(d=>new Date(d.date).toDateString()===new Date(t.argument).toDateString());return s?{text:`Date: ${s.date}\nRevenue: KSh ${s.total_revenue}\nSales: ${s.total_sales}\nQuantity Sold: ${s.total_quantity_sold}`}:{text:`KSh ${t.valueText}`}}static{this.\u0275fac=function(s){return new(s||r)(n.rXU(H.w))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-dashboard"]],decls:89,vars:38,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"kpi-cards"],[1,"kpi-card","gradient-green"],[1,"fas","fa-cash-register"],[1,"kpi-card","gradient-blue"],[1,"fas","fa-money-bill-wave"],[1,"kpi-card","gradient-purple"],[1,"fas","fa-boxes"],[1,"kpi-card","gradient-orange"],[1,"fas","fa-exclamation-triangle"],[1,"table-section"],[3,"dataSource","showBorders","columnHidingEnabled","columnAutoWidth","sorting"],["dataField","product_name","caption","Product"],["dataField","total_sold","caption","Units Sold",3,"alignment"],["dataField","total_revenue","caption","Revenue (KSh)",3,"dataType","format","alignment"],["dataField","remaining_stock","caption","Remaining Stock",3,"alignment"],[3,"dataSource","showBorders","columnHidingEnabled","columnAutoWidth","sorting","rowAlternationEnabled","rowPrepared"],["dataField","stock_quantity","caption","Remaining Stock",3,"alignment"],["dataField","low_stock_threshold","caption","Low Stock Threshold",3,"alignment"],[1,"chart-section"],["title","Daily Sales (KSh)","palette","GreenMist",3,"dataSource"],["argumentField","date","valueField","total_revenue","type","bar","color","#388e3c"],[3,"visible"],[1,"summary-widgets"],[1,"widget-card","gradient-green"],[1,"widget-icon"],[1,"fas","fa-wallet"],[1,"widget-content"],[1,"widget-card","gradient-blue"],[1,"fas","fa-chart-line"],[1,"widget-card","gradient-purple"],[1,"fas","fa-user-tie"],[1,"widget-card","gradient-orange"],[1,"fas","fa-seedling"]],template:function(s,d){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"h2"),n.EFF(3,"Vet-Dommie AgroVet POS Dashboard"),n.k0s(),n.j41(4,"p"),n.EFF(5,"Overview of today\u2019s performance"),n.k0s()(),n.j41(6,"div",2)(7,"div",3),n.nrm(8,"i",4),n.j41(9,"div")(10,"h4"),n.EFF(11,"Sales Today"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()()(),n.j41(14,"div",5),n.nrm(15,"i",6),n.j41(16,"div")(17,"h4"),n.EFF(18,"Revenue Today"),n.k0s(),n.j41(19,"p"),n.EFF(20),n.nI1(21,"number"),n.k0s()()(),n.j41(22,"div",7),n.nrm(23,"i",8),n.j41(24,"div")(25,"h4"),n.EFF(26,"Quantity Sold Today"),n.k0s(),n.j41(27,"p"),n.EFF(28),n.k0s()()(),n.j41(29,"div",9),n.nrm(30,"i",10),n.j41(31,"div")(32,"h4"),n.EFF(33,"Low Stock Items"),n.k0s(),n.j41(34,"p"),n.EFF(35),n.k0s()()()(),n.j41(36,"div",11)(37,"h3"),n.EFF(38,"Top Products"),n.k0s(),n.j41(39,"dx-data-grid",12),n.nrm(40,"dxi-column",13)(41,"dxi-column",14)(42,"dxi-column",15)(43,"dxi-column",16),n.k0s()(),n.j41(44,"div",11)(45,"h3"),n.EFF(46,"Low Stock Products"),n.k0s(),n.j41(47,"dx-data-grid",17),n.nrm(48,"dxi-column",13)(49,"dxi-column",18)(50,"dxi-column",19),n.k0s()(),n.j41(51,"div",20)(52,"dx-chart",21),n.nrm(53,"dxi-series",22)(54,"dxo-legend",23),n.k0s()(),n.j41(55,"div",24)(56,"div",25)(57,"div",26),n.nrm(58,"i",27),n.k0s(),n.j41(59,"div",28)(60,"h4"),n.EFF(61,"This Month\u2019s Revenue"),n.k0s(),n.j41(62,"p"),n.EFF(63),n.nI1(64,"number"),n.k0s()()(),n.j41(65,"div",29)(66,"div",26),n.nrm(67,"i",30),n.k0s(),n.j41(68,"div",28)(69,"h4"),n.EFF(70,"This Month\u2019s Quantity"),n.k0s(),n.j41(71,"p"),n.EFF(72),n.k0s()()(),n.j41(73,"div",31)(74,"div",26),n.nrm(75,"i",32),n.k0s(),n.j41(76,"div",28)(77,"h4"),n.EFF(78,"Top Customer"),n.k0s(),n.j41(79,"p"),n.EFF(80),n.k0s()()(),n.j41(81,"div",33)(82,"div",26),n.nrm(83,"i",34),n.k0s(),n.j41(84,"div",28)(85,"h4"),n.EFF(86,"Best-Selling Product"),n.k0s(),n.j41(87,"p"),n.EFF(88),n.k0s()()()()()),2&s&&(n.R7$(13),n.JRh(d.animatedSales),n.R7$(7),n.SpI("KSh ",n.bMT(21,31,d.animatedRevenue),""),n.R7$(8),n.JRh(d.animatedQuantity),n.R7$(),n.AVh("alert",d.lowStockAlert),n.R7$(6),n.JRh(d.animatedLowStock),n.R7$(4),n.Y8G("dataSource",d.topProducts)("showBorders",!0)("columnHidingEnabled",!0)("columnAutoWidth",!0)("sorting",n.lJ4(35,B)),n.R7$(2),n.Y8G("alignment","right"),n.R7$(),n.Y8G("dataType","number")("format",n.lJ4(36,x))("alignment","right"),n.R7$(),n.Y8G("alignment","right"),n.R7$(4),n.Y8G("dataSource",d.lowStock)("showBorders",!0)("columnHidingEnabled",!0)("columnAutoWidth",!0)("sorting",n.lJ4(37,B))("rowAlternationEnabled",!0)("rowPrepared",d.onLowStockRowPrepared),n.R7$(2),n.Y8G("alignment","right"),n.R7$(),n.Y8G("alignment","right"),n.R7$(2),n.Y8G("dataSource",d.dailySales),n.R7$(2),n.Y8G("visible",!1),n.R7$(9),n.SpI("KSh ",n.bMT(64,33,d.animatedMonthlyRevenue),""),n.R7$(9),n.JRh(d.animatedMonthlyQuantity),n.R7$(8),n.JRh(d.topCustomer||"N/A"),n.R7$(8),n.JRh(d.bestSellingProduct||"N/A"))},dependencies:[$.sjL,O.nj_,a.QX],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:25px;font-family:Poppins,sans-serif;background:#f8f9fa}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#2e7d32;margin-bottom:4px}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin-bottom:25px}.kpi-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:25px}.kpi-card[_ngcontent-%COMP%]{flex:1;min-width:240px;display:flex;align-items:center;gap:14px;padding:18px;border-radius:14px;color:#fff;box-shadow:0 6px 12px #0000001a;transition:transform .25s ease,box-shadow .25s ease}.kpi-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;background:#ffffff40;padding:10px;border-radius:10px}.kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 18px #00000026}.kpi-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:1.3rem;font-weight:600}.kpi-card.alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1.3s infinite}.gradient-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9c27b0,#ba68c8)}@keyframes _ngcontent-%COMP%_blink{50%{opacity:.7}}.chart-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;box-shadow:0 4px 12px #0000000d;margin-bottom:25px}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;margin-bottom:25px;box-shadow:0 4px 12px #0000000d}.table-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600;margin-bottom:10px}.summary-widgets[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}.widget-card[_ngcontent-%COMP%]{flex:1;min-width:250px;display:flex;align-items:center;gap:15px;padding:18px 20px;border-radius:14px;color:#fff;box-shadow:0 6px 12px #0000001a;transition:transform .25s ease,box-shadow .25s ease}.widget-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 18px #00000026}.widget-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;padding:12px;border-radius:12px}.widget-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;opacity:.9}.widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:1.2rem;font-weight:700}.gradient-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2e7d32,#66bb6a)}.gradient-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#64b5f6)}.gradient-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f57c00,#ffb74d)}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:all .3s ease}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}@media (max-width: 768px){.kpi-cards[_ngcontent-%COMP%], .summary-widgets[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return r})();var o=c(5964),K=c(1626),Y=c(6354),q=c(7175);let N=(()=>{class r{constructor(t){this.http=t,this.baseUrl=`${q.$.apiUrl}/rbac`}getNavigationItems(t,s){let d=new K.Nl;return void 0!==t&&(d=d.set("level",t)),void 0!==s&&(d=d.set("navigation_type_id",s)),this.http.get(`${this.baseUrl}/navigation-items`,{params:d})}getUserNavigation(t,s){let d=new K.Nl;return s.forEach(p=>{d=d.append("role_id[]",p.toString())}),this.http.get(`${this.baseUrl}/users/${t}/navigation`,{params:d}).pipe((0,Y.T)(p=>this.transformNavigationItems(p.navigation_items||[])))}transformNavigationItems(t){return t.filter(s=>s.is_enabled).map(s=>({id:s.id,name:s.name,description:s.description,route:s.route||s.nav_routerlink,nav_routerlink:s.nav_routerlink,iconsCls:s.icon||s.iconsCls,permission_code:s.permission_code||s.permission,is_enabled:s.is_enabled,badge:0,highlight:!1,parent_id:s.parent_id,order_no:s.order_no,level:s.level,children:s.children?this.transformNavigationItems(s.children):[]}))}list(){return this.http.get(`${this.baseUrl}/navigation-items`).pipe((0,Y.T)(t=>this.transformNavigationItems(t.data||[])))}static{this.\u0275fac=function(s){return new(s||r)(n.KVO(K.Qq))}}static{this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Q=c(4081);const et=(r,i,t)=>({"dark-mode":r,closed:i,"mobile-open":t}),T=(r,i,t)=>({"fa-angle-left":r,"fa-bars":i,"fa-times":t}),U=(r,i)=>({"fa-chevron-down":r,"fa-chevron-right":i});function W(r,i){1&r&&(n.j41(0,"h3",11),n.EFF(1," \u{1f33f} AgroVet POS "),n.k0s())}function lt(r,i){if(1&r&&n.nrm(0,"i"),2&r){const t=n.XpG().$implicit;n.ZvI("fa ",t.icon,"")}}function nt(r,i){if(1&r&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&r){const t=n.XpG().$implicit;n.R7$(),n.JRh(t.name)}}function dt(r,i){if(1&r&&n.nrm(0,"i",18),2&r){const t=n.XpG().$implicit;n.Y8G("ngClass",n.l_i(1,U,t.isOpen,!t.isOpen))}}function ht(r,i){if(1&r&&n.nrm(0,"i"),2&r){const t=n.XpG().$implicit;n.ZvI("fa ",t.icon,"")}}function it(r,i){if(1&r){const t=n.RV6();n.j41(0,"li",21),n.bIt("click",function(){const d=n.eBV(t).$implicit,p=n.XpG(3);return n.Njj(p.navigate(d.route))}),n.DNE(1,ht,1,3,"i",14),n.j41(2,"span"),n.EFF(3),n.k0s()()}if(2&r){const t=i.$implicit;n.AVh("active",t.isActive),n.R7$(),n.Y8G("ngIf",t.icon),n.R7$(2),n.JRh(t.name)}}function gt(r,i){if(1&r&&(n.j41(0,"ul",19),n.DNE(1,it,4,4,"li",20),n.k0s()),2&r){const t=n.XpG().$implicit;n.R7$(),n.Y8G("ngForOf",t.children)}}function ut(r,i){if(1&r){const t=n.RV6();n.qex(0),n.j41(1,"li")(2,"div",12),n.bIt("click",function(){const d=n.eBV(t).$implicit,p=n.XpG();return n.Njj(p.handleItemClick(d))}),n.j41(3,"div",13),n.DNE(4,lt,1,3,"i",14)(5,nt,2,1,"span",15),n.k0s(),n.DNE(6,dt,1,4,"i",16),n.k0s(),n.DNE(7,gt,2,1,"ul",17),n.k0s(),n.bVm()}if(2&r){const t=i.$implicit,s=n.XpG();n.R7$(),n.AVh("active",t.isActive)("has-children",null==t.children?null:t.children.length),n.R7$(3),n.Y8G("ngIf",t.icon),n.R7$(),n.Y8G("ngIf",s.drawerOpened||s.isMobileView),n.R7$(),n.Y8G("ngIf",(null==t.children?null:t.children.length)&&(s.drawerOpened||s.isMobileView)),n.R7$(),n.Y8G("ngIf",(null==t.children?null:t.children.length)&&t.isOpen)}}function _t(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",22),n.bIt("click",function(){n.eBV(t);const d=n.XpG();return n.Njj(d.closeMobileNav())}),n.k0s()}}let mt=(()=>{class r{constructor(t,s,d,p){this.router=t,this.navService=s,this.auth=d,this.themeService=p,this.drawerOpened=!0,this.isMobileNavOpen=!1,this.isMobileView=!1,this.isDarkMode=!1,this.menu=[]}ngOnInit(){this.checkScreenSize(),this.loadNavigationItems(),this.routerSub=this.router.events.pipe((0,o.p)(t=>t instanceof A.wF)).subscribe(()=>{this.updateActiveMenu(this.menu,this.router.url),this.closeMobileNav()}),this.themeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}ngOnDestroy(){this.routerSub?.unsubscribe()}checkScreenSize(){this.isMobileView=window.innerWidth<=768,this.isMobileView&&(this.drawerOpened=!0)}loadNavigationItems(){this.currentUser=this.auth.currentUser||JSON.parse(localStorage.getItem("user")||"{}"),this.isAdminUser()?this.loadAllNavigationItems():this.loadUserSpecificNavigation()}isAdminUser(){return this.currentUser?.roles?.some(t=>"admin"===t.name.toLowerCase()||"superadmin"===t.name.toLowerCase())||!1}loadAllNavigationItems(){this.navService.getNavigationItems().subscribe({next:t=>{let s=t.data||t.navigation_items||[];s=s.filter(d=>d.is_enabled),this.menu=this.buildMenuTree(s),this.updateActiveMenu(this.menu,this.router.url)},error:t=>console.error("Failed to load navigation items",t)})}loadUserSpecificNavigation(){const t=this.currentUser?.id,s=this.currentUser?.roles?.map(d=>d.id)||[];t&&s.length>0?this.navService.getUserNavigation(t,s).subscribe({next:d=>{this.menu=this.buildMenuTree(d),this.updateActiveMenu(this.menu,this.router.url)},error:d=>{console.error("Failed to load user navigation, falling back to general navigation",d),this.fallbackToGeneralNavigation()}}):this.fallbackToGeneralNavigation()}fallbackToGeneralNavigation(){this.navService.getNavigationItems().subscribe({next:t=>{let s=t.data||t.navigation_items||[];s=this.filterItemsByPermission(s),this.menu=this.buildMenuTree(s),this.updateActiveMenu(this.menu,this.router.url)},error:t=>console.error("Failed to load fallback navigation",t)})}filterItemsByPermission(t){const s=this.currentUser?.permissions||[];return t.filter(d=>{const p=!d.permission_code||s.includes(d.permission_code);return d.children&&(d.children=this.filterItemsByPermission(d.children)),p||d.children&&d.children.length>0})}buildMenuTree(t){const s={},d=[];return t.forEach(p=>{s[p.id]={id:p.id,name:p.name||p.description,route:p.route||p.nav_routerlink,icon:p.iconsCls?.replace("fa ",""),permission_code:p.permission_code,children:[],isOpen:!1,isActive:!1}}),t.forEach(p=>{p.parent_id&&s[p.parent_id]?s[p.parent_id].children.push(s[p.id]):d.push(s[p.id])}),this.autoOpenActiveParents(d),d}autoOpenActiveParents(t){t.forEach(s=>{s.children?.length&&(this.autoOpenActiveParents(s.children),s.isOpen=s.children.some(d=>d.isActive||d.isOpen))})}handleItemClick(t){t.children?.length?this.toggleItem(t):t.route&&this.navigate(t.route)}toggleItem(t){t.isOpen=!t.isOpen}toggleDrawer(){this.isMobileView?this.toggleMobileNav():this.drawerOpened=!this.drawerOpened}toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen}closeMobileNav(){this.isMobileNavOpen=!1}navigate(t){t&&(this.router.navigate([t]),this.isMobileView&&this.closeMobileNav())}updateActiveMenu(t,s){t.forEach(d=>{d.isActive=d.route===s,d.children?.length&&(this.updateActiveMenu(d.children,s),d.isOpen=d.children.some(p=>p.isActive))})}static{this.\u0275fac=function(s){return new(s||r)(n.rXU(A.Ix),n.rXU(N),n.rXU(u.u),n.rXU(Q.F))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-admin-navigation"]],hostBindings:function(s,d){1&s&&n.bIt("resize",function(){return d.checkScreenSize()},!1,n.tSv)},decls:11,vars:13,consts:[[1,"sidebar",3,"ngClass"],[1,"sidebar-header","d-flex","align-items-center","justify-content-between"],["class","logo-text",4,"ngIf"],["aria-label","Toggle Sidebar",1,"toggle-btn",3,"click"],[1,"fas",3,"ngClass"],[1,"sidebar-logo"],[1,"dx-icon-shoppingcart","my-shopping-cart-icon"],[1,"sidebar-scroll"],[1,"menu-list"],[4,"ngFor","ngForOf"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"logo-text"],[1,"menu-item",3,"click"],[1,"menu-item-content"],[3,"class",4,"ngIf"],[4,"ngIf"],["class","fas chevron",3,"ngClass",4,"ngIf"],["class","submenu",4,"ngIf"],[1,"fas","chevron",3,"ngClass"],[1,"submenu"],["class","submenu-item",3,"active","click",4,"ngFor","ngForOf"],[1,"submenu-item",3,"click"],[1,"mobile-overlay",3,"click"]],template:function(s,d){1&s&&(n.j41(0,"aside",0)(1,"div",1),n.DNE(2,W,2,0,"h3",2),n.j41(3,"button",3),n.bIt("click",function(){return d.toggleDrawer()}),n.nrm(4,"i",4),n.k0s()(),n.j41(5,"div",5),n.nrm(6,"i",6),n.k0s(),n.j41(7,"div",7)(8,"ul",8),n.DNE(9,ut,8,8,"ng-container",9),n.k0s()()(),n.DNE(10,_t,1,0,"div",10)),2&s&&(n.Y8G("ngClass",n.sMw(5,et,d.isDarkMode,!d.drawerOpened&&!d.isMobileView,d.isMobileNavOpen)),n.R7$(2),n.Y8G("ngIf",d.drawerOpened||d.isMobileView),n.R7$(2),n.Y8G("ngClass",n.sMw(9,T,d.drawerOpened&&!d.isMobileView,!d.drawerOpened&&!d.isMobileView,d.isMobileView&&d.isMobileNavOpen)),n.R7$(5),n.Y8G("ngForOf",d.menu),n.R7$(),n.Y8G("ngIf",d.isMobileNavOpen))},dependencies:[a.YU,a.Sq,a.bT],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;left:0;height:calc(100vh - 60px);width:240px;background:#1b4332;color:#f1f8e9;overflow-y:auto;transition:all .3s ease-in-out;box-shadow:2px 0 6px #00000026;z-index:1040}.sidebar.closed[_ngcontent-%COMP%]{width:70px}.sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#2e7d32;color:#fff;padding:12px 16px;font-weight:600;border-bottom:1px solid #1b5e20}.logo-text[_ngcontent-%COMP%]{font-size:1rem;margin:0;white-space:nowrap}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;transition:transform .2s ease;padding:4px;border-radius:4px}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;cursor:pointer;color:#f1f8e9;transition:all .2s ease;border-left:4px solid transparent;text-decoration:none}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:18px;text-align:center;color:#c8e6c9}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left:4px solid #81c784}li.active[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]{background:#81c78433;border-left:4px solid #81c784;font-weight:600;color:#fff}.chevron[_ngcontent-%COMP%]{font-size:12px;color:#a5d6a7;transition:transform .3s ease}.submenu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;background:#214d3b;border-left:3px solid #81c784;animation:_ngcontent-%COMP%_slideDown .3s ease;overflow:hidden}.submenu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px 10px 44px;color:#c8e6c9;cursor:pointer;transition:all .2s ease;border-bottom:1px solid rgba(255,255,255,.05);text-decoration:none}.submenu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.submenu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.submenu-item.active[_ngcontent-%COMP%]{background:#81c7844d;color:#fff;font-weight:600}.submenu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:16px;text-align:center;color:#a5d6a7}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:200px}}.sidebar-scroll[_ngcontent-%COMP%]{height:calc(100vh - 120px);overflow-y:auto;padding-bottom:20px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#388e3c;border-radius:4px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1b4332}.has-children[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]{background:#ffffff0d}.has-children[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%], .sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-angle-left[_ngcontent-%COMP%]{color:#fff}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fcc}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;left:-260px;width:240px;transition:left .3s ease}.sidebar.mobile-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:6px;border-radius:8px;background:#ffffff1a}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;color:#fff}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;inset:60px 0 0;background:#0000008c;z-index:1030}}"]})}}return r})();var w=c(5993),tt=c(5794);function f(r,i){if(1&r&&(n.j41(0,"span",18),n.EFF(1),n.k0s()),2&r){const t=n.XpG();n.R7$(),n.SpI(" ",t.lowStockProducts.length," ")}}function F(r,i){if(1&r&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&r){const t=i.$implicit;n.R7$(),n.Lme(" ",t.name," - ",t.stock_quantity," left ")}}function _(r,i){1&r&&(n.j41(0,"li"),n.EFF(1," No low stock products "),n.k0s())}let I=(()=>{class r{constructor(t,s,d,p,m){this.auth=t,this.router=s,this.inventoryService=d,this.toastr=p,this.themeService=m,this.toggleSidebar=new n.bkB,this.userName=null,this.lowStockProducts=[],this.showNotifications=!1,this.loadingLowStock=!1,this.isDarkMode=!1,this.auth.user$.subscribe(D=>{this.userName=D?.name??"Admin"})}ngOnInit(){this.themeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.fetchLowStockProducts()}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.auth.logout().subscribe({next:()=>this.router.navigate(["/login"]),error:()=>this.router.navigate(["/login"])})}toggleNotifications(){this.showNotifications=!this.showNotifications}fetchLowStockProducts(){this.loadingLowStock=!0,this.inventoryService.lowStockProducts().subscribe({next:t=>{this.lowStockProducts=t,this.loadingLowStock=!1},error:()=>{this.toastr.error("Failed to fetch low stock products"),this.loadingLowStock=!1}})}toggleDarkMode(){this.themeService.toggleDarkMode()}static{this.\u0275fac=function(s){return new(s||r)(n.rXU(u.u),n.rXU(A.Ix),n.rXU(w.c),n.rXU(tt.tw),n.rXU(Q.F))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},decls:28,vars:8,consts:[[1,"top-navbar"],[1,"left-section"],[1,"toggle-btn","toggle-visible",3,"click"],[1,"fas","fa-bars"],[1,"brand-name"],[1,"fas","fa-leaf"],[1,"right-section"],[1,"notification-wrapper",3,"click"],[1,"fas","fa-bell","notification-icon"],["class","notification-count",4,"ngIf"],[1,"notification-dropdown"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dark-mode-btn",3,"click"],[1,"user-info"],[1,"fas","fa-user-circle"],[1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"notification-count"]],template:function(s,d){1&s&&(n.j41(0,"nav",0)(1,"div",1)(2,"button",2),n.bIt("click",function(){return d.onToggleSidebar()}),n.nrm(3,"i",3),n.k0s(),n.j41(4,"div",4),n.nrm(5,"i",5),n.j41(6,"span"),n.EFF(7,"Vet-Dommie AgroVet POS"),n.k0s()()(),n.j41(8,"div",6)(9,"div",7),n.bIt("click",function(){return d.toggleNotifications()}),n.nrm(10,"i",8),n.DNE(11,f,2,1,"span",9),n.j41(12,"div",10)(13,"h4"),n.EFF(14,"Low Stock Alerts"),n.k0s(),n.j41(15,"ul"),n.DNE(16,F,2,2,"li",11)(17,_,2,0,"li",12),n.k0s()()(),n.j41(18,"button",13),n.bIt("click",function(){return d.toggleDarkMode()}),n.nrm(19,"i"),n.k0s(),n.j41(20,"div",14),n.nrm(21,"i",15),n.j41(22,"span"),n.EFF(23),n.k0s()(),n.j41(24,"button",16),n.bIt("click",function(){return d.logout()}),n.nrm(25,"i",17),n.j41(26,"span"),n.EFF(27,"Logout"),n.k0s()()()()),2&s&&(n.R7$(11),n.Y8G("ngIf",d.lowStockProducts.length>0),n.R7$(),n.AVh("show",d.showNotifications),n.R7$(4),n.Y8G("ngForOf",d.lowStockProducts),n.R7$(),n.Y8G("ngIf",0===d.lowStockProducts.length),n.R7$(2),n.HbH(d.isDarkMode?"fas fa-sun":"fas fa-moon"),n.R7$(4),n.JRh(d.userName))},dependencies:[a.Sq,a.bT],styles:[".top-navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;height:60px;width:100%;background:linear-gradient(90deg,#2e7d32,#66bb6a);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 20px;box-shadow:0 2px 8px #00000026;margin-bottom:1px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.brand-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;display:flex;align-items:center;gap:6px}.brand-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#b2fab4}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:22px;cursor:pointer;transition:all .3s ease}.toggle-btn[_ngcontent-%COMP%]:hover{color:#c8e6c9;transform:scale(1.1)}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:500}.logout-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.5);color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s ease,transform .2s ease}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:scale(1.03)}.toggle-visible[_ngcontent-%COMP%]{display:none}.top-navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#4f46e5;color:#fff;padding:10px 20px;position:relative;z-index:10}.left-section[_ngcontent-%COMP%], .right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.brand-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;background-color:transparent;color:#fff;border:none;cursor:pointer;font-weight:600;transition:color .2s}.logout-btn[_ngcontent-%COMP%]:hover{color:#ff4d4f}.notification-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.notification-icon[_ngcontent-%COMP%]{font-size:20px}.notification-count[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background-color:#ef4444;color:#fff;font-size:12px;font-weight:700;width:18px;height:18px;border-radius:50%;display:flex;justify-content:center;align-items:center}.notification-dropdown[_ngcontent-%COMP%]{position:absolute;top:28px;right:0;width:220px;max-height:250px;background-color:#fff;color:#333;border-radius:8px;box-shadow:0 4px 12px #00000026;overflow-y:auto;display:none;flex-direction:column;padding:10px;font-size:14px;z-index:100}.notification-dropdown.show[_ngcontent-%COMP%]{display:flex}.notification-dropdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600}.notification-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 0;border-bottom:1px solid #eee}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}body.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .top-navbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1b1b1b,#333);color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .notification-dropdown[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#fff;border:1px solid #444}.dark-mode-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;transition:transform .3s ease,color .3s ease}.dark-mode-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#ffd54f}@media (max-width: 768px){.toggle-visible[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;background:#ffffff26;border-radius:10px;color:#fff;border:none;cursor:pointer;transition:background .3s ease,transform .2s ease}.toggle-visible[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.toggle-visible[_ngcontent-%COMP%]:hover{background:#ffffff40;color:#a7ff83;transform:scale(1.05)}}.toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){.brand-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.toggle-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;background:#ffffff26;border-radius:10px}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;color:#a7ff83}.right-section[_ngcontent-%COMP%]{gap:10px}.logout-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}"]})}}return r})();const E=["sidebar"],L=[{path:"",canActivate:[b],canActivateChild:[b],component:(()=>{class r{constructor(){this.isMobileView=!1}ngOnInit(){this.checkScreenSize()}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobileView=window.innerWidth<=768}onToggleSidebar(){this.sidebar.toggleDrawer()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-admin-layout"]],viewQuery:function(s,d){if(1&s&&n.GBs(E,5),2&s){let p;n.mGM(p=n.lsd())&&(d.sidebar=p.first)}},hostBindings:function(s,d){1&s&&n.bIt("resize",function(){return d.onResize()},!1,n.tSv)},decls:6,vars:0,consts:[["sidebar",""],[3,"toggleSidebar"],[1,"admin-layout"],[1,"sidebar"],[1,"app-main-content"]],template:function(s,d){if(1&s){const p=n.RV6();n.j41(0,"app-header",1),n.bIt("toggleSidebar",function(){return n.eBV(p),n.Njj(d.onToggleSidebar())}),n.k0s(),n.j41(1,"div",2),n.nrm(2,"app-admin-navigation",3,0),n.j41(4,"main",4),n.nrm(5,"router-outlet"),n.k0s()()}},dependencies:[A.n3,mt,I],styles:[".admin-layout[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 60px);background:#fafafa}app-admin-navigation[_ngcontent-%COMP%]{width:240px;transition:width .3s ease}.sidebar.closed[_ngcontent-%COMP%]   app-admin-navigation[_ngcontent-%COMP%]{width:70px}.app-main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:240px;transition:margin-left .3s ease}@media (max-width: 768px){app-admin-navigation[_ngcontent-%COMP%]{width:0}.app-main-content[_ngcontent-%COMP%]{margin-left:0;padding:15px}}"]})}}return r})(),children:[{path:"dashboard",component:y},{path:"sales",loadChildren:()=>Promise.all([c.e(871),c.e(46),c.e(564),c.e(76),c.e(941)]).then(c.bind(c,1941)).then(r=>r.SalesModule)},{path:"inventory",loadChildren:()=>Promise.all([c.e(871),c.e(46),c.e(856),c.e(168)]).then(c.bind(c,5787)).then(r=>r.InventoryModule)},{path:"reports",loadChildren:()=>Promise.resolve().then(c.bind(c,5955)).then(r=>r.ReportsModule)},{path:"users-roles",loadChildren:()=>Promise.all([c.e(871),c.e(564),c.e(856),c.e(506)]).then(c.bind(c,8506)).then(r=>r.UsersRolesModule)}]}];let ot=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=n.$C({type:r})}static{this.\u0275inj=n.G2t({imports:[A.iI.forChild(L),A.iI]})}}return r})();var z=c(5506),v=c(6382),g=c(8600),P=c(308),l=c(2290),k=c(8168),e=c(8189),h=c(8708),R=c(5632),C=c(7184),V=c(2463),ft=c(2236);function yt(r,i,t){const s=d=>{const p=d?t:i;p?.()};(0,V.yL)(r)?r.then(s).catch(i):s(!!r)}var pt=c(3150),Mt=c(9402);class Pt extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{contentAlignment:"center",icon:"",showBackground:!0,text:"",type:"error"})}_initMarkup(){const{showBackground:i}=this.option();this.$element().addClass("dx-informer"),this.$element().toggleClass("dx-informer-bg",i),this._setAlignmentClass(),this._setTypeClass(),super._initMarkup(),this._renderIcon(),this._renderText()}_setAlignmentClass(){this.$element().removeClass("dx-informer-alignment-start").removeClass("dx-informer-alignment-center").removeClass("dx-informer-alignment-end");const{contentAlignment:i}=this.option();switch(i){case"start":this.$element().addClass("dx-informer-alignment-start");break;case"end":this.$element().addClass("dx-informer-alignment-end");break;default:this.$element().addClass("dx-informer-alignment-center")}}_setTypeClass(){this.$element().removeClass("dx-informer-error").removeClass("dx-informer-info");const{type:i}=this.option();"info"===i?this.$element().addClass("dx-informer-info"):this.$element().addClass("dx-informer-error")}_renderIcon(){var i;null===(i=this._$icon)||void 0===i||i.remove();const{icon:t}=this.option(),s=(0,Mt.NJ)(t);s&&(this._$icon=(0,C.A)("<div>").addClass("dx-informer-icon").prependTo(this.$element()).append(s))}_renderText(){const{text:i=""}=this.option();this._$text=(0,C.A)("<div>").addClass("dx-informer-text").appendTo(this.$element()).text(i)}_updateText(){const{text:i=""}=this.option();this._$text.text(i)}_optionChanged(i){const{name:t,value:s}=i;switch(t){case"icon":this._renderIcon();break;case"contentAlignment":this._setAlignmentClass();break;case"showBackground":this.$element().toggleClass("dx-informer-bg",s);break;case"text":this._updateText();break;case"type":this._setTypeClass();break;default:super._optionChanged(i)}}}(0,R.A)("dxInformer",Pt);const ee=Pt,ie=class ne extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{items:[]})}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-alertlist"),super._initMarkup();const{items:i}=this.option();this._renderItems(i),this._updateAria()}_renderItems(i){this._informersInstances=[],null!=i&&i.length&&i.forEach(t=>{this._renderItem(t)})}_renderItem(i){const t=(0,C.A)("<div>").addClass("dx-chat-alertlist-error");this.$element().append(t);const s=this._createComponent(t,ee,{text:i?.message??"",icon:"errorcircle",showBackground:!1});this._informersInstances.push(s)}_cleanItems(){this._informersInstances.forEach(i=>{i.dispose()})}_updateAria(){const i={role:"log",atomic:"false",label:h.A.format("dxChat-alertListAriaLabel"),live:"polite",relevant:"additions"};this.setAria(i)}_clean(){this._cleanItems(),super._clean()}_optionChanged(i){const{name:t}=i;"items"===t?this._invalidate():super._optionChanged(i)}};var se=c(8587),oe=c(6676),ae=c(3992),re=c(8758),de=c(5110),le=c(3550);const he=["onApplyButtonClick","onCancelButtonClick"],ge=class ce{constructor(i,t){this._$container=i;const s=t??{},{onApplyButtonClick:d,onCancelButtonClick:p}=s,m=(0,se.A)(s,he);this._actions={onApplyButtonClick:d,onCancelButtonClick:p},this._popupConfig=m,this._renderPopup()}_renderPopup(){const i=(0,C.A)("<div>").appendTo(this._$container);this._popup=new de.A(i.get(0),this._getPopupConfig())}_getPopupConfig(){const i=(new ae.A).toString(),t=(0,C.A)("<div>").text(h.A.format("dxChat-editingDeleteConfirmText")).attr("id",i);return(0,re.X)((0,k.A)({width:240,height:"auto",showTitle:!1,showCloseButton:!1,shading:!0,dragEnabled:!1,hideOnOutsideClick:!0,toolbarItems:this._getToolbarItems(),onContentReady(s){s.component.$content().append(t),s.component.$overlayContent().attr("aria-labelledby",i)},onShown:s=>{const d=s.component.bottomToolbar().find(`.${le.aT}`).first();oe.A.trigger(d,"focus")},wrapperAttr:{class:"dx-chat-confirmation-popup-wrapper"},focusStateEnabled:!0,position:{my:"center",at:"center",of:this._$container}},this._popupConfig))}_getApplyButtonConfig(){return{widget:"dxButton",toolbar:"bottom",location:"before",options:{text:h.A.format("Yes"),type:"default",stylingMode:"contained",onClick:()=>{var i,t;null===(i=this._actions)||void 0===i||null===(t=i.onApplyButtonClick)||void 0===t||t.call(i),this._popup.hide()}}}}_getCancelButtonConfig(){return{widget:"dxButton",toolbar:"bottom",location:"after",options:{text:h.A.format("No"),type:"normal",stylingMode:"outlined",onClick:()=>{var i,t;null===(i=this._actions)||void 0===i||null===(t=i.onCancelButtonClick)||void 0===t||t.call(i),this._popup.hide()}}}}_getToolbarItems(){return[this._getApplyButtonConfig(),this._getCancelButtonConfig()]}show(){this._popup.show()}dispose(){this._popup.dispose()}};var pe=c(4040),Ft=c(3175),St=c(6661);const me=class ue extends St.A{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,text:"",onCancel:void 0})}_init(){super._init(),(0,C.A)(this.element()).addClass("dx-chat-editing-preview")}_initMarkup(){super._initMarkup();const{text:i}=this.option();i?this._renderContent():this._cleanContent()}_renderContent(){this._renderMessagePreview(),this._updateText(),this._renderCloseButton()}_renderMessagePreview(){const i=(0,C.A)("<div>").addClass("dx-chat-editing-preview-content").appendTo(this.element());(0,C.A)("<div>").addClass("dx-chat-editing-preview-caption").text(h.A.format("dxChat-editingMessageCaption")).appendTo(i),this._$messageText=(0,C.A)("<div>").addClass("dx-chat-editing-preview-text").appendTo(i)}_updateText(){const{text:i=""}=this.option();this._$messageText.text(i)}_renderCloseButton(){const{onCancel:i,activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d}=this.option(),p=(0,C.A)("<div>").addClass("dx-chat-editing-preview-cancel-button").appendTo(this.element());this._closeButton=this._createComponent(p,Ft.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d,icon:"remove",type:"normal",stylingMode:"text",elementAttr:{"aria-label":h.A.format("dxChat-cancelEditingButtonAriaLabel")},onClick:m=>{i?.(m)}})}_processTextUpdate(i){const{text:t=""}=this.option();i&&t?this._updateText():t?this._renderContent():(this.$element().get(0).addEventListener("animationend",()=>{this._cleanContent()},{once:!0}),this.$element().addClass("dx-chat-editing-preview-hiding"))}_cleanContent(){super._dispose(),this.$element().remove()}_optionChanged(i){const{name:t,value:s,previousValue:d}=i;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":this._closeButton.option(t,s);break;case"text":this._processTextUpdate(d);break;case"onCancel":this._closeButton.option("onClick",s);break;default:super._optionChanged(i)}}};var _e=c(7297);const Rt=()=>"desktop"!==pe.A.current().deviceType,Ce=class fe extends St.A{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,onMessageEntered:void 0,onTypingStart:void 0,onTypingEnd:void 0,onMessageEditCanceled:void 0,onMessageUpdating:void 0,text:""})}_init(){super._init(),this._createMessageEnteredAction(),this._createTypingStartAction(),this._createTypingEndAction()}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-messagebox"),super._initMarkup(),this.option("text")&&this._renderEditingPreview(),this._renderInputContainer()}_renderInputContainer(){const i=(0,C.A)("<div>").addClass("dx-chat-messagebox-input-container").appendTo(this.element());this._renderTextArea(i),this._renderButton(i)}_cancelMessageEdit(){const{onMessageEditCanceled:i}=this.option();this.option("text",""),this._textArea.focus(),i?.()}_renderEditingPreview(){const i=(0,C.A)("<div>").prependTo(this.element()),{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d,text:p}=this.option();this._editingPreview=this._createComponent(i,me,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d,text:p,onCancel:()=>this._cancelMessageEdit()})}_renderTextArea(i){const{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d}=this.option(),p=(0,C.A)("<div>").addClass("dx-chat-messagebox-textarea");i.append(p),this._textArea=this._createComponent(p,_e.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d,stylingMode:"outlined",placeholder:h.A.format("dxChat-textareaPlaceholder"),autoResizeEnabled:!0,valueChangeEvent:"input",maxHeight:"8em",onInput:m=>{const D=!this._isValuableTextEntered();this._toggleButtonDisableState(D),this._triggerTypingStartAction(m),this._updateTypingEndTimeout()},onEnterKey:m=>{var D;Rt()||null!==(D=m.event)&&void 0!==D&&D.shiftKey||this._sendHandler(m)}}),this._textArea.registerKeyHandler("enter",m=>{!m.shiftKey&&this._isValuableTextEntered()&&!Rt()&&m.preventDefault()}),this._textArea.registerKeyHandler("escape",()=>{this.option("text")&&this._cancelMessageEdit()})}_renderButton(i){const{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d}=this.option(),p=(0,C.A)("<div>").addClass("dx-chat-messagebox-button");i.append(p),this._button=this._createComponent(p,Ft.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:d,icon:"sendfilled",type:"default",stylingMode:"text",disabled:!0,elementAttr:{"aria-label":h.A.format("dxChat-sendButtonAriaLabel")},onClick:m=>{this._sendHandler(m)}})}_createMessageEnteredAction(){this._messageEnteredAction=this._createActionByOption("onMessageEntered",{excludeValidators:["disabled"]})}_createTypingStartAction(){this._typingStartAction=this._createActionByOption("onTypingStart",{excludeValidators:["disabled"]})}_createTypingEndAction(){this._typingEndAction=this._createActionByOption("onTypingEnd",{excludeValidators:["disabled"]})}_triggerTypingStartAction(i){var t;this._typingEndTimeoutId||null===(t=this._typingStartAction)||void 0===t||t.call(this,{event:i.event})}_updateTypingEndTimeout(){clearTimeout(this._typingEndTimeoutId),this._typingEndTimeoutId=setTimeout(()=>{var i;null===(i=this._typingEndAction)||void 0===i||i.call(this),this._clearTypingEndTimeout()},2e3)}_clearTypingEndTimeout(){clearTimeout(this._typingEndTimeoutId),this._typingEndTimeoutId=void 0}_sendHandler(i){var t,s;if(!this._isValuableTextEntered())return;this._clearTypingEndTimeout(),null===(t=this._typingEndAction)||void 0===t||t.call(this);const{text:d=""}=this._textArea.option(),{text:p}=this.option();if(p){const{onMessageUpdating:m}=this.option();m?.({text:d})}else this._textArea.reset(),this._toggleButtonDisableState(!0),null===(s=this._messageEnteredAction)||void 0===s||s.call(this,{text:d,event:i.event})}_toggleButtonDisableState(i){this._button.option("disabled",i)}_isValuableTextEntered(){const{text:i}=this._textArea.option();return!(null==i||!i.trim())}_optionChanged(i){const{name:t,value:s}=i;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":var d;this._button.option(t,s),this._textArea.option(t,s),null===(d=this._editingPreview)||void 0===d||d.option(t,s);break;case"onMessageEntered":this._createMessageEnteredAction();break;case"onTypingStart":this._createTypingStartAction();break;case"onTypingEnd":this._createTypingEndAction();break;case"text":this._updateEditingPreview(s),this._updateInputContainer(s);break;default:super._optionChanged(i)}}_clean(){this._clearTypingEndTimeout(),super._clean()}updateInputAria(i){this._textArea.option({inputAttr:{"aria-labelledby":i}})}_updateEditingPreview(i){this._editingPreview?(this._editingPreview.option("text",i),i||(this._editingPreview=null)):this._renderEditingPreview()}_updateInputContainer(i){this._textArea.option("value",i);const t=!this._isValuableTextEntered();this._toggleButtonDisableState(t)}};var kt=c(2206),Ht=c(1341),ve=c(5042),Dt=c(7693),Ot=c(239),Oe=c(7963),Bt=c(2126),ye=c(7719),be=c(9180),xe=c(6657);c(8812),c(5327);var Ie=c(9489);const At="dx-chat-messagebubble",Pe=`${Mt.T0}-cursorprohibition`,Lt="dxMessageData",Vt=class Fe extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{isDeleted:!1,isEdited:!1,text:"",template:null})}_initMarkup(){const i=(0,C.A)(this.element());i.addClass("dx-chat-messagebubble"),(0,C.A)("<div>").addClass("dx-chat-messagebubble-content").appendTo(i),super._initMarkup(),this._updateContent()}_updateContent(){const{template:i,type:t,text:s,src:d,alt:p,isDeleted:m=!1}=this.option();this.$element().removeClass("dx-chat-messagebubble-deleted");const D=(0,C.A)(this.element()).find(".dx-chat-messagebubble-content");if(D.empty(),i)i({type:t,text:s,src:d,alt:p},(0,Ie.cc)(D));else if(m){this.$element().addClass("dx-chat-messagebubble-deleted");const M=(0,C.A)("<div>").addClass(Mt.T0).addClass(Pe),G=(0,C.A)("<div>").text(h.A.format("dxChat-deletedMessageText"));D.append(M).append(G)}else"image"===t?(this.$element().addClass("dx-has-image"),(0,C.A)("<img>").attr("src",d??"").attr("alt",p??h.A.format("dxChat-defaultImageAlt")).addClass("dx-chat-messagebubble-image").appendTo(D)):D.text(s??"")}_updateMessageData(i,t){const s=this.$element().data("dxMessageData")||{};s[i]=t,this.$element().data("dxMessageData",s)}_optionChanged(i){const{name:t,value:s}=i;switch(t){case"text":case"src":case"alt":case"isDeleted":this._updateMessageData(t,s),this._updateContent();break;case"template":this._updateContent();break;case"isEdited":this._updateMessageData(t,s);break;default:super._optionChanged(i)}}},ke=class Re extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{name:"Unknown User",url:"",alt:""})}_initMarkup(){(0,C.A)(this.element()).addClass("dx-avatar"),super._initMarkup(),this._renderAvatarContent()}_renderAvatarContent(){var i;null===(i=this._$content)||void 0===i||i.remove(),this._isValuableUrl()?this._renderImage():this._renderInitials()}_renderImage(){this._renderImageElement(),this._updateUrl(),this._updateAlt()}_renderInitials(){this._renderInitialsElement(),this._updateInitials()}_renderImageElement(){this._$content=(0,C.A)("<img>").addClass("dx-avatar-image").appendTo(this.element())}_renderInitialsElement(){this._$content=(0,C.A)("<div>").addClass("dx-avatar-initials").appendTo(this.element())}_updateInitials(){var i;const{name:t}=this.option();null===(i=this._$content)||void 0===i||i.text(this._getInitials(t))}_updateUrl(){var i;const{url:t}=this.option();null===(i=this._$content)||void 0===i||i.attr("src",t??"")}_updateAlt(){var i;const{alt:t,name:s}=this.option(),d=t||s||h.A.format("dxAvatar-defaultImageAlt");null===(i=this._$content)||void 0===i||i.attr("alt",d)}_isValuableUrl(){var i;const{url:t}=this.option();return!(null==t||null===(i=t.trim)||void 0===i||!i.call(t))}_getInitials(i){if((0,V.O9)(i)){const t=String(i).trim().split(/\s+/);return`${this._getFirstChar(t[0])}${this._getFirstChar(t[1])}`}return""}_getFirstChar(i){return i?.charAt(0).toUpperCase()??""}_optionChanged(i){const{name:t}=i;switch(t){case"alt":case"name":case"url":this._renderAvatarContent();break;default:super._optionChanged(i)}}},Tt="dx-chat-messagegroup",Gt="dx-chat-messagegroup-alignment-end",Et=class Be extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{items:[],alignment:"start",showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,messageTemplate:null,messageTimestampFormat:"shorttime"})}_updateAlignmentClass(){(0,C.A)(this.element()).removeClass("dx-chat-messagegroup-alignment-start").removeClass("dx-chat-messagegroup-alignment-end");const i=this._isAlignmentStart()?"dx-chat-messagegroup-alignment-start":"dx-chat-messagegroup-alignment-end";(0,C.A)(this.element()).addClass(i)}_initMarkup(){const{items:i,showAvatar:t}=this.option();(0,C.A)(this.element()).addClass("dx-chat-messagegroup"),this._updateAlignmentClass(),super._initMarkup(),0!==i.length&&(t&&this._isAlignmentStart()&&this._renderAvatar(),this._renderMessageGroupInformation(i?.[0]),this._renderMessageBubbles(i))}_renderAvatar(){const i=(0,C.A)("<div>").appendTo(this.element()),{items:t}=this.option(),{author:s}=t[0],d=s?.name,p=s?.avatarUrl,m=s?.avatarAlt;this._avatar=this._createComponent(i,ke,{name:d,url:p,alt:m})}_renderMessageBubble(i){const t=(0,C.A)("<div>").data(Lt,i).appendTo(this._$messageBubbleContainer);this._createComponent(t,Vt,this._getMessageBubbleOptions(i))}_getMessageBubbleOptions(i){const t={isDeleted:i.isDeleted,type:i.type},{messageTemplate:s}=this.option();return"image"===i.type?(t.alt=i.alt,t.src=i.src):t.text=i.text,s&&(t.template=(d,p)=>{s((0,k.A)({},i,d),p)}),t}_renderMessageBubbles(i){this._$messageBubbleContainer=(0,C.A)("<div>").addClass("dx-chat-messagegroup-content").appendTo(this.element()),i.forEach((t,s)=>{0!==s&&"image"!==t.type&&!0===t.isEdited&&!t.isDeleted&&this._createEditedElement().appendTo(this._$messageBubbleContainer),this._renderMessageBubble(t)})}_renderMessageGroupInformation(i,t){const{showUserName:s,showMessageTimestamp:d}=this.option(),{timestamp:p,author:m}=i,D=(0,V.O9)(t)?t:"image"!==i.type&&i.isEdited,M=this._isAlignmentStart();this.$element().find(".dx-chat-messagegroup-information").remove();const G=(0,C.A)("<div>").addClass("dx-chat-messagegroup-information");if(s){const J=m?.name??h.A.format("dxChat-defaultUserName"),X=M?J:"";(0,C.A)("<div>").addClass("dx-chat-messagegroup-author-name").text(X).appendTo(G)}if(D&&!M&&G.append(this._createEditedElement()),d){const J=(0,C.A)("<div>").addClass("dx-chat-messagegroup-time").appendTo(G);if(this._shouldAddTimeValue(p)){const at=this._getTimeValue(p);J.text(at)}}D&&M&&G.append(this._createEditedElement()),G.appendTo(this.element())}_createEditedElement(){const i=(0,C.A)("<div>").addClass("dx-chat-message-edited");(0,C.A)("<div>").addClass("dx-chat-message-edited-icon").appendTo(i);const t=h.A.format("dxChat-editedMessageText");return(0,C.A)("<div>").addClass("dx-chat-message-edited-text").text(t).appendTo(i),i}_updateMessageEditedText(i){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this._$messageBubbleContainer.find(`.${At}`).first(),d=m=>{m.get(0).addEventListener("animationend",()=>{m.remove()},{once:!0}),m.addClass("dx-chat-message-edited-hiding")};if(i.is(s)){const m=this.option("items"),M=this.$element().find(".dx-chat-messagegroup-information").find(".dx-chat-message-edited");if(M.length&&t)return;return M.length&&!t?void d(M):void(t&&this._renderMessageGroupInformation(m[0],!0))}const p=i.prev();p.hasClass("dx-chat-message-edited")?t||d(p):t&&this._createEditedElement().insertBefore(i)}_isAlignmentStart(){const{alignment:i}=this.option();return"start"===i}_shouldAddTimeValue(i){const t=Ot.A.deserializeDate(i);return(0,V.$P)(t)&&!isNaN(t.getTime())}_getTimeValue(i){const t=Ot.A.deserializeDate(i),{messageTimestampFormat:s}=this.option();return kt.A.format(t,s)}_optionChanged(i){const{name:t}=i;switch(t){case"items":case"alignment":case"showAvatar":case"showUserName":case"showMessageTimestamp":case"messageTemplate":case"messageTimestampFormat":this._invalidate();break;default:super._optionChanged(i)}}renderMessage(i){const{items:t}=this.option(),s=[...t,i];this._setOptionWithoutOptionChange("items",s),this._renderMessageBubble(i)}},Ue=class $e extends St.A{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{typingUsers:[]})}_init(){super._init(),(0,C.A)(this.element()).addClass("dx-chat-typingindicator")}_initMarkup(){super._initMarkup();const{typingUsers:i}=this.option();null!=i&&i.length&&this._renderContent()}_renderContent(){this._renderContentElement(),this._renderTextElement(),this._updateText(),this._renderBubble()}_renderContentElement(){this._$content=(0,C.A)("<div>").addClass("dx-chat-typingindicator-content").appendTo(this.element())}_renderTextElement(){this._$content&&(this._$text=(0,C.A)("<div>").addClass("dx-chat-typingindicator-text").appendTo(this._$content))}_renderBubble(){if(this._$content){const i=(0,C.A)("<div>").addClass("dx-chat-typingindicator-bubble");new Array(3).fill(0).forEach(()=>{(0,C.A)("<div>").addClass("dx-chat-typingindicator-circle").appendTo(i)}),i.appendTo(this._$content)}}_getText(){const{typingUsers:i}=this.option(),t=i?.map(d=>{var p;return(null===(p=d.name)||void 0===p?void 0:p.trim())||h.A.format("dxChat-defaultUserName")});if(1===t?.length)return h.A.format("dxChat-typingMessageSingleUser",t[0]);if(2===t?.length){const[d,p]=t;return h.A.format("dxChat-typingMessageTwoUsers",d,p)}if(3===t?.length){const[d,p,m]=t;return h.A.format("dxChat-typingMessageThreeUsers",d,p,m)}const s=t.slice(0,3).join(", ");return h.A.format("dxChat-typingMessageMultipleUsers",s)}_updateText(){var i;const t=this._getText();null===(i=this._$text)||void 0===i||i.text(t)}_processTypingUsersUpdating(i){const{typingUsers:t}=this.option();null!=i&&i.length&&null!=t&&t.length?this._updateText():null!=t&&t.length?this._renderContent():this._cleanContent()}_cleanContent(){this.$element().empty()}_optionChanged(i){const{name:t,previousValue:s}=i;"typingUsers"===t?this._processTypingUsersUpdating(s??[]):super._optionChanged(i)}},Ne=`.${Gt} .${At}`,Ve=class Le extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{allowUpdating:()=>!1,allowDeleting:()=>!1,isEditActionDisabled:()=>!1,items:[],currentUserId:"",showDayHeaders:!0,dayHeaderFormat:"shortdate",messageTimestampFormat:"shorttime",typingUsers:[],isLoading:!1,showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,messageTemplate:null})}_init(){super._init(),this._lastMessageDate=null}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-messagelist"),super._initMarkup(),this._renderScrollView(),this._renderMessageListContent(),this._toggleEmptyView(),this._renderMessageGroups(),this._renderTypingIndicator(),this._renderContextMenu(),this._updateAria(),this._scrollDownContent()}_renderContentImpl(){super._renderContentImpl(),this._attachResizeObserverSubscription()}_attachResizeObserverSubscription(){const i=this.$element().get(0);Ht.A.unobserve(i),Ht.A.observe(i,t=>this._resizeHandler(t))}_resizeHandler(i){let{contentRect:t,target:s}=i;if(!(0,Oe.A1)((0,C.A)(s))||!function we(r){var i;return!!r&&!!(r.offsetWidth||r.offsetHeight||null!==(i=r.getClientRects)&&void 0!==i&&i.call(r).length)}(s))return;const d=!(0,V.O9)(this._containerClientHeight),p=t.height;if(d)this._scrollDownContent();else{const m=this._containerClientHeight-p,D=m>0;let M=this._scrollView.scrollTop();D&&(M+=m,this._scrollView.scrollTo({top:M}))}this._containerClientHeight=p}_renderEmptyViewContent(){const i=(0,C.A)("<div>").addClass("dx-chat-messagelist-empty-view").attr("id",`dx-${new e.qM}`);(0,C.A)("<div>").appendTo(i).addClass("dx-chat-messagelist-empty-image");const t=h.A.format("dxChat-emptyListMessage");(0,C.A)("<div>").appendTo(i).addClass("dx-chat-messagelist-empty-message").text(t);const s=h.A.format("dxChat-emptyListPrompt");(0,C.A)("<div>").appendTo(i).addClass("dx-chat-messagelist-empty-prompt").text(s),i.appendTo(this._$content)}_renderTypingIndicator(){const{typingUsers:i}=this.option(),t=(0,C.A)("<div>").appendTo(this._$scrollViewContent());this._typingIndicator=this._createComponent(t,Ue,{typingUsers:i})}_isEmpty(){const{items:i}=this.option();return 0===i.length}_isCurrentUser(i){const{currentUserId:t}=this.option();return t===i}_messageGroupAlignment(i){return this._isCurrentUser(i)?"end":"start"}_createMessageGroupComponent(i,t){const{showAvatar:s,showUserName:d,showMessageTimestamp:p,messageTemplate:m,messageTimestampFormat:D}=this.option(),M=(0,C.A)("<div>").appendTo(this._$content);this._createComponent(M,Et,{items:i,alignment:this._messageGroupAlignment(t),showAvatar:s,showUserName:d,showMessageTimestamp:p,messageTemplate:m,messageTimestampFormat:D})}_getContextMenuButtons(i){const{allowUpdating:t,allowDeleting:s,isEditActionDisabled:d,onMessageEditingStart:p,onMessageDeleting:m}=this.option(),D=h.A.format("dxChat-editingEditMessage"),M=h.A.format("dxChat-editingDeleteMessage"),G=[];return t(i)&&"image"!==i.type&&G.push({icon:"edit",text:D,disabled:d(i),onClick:J=>{const X=p?.({event:J.event,message:i}),at=()=>{this._contextMenu.off("hidden",at),X?.()};this._contextMenu.on("hidden",at)}}),s(i)&&G.push({icon:"trash",text:M,onClick(J){m?.({event:J.event,message:i})}}),G}_renderContextMenu(){const i=(0,C.A)("<div>");this._contextMenu=this._createComponent(i,ye.Ay,{target:Ne,onShowing:t=>{this._onContextMenuShowing(t)},elementAttr:{class:"dx-messagelist-context-menu"},cssClass:"dx-messagelist-context-menu-content",hideOnParentScroll:!1,overlayContainer:this._scrollView.container(),visualContainer:this._scrollView.container(),boundaryOffset:{h:16}}),this._contextMenu.registerKeyHandler("escape",t=>{this._contextMenu.hide();const{onEscapeKeyPressed:s}=this.option();s?.(t)}),i.appendTo(this.$element())}_onContextMenuShowing(i){const{jQEvent:t}=i;if(!(0,V.O9)(t))return void(i.cancel=!0);const{currentTarget:s}=t,d=this._getMessageData(s);if(null!=d&&d.isDeleted)return void(i.cancel=!0);const p=this._getContextMenuButtons(d);p.length?(i.component.option("items",p),i.element.focus()):i.cancel=!0}_renderScrollView(){const i=(0,C.A)("<div>").appendTo(this.$element());this._scrollView=this._createComponent(i,be.Ay,{useKeyboard:!1,bounceEnabled:!1,reachBottomText:"",onReachBottom:ve.lQ})}_shouldAddDayHeader(i){const{showDayHeaders:t}=this.option();if(!t)return!1;const s=Ot.A.deserializeDate(i);return!(!(0,V.$P)(s)||isNaN(s.getTime())||Dt.A.sameDate(this._lastMessageDate,s))}_createDayHeader(i){const t=Ot.A.deserializeDate(i),s=new Date,d=new Date((new Date).setDate(s.getDate()-1)),{dayHeaderFormat:p}=this.option();this._lastMessageDate=t;let m=kt.A.format(t,p);Dt.A.sameDate(t,s)&&(m=`${h.A.format("Today")} ${m}`),Dt.A.sameDate(t,d)&&(m=`${h.A.format("Yesterday")} ${m}`),(0,C.A)("<div>").addClass("dx-chat-messagelist-day-header").text(m).appendTo(this._$content)}_updateLoadingState(i){this._scrollView&&(this.$element().toggleClass("dx-chat-messagelist-empty-loading",this._isEmpty()&&i),this._scrollView.release(!i))}_renderMessageListContent(){this._$content=(0,C.A)("<div>").addClass("dx-chat-messagelist-content").appendTo(this._$scrollViewContent())}_toggleEmptyView(){this._getEmptyView().remove();const{isLoading:i}=this.option();this.$element().toggleClass("dx-chat-messagelist-empty",this._isEmpty()&&!i).toggleClass("dx-chat-messagelist-empty-loading",this._isEmpty()&&i),this._isEmpty()&&!i&&(this._renderEmptyViewContent(),this._updateLoadingState(!1))}_renderMessageGroups(){var i;const{isLoading:t,items:s}=this.option();if(this._isEmpty()&&!t)return;let d=null===(i=s[0])||void 0===i||null===(i=i.author)||void 0===i?void 0:i.id,p=[];s.forEach((m,D)=>{var M;const G=m??{},J=null===(M=G.author)||void 0===M?void 0:M.id,X=this._shouldAddDayHeader(G.timestamp),at=this._isTimeoutExceeded(p[p.length-1]??{},m);(X&&p.length||at||J!==d)&&(this._createMessageGroupComponent(p,d),d=J,p=[]),p.push(G),X&&this._createDayHeader(m?.timestamp),s.length-1===D&&this._createMessageGroupComponent(p,d)}),this._setLastMessageGroupClasses(),this._updateLoadingState(t)}_setLastMessageGroupClasses(){this._$content.find(".dx-chat-last-messagegroup-alignment-start").removeClass("dx-chat-last-messagegroup-alignment-start"),this._$content.find(".dx-chat-last-messagegroup-alignment-end").removeClass("dx-chat-last-messagegroup-alignment-end");const i=this._$content.find(".dx-chat-messagegroup-alignment-start").last(),t=this._$content.find(`.${Gt}`).last();i.addClass("dx-chat-last-messagegroup-alignment-start"),t.addClass("dx-chat-last-messagegroup-alignment-end")}_getLastMessageGroup(){const i=this._$content.find(`.${Tt}`).last();if(i.length)return Et.getInstance(i)}_renderMessage(i){const{timestamp:t}=i;if(this._shouldAddDayHeader(t))return this._createDayHeader(t),void this._renderMessageIntoGroup(i);const d=this._getLastMessageGroup();if(!d)return void this._renderMessageIntoGroup(i);const p=this._getLastMessageGroupItem(d),m=this._isTimeoutExceeded(p,i);!this._isSameAuthor(i,p)||m?this._renderMessageIntoGroup(i):this._renderMessageIntoGroup(i,d)}_getLastMessageGroupItem(i){const{items:t}=i.option();return t[t.length-1]}_isSameAuthor(i,t){var s,d;return(null===(s=i.author)||void 0===s?void 0:s.id)===(null===(d=t.author)||void 0===d?void 0:d.id)}_renderMessageIntoGroup(i,t){const{author:s}=i;this._setIsReachedBottom(),t?t.renderMessage(i):(this._createMessageGroupComponent([i],s?.id),this._setLastMessageGroupClasses()),this._processScrollDownContent(this._isCurrentUser(s?.id))}_getMessageData(i){return(0,C.A)(i).data(Lt)}_findMessageElementByKey(i){const t=this.$element().find(`.${At}`);let s=(0,C.A)();return t.each((d,p)=>this._getMessageData(p).id!==i||(s=(0,C.A)(p),!1)),s}_getMessageGroupByBubbleElement(i){const t=i.closest(`.${Tt}`);return Et.getInstance(t)}_updateMessageByKey(i,t){if((0,V.O9)(i)){const s=this._findMessageElementByKey(i);if(Vt.getInstance(s).option(t),"image"!==t.type){const p=s.closest(`.${Tt}`);Et.getInstance(p)._updateMessageEditedText(s,!0===t.isEdited&&!t.isDeleted)}}}_removeMessageByKey(i){if(!i)return;const t=this._findMessageElementByKey(i);if(!t.length)return;const s=this._getMessageGroupByBubbleElement(t),{items:d}=s.option(),p=d.filter(m=>m.id!==i);if(0===p.length){const{showDayHeaders:m}=this.option();if(m){const D=s.$element().prev(),M=s.$element().next();D.length&&D.hasClass("dx-chat-messagelist-day-header")&&(M.length&&M.hasClass("dx-chat-messagelist-day-header")||!M.length)&&D.remove()}s.$element().remove()}else s.option("items",p);this._setLastMessageGroupClasses()}_scrollDownContent(){this._scrollView.scrollTo({top:(0,xe.p)(this._scrollableContainer())})}_scrollableContainer(){return(0,C.A)(this._scrollView.element()).find(".dx-scrollable-container").get(0)}_isMessageAddedToEnd(i,t){const s=i.length,d=t.length;return 0!==s&&(0===d?1===s:i[s-1]!==t[d-1]&&s-d==1)}_processItemsUpdating(i,t){this._isMessageAddedToEnd(i,t)?(this._toggleEmptyView(),this._renderMessage(i[i.length-1]??{})):this._invalidate()}_isTimeoutExceeded(i,t){const s=i?.timestamp,d=t?.timestamp;if(!s||!d)return!1;const p=Ot.A.deserializeDate(s);return Ot.A.deserializeDate(d)-p>3e5}_updateAria(){const i={role:"log",atomic:"false",label:h.A.format("dxChat-messageListAriaLabel"),live:"polite",relevant:"additions text"};this.setAria(i)}_setIsReachedBottom(){this._isBottomReached=!this._isContentOverflowing()||this._scrollView.isBottomReached()}_isContentOverflowing(){return(0,Bt.Oq)(this._scrollView.content())>(0,Bt.Oq)(this._scrollView.container())}_processScrollDownContent(){(this._isBottomReached||arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this._scrollDownContent(),this._isBottomReached=!1}_$scrollViewContent(){return(0,C.A)(this._scrollView.content())}_getEmptyView(){return this._$content.find(".dx-chat-messagelist-empty-view")}_dimensionChanged(){var i;null===(i=this._contextMenu)||void 0===i||i.hide()}_clean(){this._lastMessageDate=null,super._clean()}_modifyByChanges(i){i.forEach(t=>{switch(t.type){case"update":this._updateMessageByKey(t.key,t.data??{});break;case"insert":{const{items:s}=this.option();this.option("items",[...s,t.data??{}]);break}case"remove":this._removeMessageByKey(t.key)}})}_optionChanged(i){const{name:t,value:s,previousValue:d}=i;switch(t){case"currentUserId":case"showDayHeaders":case"showAvatar":case"showUserName":case"showMessageTimestamp":case"messageTemplate":case"dayHeaderFormat":case"messageTimestampFormat":this._invalidate();break;case"items":this._processItemsUpdating(s??[],d??[]);break;case"typingUsers":this._setIsReachedBottom(),this._typingIndicator.option(t,s),this._processScrollDownContent();break;case"isLoading":this._updateLoadingState(!!s);break;default:super._optionChanged(i)}}getEmptyViewId(){return this._isEmpty()?this._getEmptyView().attr("id")??null:null}};class wt extends pt.Ay{_getDefaultOptions(){return(0,k.A)({},super._getDefaultOptions(),{showDayHeaders:!0,activeStateEnabled:!0,editing:{allowUpdating:!1,allowDeleting:!1},focusStateEnabled:!0,hoverStateEnabled:!0,items:[],dataSource:null,user:{id:(new e.qM).toString()},dayHeaderFormat:"shortdate",messageTemplate:null,messageTimestampFormat:"shorttime",alerts:[],showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,typingUsers:[],onMessageEntered:void 0,reloadOnChange:!0,onTypingStart:void 0,onTypingEnd:void 0,onMessageEditingStart:void 0,onMessageEditCanceled:void 0,onMessageDeleting:void 0,onMessageDeleted:void 0})}_init(){super._init(),this._initDataController(),this._refreshDataSource(),this._createMessageEnteredAction(),this._createMessageEditingStartAction(),this._createMessageEditCanceledAction(),this._createMessageDeletingAction(),this._createMessageDeletedAction(),this._createMessageUpdatingAction(),this._createMessageUpdatedAction(),this._createTypingStartAction(),this._createTypingEndAction()}_dataSourceLoadErrorHandler(){this.option("items",[])}_dataSourceChangedHandler(i,t){null!=t&&t.changes?(this._messageList._modifyByChanges(t.changes),this._setOptionWithoutOptionChange("items",i.slice()),this._messageList._setOptionWithoutOptionChange("items",i.slice()),this._messageList._toggleEmptyView()):this.option("items",i.slice())}_dataSourceLoadingChangedHandler(i){var t;null===(t=this._messageList)||void 0===t||t.option("isLoading",i)}_dataSourceOptions(){return{paginate:!1}}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat"),super._initMarkup(),this._renderMessageList(),this._renderAlertList(),this._renderMessageBox(),this._updateRootAria(),this._updateMessageBoxAria()}_renderMessageList(){const i=(0,C.A)("<div>");this.$element().append(i),this._messageList=this._createComponent(i,Ve,this._getMessageListOptions())}_getMessageListOptions(){const{items:i=[],user:t,showDayHeaders:s=!1,showAvatar:d=!1,showUserName:p=!1,showMessageTimestamp:m=!1,dayHeaderFormat:D,messageTimestampFormat:M,typingUsers:G=[]}=this.option(),J=this._dataController.isLoading(),X=t?.id;return{items:i,currentUserId:X,allowUpdating:Z=>this._allowEditAction(Z),allowDeleting:Z=>this._allowDeleteAction(Z),isEditActionDisabled:Z=>this._messageToEdit===Z,messageTemplate:this._getMessageTemplate(),showDayHeaders:s,showAvatar:d,showUserName:p,showMessageTimestamp:m,dayHeaderFormat:D,messageTimestampFormat:M,typingUsers:G,isLoading:J,onMessageEditingStart:Z=>(this._messageEditingStartHandler(Z),()=>this.focus()),onMessageDeleting:Z=>{this._messageDeletingHandler(Z)},onEscapeKeyPressed:()=>{this.focus()}}}_allowEditAction(i){const{editing:t}=this.option();if(!t)return!1;const{allowUpdating:s}=t;return"function"==typeof s?s({component:this,message:i}):s??!1}_allowDeleteAction(i){const{editing:t}=this.option();if(!t)return!1;const{allowDeleting:s}=t;return"function"==typeof s?s({component:this,message:i}):s??!1}_getMessageTemplate(){const{messageTemplate:i}=this.option();return i?(t,s)=>{this._getTemplateByOption("messageTemplate").render({container:s,model:{component:this,message:t}})}:null}_messageEditingStartHandler(i){var t,s;this._messageToEdit&&(null===(s=this._messageEditCanceledAction)||void 0===s||s.call(this,{message:this._messageToEdit}));const d={message:i.message,cancel:!1};null===(t=this._messageEditingStartAction)||void 0===t||t.call(this,d),yt(d.cancel,()=>{this._messageBox.option("text",i.message.text),this._messageToEdit=i.message})}_messageEditCanceledHandler(){var i;this._messageToEdit&&(null===(i=this._messageEditCanceledAction)||void 0===i||i.call(this,{message:this._messageToEdit}),this._messageToEdit=void 0)}_showDeleteConfirmationPopup(i){this._messageToDelete=i.message,this._deleteConfirmationPopup||(this._deleteConfirmationPopup=new ge(this.$element(),{onApplyButtonClick:()=>{var t,s;this._messageToEdit===this._messageToDelete&&(this._messageBox.option("text",""),null===(s=this._messageEditCanceledAction)||void 0===s||s.call(this,{message:this._messageToEdit}),this._messageToEdit=void 0),null===(t=this._messageDeletedAction)||void 0===t||t.call(this,{message:this._messageToDelete})},rtlEnabled:this.option().rtlEnabled,onHidden:()=>{this._messageToDelete=void 0,this._focusTarget()[0].focus()}})),this._deleteConfirmationPopup.show()}_messageDeletingHandler(i){var t;const{message:s}=i,d={message:s,cancel:!1};null===(t=this._messageDeletingAction)||void 0===t||t.call(this,d),yt(d.cancel,()=>{this._showDeleteConfirmationPopup(d)})}_messageUpdatingHandler(i){var t;const{text:s}=i,d={message:this._messageToEdit,text:s,cancel:!1};null===(t=this._messageUpdatingAction)||void 0===t||t.call(this,d),yt(d.cancel,()=>{var p;this._messageBox.option("text",""),null===(p=this._messageUpdatedAction)||void 0===p||p.call(this,d),this._messageToEdit=void 0})}_renderAlertList(){const i=(0,C.A)("<div>");this.$element().append(i);const{alerts:t=[]}=this.option();this._alertList=this._createComponent(i,ie,{items:t})}_renderMessageBox(){const{activeStateEnabled:i,focusStateEnabled:t,hoverStateEnabled:s}=this.option(),d=(0,C.A)("<div>");this.$element().append(d),this._messageBox=this._createComponent(d,Ce,{activeStateEnabled:i,focusStateEnabled:t,hoverStateEnabled:s,onMessageEntered:m=>{this._messageEnteredHandler(m)},onTypingStart:m=>{this._typingStartHandler(m)},onTypingEnd:()=>{this._typingEndHandler()},onMessageEditCanceled:()=>{this._messageEditCanceledHandler()},onMessageUpdating:m=>{this._messageUpdatingHandler(m)}})}_updateRootAria(){const i={role:"group",label:h.A.format("dxChat-elementAriaLabel")};this.setAria(i,this.$element())}_updateMessageBoxAria(){const i=this._messageList.getEmptyViewId();this._messageBox.updateInputAria(i)}_createMessageEnteredAction(){this._messageEnteredAction=this._createActionByOption("onMessageEntered",{excludeValidators:["disabled"]})}_createMessageEditingStartAction(){this._messageEditingStartAction=this._createActionByOption("onMessageEditingStart",{excludeValidators:["disabled"]})}_createMessageEditCanceledAction(){this._messageEditCanceledAction=this._createActionByOption("onMessageEditCanceled",{excludeValidators:["disabled"]})}_createMessageDeletingAction(){this._messageDeletingAction=this._createActionByOption("onMessageDeleting",{excludeValidators:["disabled"]})}_createMessageDeletedAction(){this._messageDeletedAction=this._createActionByOption("onMessageDeleted",{excludeValidators:["disabled"]})}_createMessageUpdatingAction(){this._messageUpdatingAction=this._createActionByOption("onMessageUpdating",{excludeValidators:["disabled"]})}_createMessageUpdatedAction(){this._messageUpdatedAction=this._createActionByOption("onMessageUpdated",{excludeValidators:["disabled"]})}_createTypingStartAction(){this._typingStartAction=this._createActionByOption("onTypingStart",{excludeValidators:["disabled"]})}_createTypingEndAction(){this._typingEndAction=this._createActionByOption("onTypingEnd",{excludeValidators:["disabled"]})}_messageEnteredHandler(i){var t;const{text:s,event:d}=i,{user:p}=this.option(),m={timestamp:new Date,author:p,text:s},D=this.getDataSource();(0,V.O9)(D)&&D.store().insert(m).done(()=>{const{reloadOnChange:M}=this.option();M&&D.reload()}),null===(t=this._messageEnteredAction)||void 0===t||t.call(this,{message:m,event:d})}_typingStartHandler(i){var t;const{event:s}=i,{user:d}=this.option();null===(t=this._typingStartAction)||void 0===t||t.call(this,{user:d,event:s})}_typingEndHandler(){var i;const{user:t}=this.option();null===(i=this._typingEndAction)||void 0===i||i.call(this,{user:t})}_focusTarget(){return(0,C.A)(this.element()).find(".dx-texteditor-input")}_optionChanged(i){const{name:t,value:s}=i;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":this._messageBox.option(t,s);break;case"user":{const d=s;this._messageList.option("currentUserId",d?.id);break}case"editing":case"reloadOnChange":break;case"items":this._messageList.option(t,this.option("items")),this._updateMessageBoxAria();break;case"dataSource":this._refreshDataSource();break;case"alerts":this._alertList.option("items",s??[]);break;case"onMessageEntered":this._createMessageEnteredAction();break;case"onMessageUpdating":case"onMessageUpdated":case"onMessageEditCanceled":this._createMessageEditCanceledAction();break;case"onMessageEditingStart":this._createMessageEditingStartAction();break;case"onMessageDeleting":this._createMessageDeletingAction();break;case"onMessageDeleted":this._createMessageDeletedAction();break;case"onTypingStart":this._createTypingStartAction();break;case"onTypingEnd":this._createTypingEndAction();break;case"showDayHeaders":case"showAvatar":case"showUserName":case"showMessageTimestamp":this._messageList.option(t,!!s);break;case"dayHeaderFormat":case"messageTimestampFormat":case"typingUsers":this._messageList.option(t,s);break;case"messageTemplate":this._messageList.option(t,this._getMessageTemplate());break;default:super._optionChanged(i)}}_insertNewItem(i){const{items:t}=this.option(),s=[...t??[],i];this.option("items",s)}renderMessage(){this._insertNewItem(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}_dispose(){var i;null===(i=this._deleteConfirmationPopup)||void 0===i||i.dispose(),super._dispose()}}wt.include(ft.A),(0,R.A)("dxChat",wt);const Ge=wt;var S=c(5245);let zt=(()=>{class r extends S.l9{get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get message(){return this._getOption("message")}set message(t){this._setOption("message",t)}get _optionPath(){return"alerts"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxi-chat-alert"]],inputs:{id:"id",message:"message"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),jt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[zt]})}return r})(),ze=(()=>{class r extends S.t${get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"author"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxo-chat-author"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),Kt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[ze]})}return r})(),je=(()=>{class r extends S.t${get currency(){return this._getOption("currency")}set currency(t){this._setOption("currency",t)}get formatter(){return this._getOption("formatter")}set formatter(t){this._setOption("formatter",t)}get parser(){return this._getOption("parser")}set parser(t){this._setOption("parser",t)}get precision(){return this._getOption("precision")}set precision(t){this._setOption("precision",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(t){this._setOption("useCurrencyAccountingStyle",t)}get _optionPath(){return"dayHeaderFormat"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxo-chat-day-header-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),Xt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[je]})}return r})(),Ke=(()=>{class r extends S.t${get allowDeleting(){return this._getOption("allowDeleting")}set allowDeleting(t){this._setOption("allowDeleting",t)}get allowUpdating(){return this._getOption("allowUpdating")}set allowUpdating(t){this._setOption("allowUpdating",t)}get _optionPath(){return"editing"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxo-chat-editing"]],inputs:{allowDeleting:"allowDeleting",allowUpdating:"allowUpdating"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),Wt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[Ke]})}return r})(),Yt=(()=>{class r extends S.l9{get alt(){return this._getOption("alt")}set alt(t){this._setOption("alt",t)}get author(){return this._getOption("author")}set author(t){this._setOption("author",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get isDeleted(){return this._getOption("isDeleted")}set isDeleted(t){this._setOption("isDeleted",t)}get isEdited(){return this._getOption("isEdited")}set isEdited(t){this._setOption("isEdited",t)}get src(){return this._getOption("src")}set src(t){this._setOption("src",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get timestamp(){return this._getOption("timestamp")}set timestamp(t){this._setOption("timestamp",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get _optionPath(){return"items"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxi-chat-item"]],inputs:{alt:"alt",author:"author",id:"id",isDeleted:"isDeleted",isEdited:"isEdited",src:"src",text:"text",timestamp:"timestamp",type:"type"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),Jt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[Yt]})}return r})(),Xe=(()=>{class r extends S.t${get currency(){return this._getOption("currency")}set currency(t){this._setOption("currency",t)}get formatter(){return this._getOption("formatter")}set formatter(t){this._setOption("formatter",t)}get parser(){return this._getOption("parser")}set parser(t){this._setOption("parser",t)}get precision(){return this._getOption("precision")}set precision(t){this._setOption("precision",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(t){this._setOption("useCurrencyAccountingStyle",t)}get _optionPath(){return"messageTimestampFormat"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxo-chat-message-timestamp-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),Qt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[Xe]})}return r})(),Zt=(()=>{class r extends S.l9{get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"typingUsers"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxi-chat-typing-user"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),qt=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[Zt]})}return r})(),We=(()=>{class r extends S.t${get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"user"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||r)(n.rXU(S.fH,5),n.rXU(S.fH,1))};static \u0275cmp=n.VBU({type:r,selectors:[["dxo-chat-user"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[n.Jv_([S.fH]),n.Vt3,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_]})}return r})(),te=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[We]})}return r})(),Ye=(()=>{class r extends S.ic{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get alerts(){return this._getOption("alerts")}set alerts(t){this._setOption("alerts",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get dayHeaderFormat(){return this._getOption("dayHeaderFormat")}set dayHeaderFormat(t){this._setOption("dayHeaderFormat",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get editing(){return this._getOption("editing")}set editing(t){this._setOption("editing",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get messageTemplate(){return this._getOption("messageTemplate")}set messageTemplate(t){this._setOption("messageTemplate",t)}get messageTimestampFormat(){return this._getOption("messageTimestampFormat")}set messageTimestampFormat(t){this._setOption("messageTimestampFormat",t)}get reloadOnChange(){return this._getOption("reloadOnChange")}set reloadOnChange(t){this._setOption("reloadOnChange",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get showAvatar(){return this._getOption("showAvatar")}set showAvatar(t){this._setOption("showAvatar",t)}get showDayHeaders(){return this._getOption("showDayHeaders")}set showDayHeaders(t){this._setOption("showDayHeaders",t)}get showMessageTimestamp(){return this._getOption("showMessageTimestamp")}set showMessageTimestamp(t){this._setOption("showMessageTimestamp",t)}get showUserName(){return this._getOption("showUserName")}set showUserName(t){this._setOption("showUserName",t)}get typingUsers(){return this._getOption("typingUsers")}set typingUsers(t){this._setOption("typingUsers",t)}get user(){return this._getOption("user")}set user(t){this._setOption("user",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}onDisposing;onInitialized;onMessageDeleted;onMessageDeleting;onMessageEditCanceled;onMessageEditingStart;onMessageEntered;onMessageUpdated;onMessageUpdating;onOptionChanged;onTypingEnd;onTypingStart;accessKeyChange;activeStateEnabledChange;alertsChange;dataSourceChange;dayHeaderFormatChange;disabledChange;editingChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;itemsChange;messageTemplateChange;messageTimestampFormatChange;reloadOnChangeChange;rtlEnabledChange;showAvatarChange;showDayHeadersChange;showMessageTimestampChange;showUserNameChange;typingUsersChange;userChange;visibleChange;widthChange;get alertsChildren(){return this._getOption("alerts")}set alertsChildren(t){this._setChildren("alerts",t,"DxiChatAlertComponent")}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this._setChildren("items",t,"DxiChatItemComponent")}get typingUsersChildren(){return this._getOption("typingUsers")}set typingUsersChildren(t){this._setChildren("typingUsers",t,"DxiChatTypingUserComponent")}get alertsLegacyChildren(){return this._getOption("alerts")}set alertsLegacyChildren(t){this._setChildren("alerts",t,"DxiAlertComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(t){this._setChildren("items",t,"DxiItemComponent")}get typingUsersLegacyChildren(){return this._getOption("typingUsers")}set typingUsersLegacyChildren(t){this._setChildren("typingUsers",t,"DxiTypingUserComponent")}constructor(t,s,d,p,m,D,M,G){super(t,s,d,p,M,G),this._watcherHelper=p,this._idh=m,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"messageDeleted",emit:"onMessageDeleted"},{subscribe:"messageDeleting",emit:"onMessageDeleting"},{subscribe:"messageEditCanceled",emit:"onMessageEditCanceled"},{subscribe:"messageEditingStart",emit:"onMessageEditingStart"},{subscribe:"messageEntered",emit:"onMessageEntered"},{subscribe:"messageUpdated",emit:"onMessageUpdated"},{subscribe:"messageUpdating",emit:"onMessageUpdating"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"typingEnd",emit:"onTypingEnd"},{subscribe:"typingStart",emit:"onTypingStart"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"alertsChange"},{emit:"dataSourceChange"},{emit:"dayHeaderFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemsChange"},{emit:"messageTemplateChange"},{emit:"messageTimestampFormatChange"},{emit:"reloadOnChangeChange"},{emit:"rtlEnabledChange"},{emit:"showAvatarChange"},{emit:"showDayHeadersChange"},{emit:"showMessageTimestampChange"},{emit:"showUserNameChange"},{emit:"typingUsersChange"},{emit:"userChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),D.setHost(this)}_createInstance(t,s){return new Ge(t,s)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("alerts",t),this.setupChanges("dataSource",t),this.setupChanges("items",t),this.setupChanges("typingUsers",t)}setupChanges(t,s){t in this._optionsToUpdate||this._idh.setup(t,s)}ngDoCheck(){this._idh.doCheck("alerts"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("typingUsers"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,s){let d=this._idh.setupSingle(t,s),p=null!==this._idh.getChanges(t,s);(d||p)&&super._setOption(t,s)}static \u0275fac=function(s){return new(s||r)(n.rXU(n.aKT),n.rXU(n.SKi),n.rXU(S.zF),n.rXU(S.jS),n.rXU(S.$M),n.rXU(S.fH),n.rXU(n.pJN),n.rXU(n.Agw))};static \u0275cmp=n.VBU({type:r,selectors:[["dx-chat"]],contentQueries:function(s,d,p){if(1&s&&(n.wni(p,zt,4),n.wni(p,Yt,4),n.wni(p,Zt,4),n.wni(p,O.Lh0,4),n.wni(p,O.CVf,4),n.wni(p,O.PcF,4)),2&s){let m;n.mGM(m=n.lsd())&&(d.alertsChildren=m),n.mGM(m=n.lsd())&&(d.itemsChildren=m),n.mGM(m=n.lsd())&&(d.typingUsersChildren=m),n.mGM(m=n.lsd())&&(d.alertsLegacyChildren=m),n.mGM(m=n.lsd())&&(d.itemsLegacyChildren=m),n.mGM(m=n.lsd())&&(d.typingUsersLegacyChildren=m)}},hostAttrs:["ngSkipHydration","true"],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",alerts:"alerts",dataSource:"dataSource",dayHeaderFormat:"dayHeaderFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",items:"items",messageTemplate:"messageTemplate",messageTimestampFormat:"messageTimestampFormat",reloadOnChange:"reloadOnChange",rtlEnabled:"rtlEnabled",showAvatar:"showAvatar",showDayHeaders:"showDayHeaders",showMessageTimestamp:"showMessageTimestamp",showUserName:"showUserName",typingUsers:"typingUsers",user:"user",visible:"visible",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onMessageDeleted:"onMessageDeleted",onMessageDeleting:"onMessageDeleting",onMessageEditCanceled:"onMessageEditCanceled",onMessageEditingStart:"onMessageEditingStart",onMessageEntered:"onMessageEntered",onMessageUpdated:"onMessageUpdated",onMessageUpdating:"onMessageUpdating",onOptionChanged:"onOptionChanged",onTypingEnd:"onTypingEnd",onTypingStart:"onTypingStart",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",alertsChange:"alertsChange",dataSourceChange:"dataSourceChange",dayHeaderFormatChange:"dayHeaderFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemsChange:"itemsChange",messageTemplateChange:"messageTemplateChange",messageTimestampFormatChange:"messageTimestampFormatChange",reloadOnChangeChange:"reloadOnChangeChange",rtlEnabledChange:"rtlEnabledChange",showAvatarChange:"showAvatarChange",showDayHeadersChange:"showDayHeadersChange",showMessageTimestampChange:"showMessageTimestampChange",showUserNameChange:"showUserNameChange",typingUsersChange:"typingUsersChange",userChange:"userChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[n.Jv_([S.zF,S.jS,S.fH,S.$M]),n.Vt3,n.OA$,n.aNF],decls:0,vars:0,template:function(s,d){},dependencies:[S.p_],encapsulation:2})}return r})(),Je=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({imports:[Ye,O.a5Y,O.qBA,O.aJg,O.POb,O.hKy,O.Elh,O.qiQ,O.X9X,jt,Kt,Xt,Wt,Jt,Qt,qt,te,S.p_,S.xZ,O.a5Y,O.qBA,O.aJg,O.POb,O.hKy,O.Elh,O.qiQ,O.X9X,jt,Kt,Xt,Wt,Jt,Qt,qt,te,S.xZ]})}return r})();var Qe=c(5955),Ze=c(9417);let qe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=n.$C({type:r})}static{this.\u0275inj=n.G2t({imports:[a.MD,ot,$.N8$,z.L,v.S,g.RE,Qe.ReportsModule,P.i,l.Rg,Je,Ze.X1]})}}return r})()},5955:(ct,j,c)=>{c.r(j),c.d(j,{ReportsModule:()=>mt});var a=c(177),A=c(9417),n=c(6511),u=c(1297),b=c(5506),H=c(2517),$=c(6382),O=c(2183),B=c(7468),x=c(7673),y=c(9437),o=c(4438),K=c(4493),Y=c(5993),q=c(5794),N=c(1063);function Q(w,tt){if(1&w&&(o.j41(0,"option",37),o.EFF(1),o.k0s()),2&w){const f=tt.$implicit;o.Y8G("value",f.id),o.R7$(),o.JRh(f.name)}}function et(w,tt){1&w&&(o.j41(0,"div",38)(1,"p"),o.EFF(2,"Loading reports..."),o.k0s()())}let T=(()=>{class w{constructor(f,F,_){this.salesService=f,this.inventoryService=F,this.toastr=_,this.loading=!1,this.rawDailyData=[],this.rawMonthlyData=[],this.rawTopProducts=[],this.rawLowStockProducts=[],this.rawCategorySales=[],this.rawTopCustomers=[],this.dailyData=[],this.monthlyData=[],this.topProducts=[],this.lowStockProducts=[],this.categorySales=[],this.topCustomers=[],this.categories=[],this.summary={},this.filterForm={startDate:new Date((new Date).setDate((new Date).getDate()-30)),endDate:new Date,categoryId:""}}ngOnInit(){this.loadCategories(),this.loadReports()}loadCategories(){this.inventoryService.getCategories().subscribe({next:f=>{this.categories=f.filter(F=>F.is_enabled)},error:()=>this.toastr.error("Failed to load categories")})}loadReports(){this.loading=!0,(0,B.p)({dashboard:this.salesService.getDashboardReport().pipe((0,y.W)(f=>(console.error("\u274c Failed to load dashboard report",f),(0,x.of)({data:{dailySales:[],monthlySales:[],topProducts:[],lowStockProducts:[],categorySales:[],topCustomers:[],summary:{}}}))))}).subscribe({next:f=>{const F=f.dashboard.data;F.topProducts.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0,_.avg_selling_price=Number(_.avg_selling_price)||0,_.unit_price=Number(_.unit_price)||0,_.stock_quantity=Number(_.stock_quantity)||0,_.total_sold=Number(_.total_sold)||0}),F.lowStockProducts.forEach(_=>{_.stock_quantity=Number(_.stock_quantity)||0,_.low_stock_threshold=Number(_.low_stock_threshold)||0,_.unit_price=Number(_.unit_price)||0}),F.categorySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0,_.total_quantity_sold=Number(_.total_quantity_sold)||0}),F.dailySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0}),F.monthlySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0}),this.rawDailyData=F.dailySales||[],this.rawMonthlyData=F.monthlySales||[],this.rawTopProducts=F.topProducts||[],this.rawLowStockProducts=F.lowStockProducts||[],this.rawCategorySales=F.categorySales||[],this.rawTopCustomers=F.topCustomers||[],this.summary=F.summary||{},this.applyFilters(),this.loading=!1},error:f=>{console.error("\u274c Error loading dashboard reports:",f),this.loading=!1}})}onFilterChange(){this.applyFilters()}applyFilters(){const f=this.filterForm.categoryId,F=new Date(this.filterForm.startDate),_=new Date(this.filterForm.endDate);this.topProducts=this.rawTopProducts.filter(I=>!f||I.category_id===+f),this.lowStockProducts=this.rawLowStockProducts.filter(I=>!f||I.category_id===+f),this.categorySales=this.rawCategorySales.filter(I=>!f||I.category_id===+f),this.topCustomers=this.rawTopCustomers,this.dailyData=this.rawDailyData.filter(I=>{const E=new Date(I.date),st=!f||(I.products||[]).some(L=>L.category_id===+f);return E>=F&&E<=_&&st}).map(I=>{if(f){const E=(I.products||[]).filter(L=>L.category_id===+f).reduce((L,ot)=>L+(ot.total_revenue||0),0),st=(I.products||[]).filter(L=>L.category_id===+f).reduce((L,ot)=>L+(ot.total_profit||0),0);return{...I,total_revenue:E,total_profit:st}}return I}),this.monthlyData=this.rawMonthlyData.filter(I=>{const E=new Date(I.month),st=!f||(I.products||[]).some(L=>L.category_id===+f);return E>=F&&E<=_&&st}).map(I=>{if(f){const E=(I.products||[]).filter(L=>L.category_id===+f).reduce((L,ot)=>L+(ot.total_revenue||0),0),st=(I.products||[]).filter(L=>L.category_id===+f).reduce((L,ot)=>L+(ot.total_profit||0),0);return{...I,total_revenue:E,total_profit:st}}return I}),this.summary.totalProducts=this.rawTopProducts.length,this.summary.totalInventoryValue=this.rawTopProducts.reduce((I,E)=>I+(E.stock_quantity||0)*(E.unit_price||0),0),this.summary.totalSales=this.rawTopProducts.reduce((I,E)=>I+(E.total_revenue||0),0),this.summary.totalProfit=this.rawTopProducts.reduce((I,E)=>I+(E.total_profit||0),0),this.summary.avgSellingPrice=this.rawTopProducts.length?this.rawTopProducts.reduce((I,E)=>I+(E.avg_selling_price||0),0)/this.rawTopProducts.length:0}formatProductWithUnit(f){return`${f.product_name} (${f.unit_name||"-"})`}exportCSV(){this.toastr.info("Export CSV functionality not implemented yet.")}exportPDF(){this.toastr.info("Export PDF functionality not implemented yet.")}static{this.\u0275fac=function(F){return new(F||w)(o.rXU(K.w),o.rXU(Y.c),o.rXU(q.tw))}}static{this.\u0275cmp=o.VBU({type:w,selectors:[["app-reports"]],decls:103,vars:45,consts:[[1,"reports-container"],[1,"page-title"],[1,"summary-cards"],[1,"card","metric"],[1,"filters"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",3,"ngModelChange","change","ngModel"],["text","Export CSV","type","default",3,"onClick"],["text","Export PDF","type","default",3,"onClick"],[1,"table-card"],[3,"dataSource","columnAutoWidth","columnHidingEnabled","showBorders"],["caption","Product",3,"calculateDisplayValue"],["dataField","total_sold","caption","Total Sold"],["dataField","avg_selling_price","caption","Avg Price","dataType","number","format","#,##0.00"],["dataField","total_revenue","caption","Revenue","dataType","number","format","#,##0.00"],["dataField","total_profit","caption","Profit","dataType","number","format","#,##0.00"],["dataField","category_name","caption","Category"],[3,"dataSource","columnHidingEnabled","columnAutoWidth","showBorders"],["dataField","stock_quantity","caption","Quantity"],["dataField","low_stock_threshold","caption","Threshold"],["dataField","unit_price","caption","Unit Price","dataType","number","format","#,##0.00"],[3,"dataSource","columnAutoWidth","showBorders"],["dataField","total_quantity_sold","caption","Total Sold"],["dataField","customer_name","caption","Customer"],["dataField","total_orders","caption","Orders"],["dataField","total_spent","caption","Total Spent","dataType","number","format","#,##0.00"],[1,"chart-card"],[3,"dataSource"],["argumentField","date","valueField","total_revenue","type","line","name","Revenue"],["argumentField","date","valueField","total_profit","type","line","name","Profit","color","#4caf50"],["argumentType","datetime"],["location","edge",3,"enabled","shared"],["argumentField","month","valueField","total_revenue","type","bar","name","Revenue"],["argumentField","month","valueField","total_profit","type","bar","name","Profit","color","#4caf50"],["class","loading-overlay",4,"ngIf"],[3,"value"],[1,"loading-overlay"]],template:function(F,_){1&F&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"Vet-Dommie AgroVet Reports"),o.k0s(),o.j41(3,"div",2)(4,"div",3)(5,"h4"),o.EFF(6,"Total Products"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",3)(10,"h4"),o.EFF(11,"Inventory Value"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.nI1(14,"currency"),o.k0s()(),o.j41(15,"div",3)(16,"h4"),o.EFF(17,"Low Stock Items"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",3)(21,"h4"),o.EFF(22,"Total Sales"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.nI1(25,"currency"),o.k0s()(),o.j41(26,"div",3)(27,"h4"),o.EFF(28,"Total Profit"),o.k0s(),o.j41(29,"p"),o.EFF(30),o.nI1(31,"currency"),o.k0s()(),o.j41(32,"div",3)(33,"h4"),o.EFF(34,"Average Selling Price"),o.k0s(),o.j41(35,"p"),o.EFF(36),o.nI1(37,"currency"),o.k0s()()(),o.j41(38,"div",4)(39,"label"),o.EFF(40," Category: "),o.j41(41,"select",5),o.mxI("ngModelChange",function(E){return o.DH7(_.filterForm.categoryId,E)||(_.filterForm.categoryId=E),E}),o.bIt("change",function(){return _.onFilterChange()}),o.j41(42,"option",6),o.EFF(43,"All"),o.k0s(),o.DNE(44,Q,2,2,"option",7),o.k0s()(),o.j41(45,"label"),o.EFF(46," Start Date: "),o.j41(47,"input",8),o.mxI("ngModelChange",function(E){return o.DH7(_.filterForm.startDate,E)||(_.filterForm.startDate=E),E}),o.bIt("change",function(){return _.onFilterChange()}),o.k0s()(),o.j41(48,"label"),o.EFF(49," End Date: "),o.j41(50,"input",8),o.mxI("ngModelChange",function(E){return o.DH7(_.filterForm.endDate,E)||(_.filterForm.endDate=E),E}),o.bIt("change",function(){return _.onFilterChange()}),o.k0s()(),o.j41(51,"dx-button",9),o.bIt("onClick",function(){return _.exportCSV()}),o.k0s(),o.j41(52,"dx-button",10),o.bIt("onClick",function(){return _.exportPDF()}),o.k0s()(),o.j41(53,"div",11)(54,"h3"),o.EFF(55,"Top Selling Products"),o.k0s(),o.j41(56,"dx-data-grid",12),o.nrm(57,"dxi-column",13)(58,"dxi-column",14)(59,"dxi-column",15)(60,"dxi-column",16)(61,"dxi-column",17)(62,"dxi-column",18),o.k0s()(),o.j41(63,"div",11)(64,"h3"),o.EFF(65,"Low Stock Products (Below Threshold)"),o.k0s(),o.j41(66,"dx-data-grid",19),o.nrm(67,"dxi-column",13)(68,"dxi-column",20)(69,"dxi-column",21)(70,"dxi-column",22)(71,"dxi-column",18),o.k0s()(),o.j41(72,"div",11)(73,"h3"),o.EFF(74,"Sales by Category"),o.k0s(),o.j41(75,"dx-data-grid",23),o.nrm(76,"dxi-column",18)(77,"dxi-column",24)(78,"dxi-column",16)(79,"dxi-column",17),o.k0s()(),o.j41(80,"div",11)(81,"h3"),o.EFF(82,"Top Customers"),o.k0s(),o.j41(83,"dx-data-grid",23),o.nrm(84,"dxi-column",25)(85,"dxi-column",26)(86,"dxi-column",27),o.k0s()(),o.j41(87,"div",28)(88,"h3"),o.EFF(89,"Daily Sales (Last 30 Days)"),o.k0s(),o.j41(90,"dx-chart",29),o.nrm(91,"dxi-series",30)(92,"dxi-series",31)(93,"dxo-argument-axis",32)(94,"dxo-tooltip",33),o.k0s()(),o.j41(95,"div",28)(96,"h3"),o.EFF(97,"Monthly Sales (Last 12 Months)"),o.k0s(),o.j41(98,"dx-chart",29),o.nrm(99,"dxi-series",34)(100,"dxi-series",35)(101,"dxo-tooltip",33),o.k0s()(),o.DNE(102,et,3,0,"div",36),o.k0s()),2&F&&(o.R7$(8),o.JRh(_.summary.totalProducts||0),o.R7$(5),o.JRh(o.i5U(14,33,_.summary.totalInventoryValue,"KSh.")),o.R7$(6),o.JRh(_.lowStockProducts.length||0),o.R7$(5),o.JRh(o.i5U(25,36,_.summary.totalSales,"KSh.")),o.R7$(6),o.JRh(o.i5U(31,39,_.summary.totalProfit,"KSh.")),o.R7$(6),o.JRh(o.i5U(37,42,_.summary.avgSellingPrice,"KSh.")),o.R7$(5),o.R50("ngModel",_.filterForm.categoryId),o.R7$(3),o.Y8G("ngForOf",_.categories),o.R7$(3),o.R50("ngModel",_.filterForm.startDate),o.R7$(3),o.R50("ngModel",_.filterForm.endDate),o.R7$(6),o.Y8G("dataSource",_.topProducts)("columnAutoWidth",!0)("columnHidingEnabled",!0)("showBorders",!0),o.R7$(),o.Y8G("calculateDisplayValue",_.formatProductWithUnit.bind(_)),o.R7$(9),o.Y8G("dataSource",_.lowStockProducts)("columnHidingEnabled",!0)("columnAutoWidth",!0)("showBorders",!0),o.R7$(),o.Y8G("calculateDisplayValue",_.formatProductWithUnit.bind(_)),o.R7$(8),o.Y8G("dataSource",_.categorySales)("columnAutoWidth",!0)("showBorders",!0),o.R7$(8),o.Y8G("dataSource",_.topCustomers)("columnAutoWidth",!0)("showBorders",!0),o.R7$(7),o.Y8G("dataSource",_.dailyData),o.R7$(4),o.Y8G("enabled",!0)("shared",!0),o.R7$(4),o.Y8G("dataSource",_.monthlyData),o.R7$(3),o.Y8G("enabled",!0)("shared",!0),o.R7$(),o.Y8G("ngIf",_.loading))},dependencies:[a.Sq,a.bT,A.xH,A.y7,A.me,A.wz,A.BC,A.vS,n.sjL,N.nj_,b.e,H.if6,N.XuG,N.mEX,N.Qx,a.oe],styles:[".reports-container[_ngcontent-%COMP%]{padding:1rem;margin:0 auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333}.page-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:1.5rem;color:#2e7d32;text-align:center}.summary-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;justify-content:center}.card.metric[_ngcontent-%COMP%]{flex:1 1 200px;background-color:#f1f8e9;border-radius:8px;padding:1rem;text-align:center;box-shadow:0 2px 6px #0000001a;transition:transform .2s ease}.card.metric[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.card.metric[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:#558b2f}.card.metric[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin:0}.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:2rem;justify-content:center;align-items:center}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem;color:#555}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{margin-top:.3rem;padding:.4rem .6rem;border-radius:4px;border:1px solid #ccc;font-size:.9rem}.table-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin-bottom:2rem;box-shadow:0 2px 6px #00000014}.table-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#2e7d32;margin-bottom:1rem}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin-bottom:2rem;box-shadow:0 2px 6px #00000014}.chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#2e7d32;margin-bottom:1rem}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffb3;display:flex;justify-content:center;align-items:center;font-size:1.2rem;font-weight:600;color:#2e7d32}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem}.table-card[_ngcontent-%COMP%], .chart-card[_ngcontent-%COMP%]{padding:.8rem}}"]})}}return w})();function U(w,tt){1&w&&(o.j41(0,"div",8),o.nrm(1,"div",9),o.k0s())}function W(w,tt){if(1&w&&(o.j41(0,"div",10)(1,"h3",11),o.EFF(2,"Daily Sales Summary"),o.k0s(),o.j41(3,"dx-data-grid",12),o.nrm(4,"dxo-paging",13)(5,"dxi-column",14)(6,"dxi-column",15)(7,"dxi-column",16)(8,"dxi-column",17),o.k0s()()),2&w){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.dailySales)("showBorders",!0)("columnAutoWidth",!0)("hoverStateEnabled",!0)("rowAlternationEnabled",!0),o.R7$(),o.Y8G("pageSize",10)}}function lt(w,tt){if(1&w&&(o.j41(0,"div",18)(1,"h3",19),o.EFF(2,"Sales Trend"),o.k0s(),o.j41(3,"dx-chart",20),o.nrm(4,"dxi-series",21)(5,"dxo-tooltip",22)(6,"dxo-legend",23),o.k0s()()),2&w){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.dailySales),o.R7$(2),o.Y8G("enabled",!0),o.R7$(),o.Y8G("visible",!1)}}function dt(w,tt){1&w&&(o.j41(0,"div",8),o.nrm(1,"div",9),o.k0s())}function ht(w,tt){if(1&w&&(o.j41(0,"div",10)(1,"h3",11),o.EFF(2,"Monthly Sales Summary"),o.k0s(),o.j41(3,"dx-data-grid",12),o.nrm(4,"dxo-paging",13)(5,"dxi-column",14)(6,"dxi-column",15)(7,"dxi-column",16)(8,"dxi-column",17),o.k0s()()),2&w){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.monthlySales)("showBorders",!0)("columnAutoWidth",!0)("hoverStateEnabled",!0)("rowAlternationEnabled",!0),o.R7$(),o.Y8G("pageSize",10)}}function it(w,tt){if(1&w&&(o.j41(0,"div",18)(1,"h3",19),o.EFF(2,"Monthly Revenue Trend"),o.k0s(),o.j41(3,"dx-chart",20),o.nrm(4,"dxi-series",21)(5,"dxo-tooltip",22)(6,"dxo-legend",23),o.k0s()()),2&w){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.monthlySales),o.R7$(2),o.Y8G("enabled",!0),o.R7$(),o.Y8G("visible",!1)}}const ut=[{path:"",component:T,children:[{path:"",component:T},{path:"daily",component:(()=>{class w{constructor(f){this.salesService=f,this.loading=!1,this.dailySales=[],this.startDate=new Date((new Date).setDate((new Date).getDate()-7)),this.endDate=new Date}ngOnInit(){this.loadDailySales()}loadDailySales(){this.loading=!0,this.salesService.dailyReport().pipe((0,y.W)(f=>(console.error("\u274c Failed to fetch daily sales",f),this.loading=!1,(0,x.of)({data:[]})))).subscribe(f=>{this.dailySales=f.data||[],this.loading=!1})}onFilterChange(){this.loadDailySales()}static{this.\u0275fac=function(F){return new(F||w)(o.rXU(K.w))}}static{this.\u0275cmp=o.VBU({type:w,selectors:[["app-daily-sales"]],decls:15,vars:5,consts:[[1,"p-4"],[1,"text-2xl","font-semibold","mb-6","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-6","bg-white","p-4","rounded-2xl","shadow","items-end"],[1,"block","text-gray-600","text-sm","mb-1"],["displayFormat","yyyy-MM-dd",3,"valueChange","onValueChanged","value"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4 mb-6",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-10","w-10","border-t-4","border-blue-500"],[1,"bg-white","rounded-2xl","shadow","p-4","mb-6"],[1,"text-lg","font-semibold","mb-3","text-gray-700"],[3,"dataSource","showBorders","columnAutoWidth","hoverStateEnabled","rowAlternationEnabled"],[3,"pageSize"],["dataField","date","caption","Date","dataType","date"],["dataField","total_sales","caption","Total Sales","format","currency"],["dataField","total_orders","caption","Orders"],["dataField","average_order_value","caption","Avg Order Value","format","currency"],[1,"bg-white","rounded-2xl","shadow","p-4"],[1,"text-lg","font-medium","mb-2","text-gray-700"],["title","Daily Revenue Trend","palette","Soft Pastel",3,"dataSource"],["argumentField","date","valueField","total_sales","type","bar","name","Total Sales"],[3,"enabled"],[3,"visible"]],template:function(F,_){1&F&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"\u{1f4c5} Daily Sales Report"),o.k0s(),o.j41(3,"div",2)(4,"div")(5,"label",3),o.EFF(6,"Start Date"),o.k0s(),o.j41(7,"dx-date-box",4),o.mxI("valueChange",function(E){return o.DH7(_.startDate,E)||(_.startDate=E),E}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()(),o.j41(8,"div")(9,"label",3),o.EFF(10,"End Date"),o.k0s(),o.j41(11,"dx-date-box",4),o.mxI("valueChange",function(E){return o.DH7(_.endDate,E)||(_.endDate=E),E}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()()(),o.DNE(12,U,2,0,"div",5)(13,W,9,6,"div",6)(14,lt,7,3,"div",7),o.k0s()),2&F&&(o.R7$(7),o.R50("value",_.startDate),o.R7$(4),o.R50("value",_.endDate),o.R7$(),o.Y8G("ngIf",_.loading),o.R7$(),o.Y8G("ngIf",!_.loading),o.R7$(),o.Y8G("ngIf",!_.loading))},dependencies:[a.bT,n.sjL,N.nj_,N.PVd,u.zZ,H.if6,N.cSM,N.mEX,N.Qx],styles:["[_nghost-%COMP%]{display:block;overflow-y:auto;height:100%;background-color:#f9fafb}.dx-datagrid[_ngcontent-%COMP%]{font-size:14px}"]})}}return w})()},{path:"monthly",component:(()=>{class w{constructor(f){this.salesService=f,this.loading=!1,this.monthlySales=[],this.startDate=new Date((new Date).setMonth((new Date).getMonth()-6)),this.endDate=new Date}ngOnInit(){this.loadMonthlySales()}loadMonthlySales(){this.loading=!0,this.salesService.monthlyReport().pipe((0,y.W)(f=>(console.error("\u274c Failed to fetch monthly sales",f),this.loading=!1,(0,x.of)({data:[]})))).subscribe(f=>{this.monthlySales=f.data||[],this.loading=!1})}onFilterChange(){this.loadMonthlySales()}static{this.\u0275fac=function(F){return new(F||w)(o.rXU(K.w))}}static{this.\u0275cmp=o.VBU({type:w,selectors:[["app-monthly-sales"]],decls:15,vars:5,consts:[[1,"p-4"],[1,"text-2xl","font-semibold","mb-6","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-6","bg-white","p-4","rounded-2xl","shadow","items-end"],[1,"block","text-gray-600","text-sm","mb-1"],["displayFormat","yyyy-MM","type","date",3,"valueChange","onValueChanged","value"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4 mb-6",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-10","w-10","border-t-4","border-blue-500"],[1,"bg-white","rounded-2xl","shadow","p-4","mb-6"],[1,"text-lg","font-semibold","mb-3","text-gray-700"],[3,"dataSource","showBorders","columnAutoWidth","hoverStateEnabled","rowAlternationEnabled"],[3,"pageSize"],["dataField","month","caption","Month"],["dataField","total_sales","caption","Total Sales","format","currency"],["dataField","total_orders","caption","Orders"],["dataField","average_order_value","caption","Avg Order Value","format","currency"],[1,"bg-white","rounded-2xl","shadow","p-4"],[1,"text-lg","font-medium","mb-2","text-gray-700"],["title","Monthly Revenue Overview","palette","Soft Pastel",3,"dataSource"],["argumentField","month","valueField","total_sales","type","line","name","Total Sales"],[3,"enabled"],[3,"visible"]],template:function(F,_){1&F&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"\u{1f4c6} Monthly Sales Report"),o.k0s(),o.j41(3,"div",2)(4,"div")(5,"label",3),o.EFF(6,"Start Date"),o.k0s(),o.j41(7,"dx-date-box",4),o.mxI("valueChange",function(E){return o.DH7(_.startDate,E)||(_.startDate=E),E}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()(),o.j41(8,"div")(9,"label",3),o.EFF(10,"End Date"),o.k0s(),o.j41(11,"dx-date-box",4),o.mxI("valueChange",function(E){return o.DH7(_.endDate,E)||(_.endDate=E),E}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()()(),o.DNE(12,dt,2,0,"div",5)(13,ht,9,6,"div",6)(14,it,7,3,"div",7),o.k0s()),2&F&&(o.R7$(7),o.R50("value",_.startDate),o.R7$(4),o.R50("value",_.endDate),o.R7$(),o.Y8G("ngIf",_.loading),o.R7$(),o.Y8G("ngIf",!_.loading),o.R7$(),o.Y8G("ngIf",!_.loading))},dependencies:[a.bT,n.sjL,N.nj_,N.PVd,u.zZ,H.if6,N.cSM,N.mEX,N.Qx],styles:["[_nghost-%COMP%]{display:block;overflow-y:auto;height:100%;background-color:#f9fafb}.dx-datagrid[_ngcontent-%COMP%]{font-size:14px}"]})}}return w})()}]}];let _t=(()=>{class w{static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275mod=o.$C({type:w})}static{this.\u0275inj=o.G2t({imports:[O.iI.forChild(ut),O.iI]})}}return w})(),mt=(()=>{class w{static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275mod=o.$C({type:w})}static{this.\u0275inj=o.G2t({imports:[a.MD,A.YN,n.N8$,u.Wt,b.L,_t,H.X0v,$.S]})}}return w})()},4081:(ct,j,c)=>{c.d(j,{F:()=>n});var a=c(4412),A=c(4438);let n=(()=>{class u{constructor(){this.darkModeSubject=new a.t(!1),this.isDarkMode$=this.darkModeSubject.asObservable();const $="dark"===localStorage.getItem("theme");this.darkModeSubject.next($),this.applyTheme($)}toggleDarkMode(){const $=!this.darkModeSubject.value;this.darkModeSubject.next($),this.applyTheme($),localStorage.setItem("theme",$?"dark":"light")}applyTheme(H){H?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}static{this.\u0275fac=function($){return new($||u)}}static{this.\u0275prov=A.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},5993:(ct,j,c)=>{c.d(j,{c:()=>$});var a=c(8810),A=c(6354),n=c(9437),u=c(7175),b=c(4438),H=c(1626);let $=(()=>{class O{constructor(x){this.http=x,this.api=`${u.$.apiUrl}/inventory`}getConfigTables(){return this.http.get(`${this.api}/config-tables`)}loadConfig(x,y={}){return this.http.get(`${this.api}/load-config`,{params:{table_name:x,...y}})}deleteConfig(x,y){return this.http.delete(`${this.api}/delete-config`,{params:{table:x,id:y}})}saveConfig(x){return this.http.post(`${this.api}/save-config`,x)}list(){return this.http.get(`${this.api}`).pipe((0,A.T)(x=>x.data||[]),(0,n.W)(x=>(0,a.$)(()=>x)))}get(x){return this.http.get(`${this.api}/${x}`).pipe((0,A.T)(y=>y.data),(0,n.W)(y=>(0,a.$)(()=>y)))}create(x){return FormData,this.http.post(`${this.api}`,x).pipe((0,A.T)(y=>y.data),(0,n.W)(y=>(0,a.$)(()=>y)))}update(x,y){return y instanceof FormData?this.http.post(`${this.api}/${x}?_method=PUT`,y).pipe((0,A.T)(o=>o.data),(0,n.W)(o=>(0,a.$)(()=>o))):this.http.put(`${this.api}/${x}`,y).pipe((0,A.T)(o=>o.data),(0,n.W)(o=>(0,a.$)(()=>o)))}delete(x){return this.http.delete(`${this.api}/${x}`).pipe((0,n.W)(y=>(0,a.$)(()=>y)))}lowStockProducts(x=10){return this.http.get(`${this.api}/low-stock?limit=${x}`).pipe((0,A.T)(y=>y.data||[]),(0,n.W)(y=>(0,a.$)(()=>y)))}adjustStock(x,y,o,K){return this.http.post(`${this.api}/${x}/adjust-stock`,{delta:y,reason:o,user:K}).pipe((0,A.T)(q=>q),(0,n.W)(q=>(0,a.$)(()=>q)))}addNewStock(x,y){return this.http.post(`${this.api}/${x}/add-stock`,y).pipe((0,A.T)(o=>o?.data??o),(0,n.W)(o=>(0,a.$)(()=>o)))}getStockHistory(x){return this.http.get(`${this.api}/${x}/history`).pipe((0,A.T)(y=>y.data||[]),(0,n.W)(y=>(0,a.$)(()=>y)))}getHistory(x){return this.http.get(`${this.api}/${x}/history`).pipe((0,A.T)(y=>y.data||[]),(0,n.W)(y=>(0,a.$)(()=>y)))}getCategories(){return this.http.get(`${this.api}/categories`).pipe((0,A.T)(x=>x?.data??[]),(0,n.W)(x=>(console.error("Error fetching categories",x),(0,a.$)(()=>x))))}getUnits(){return this.http.get(`${this.api}/units`).pipe((0,A.T)(x=>x?.data??[]),(0,n.W)(x=>(console.error("Error fetching units",x),(0,a.$)(()=>x))))}getPurchaseHistory(x){return this.http.get(`${this.api}/${x}/purchase-history`).pipe((0,A.T)(y=>y.data||[]),(0,n.W)(y=>(0,a.$)(()=>y)))}handleError(x){return console.error("InventoryService error:",x),(0,a.$)(()=>x)}static{this.\u0275fac=function(y){return new(y||O)(b.KVO(H.Qq))}}static{this.\u0275prov=b.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},4493:(ct,j,c)=>{c.d(j,{w:()=>b});var a=c(1626),A=c(7175),n=c(4438),u=c(8010);let b=(()=>{class H{constructor(O,B){this.http=O,this.auth=B,this.api=`${A.$.apiUrl}/sales`}getAuthHeaders(){const O=this.auth.getToken();if(!O)throw new Error("User not logged in");return{headers:new a.Lr({Authorization:`Bearer ${O}`})}}list(){return this.http.get(`${this.api}`,this.getAuthHeaders())}get(O){return this.http.get(`${this.api}/${O}`,this.getAuthHeaders())}create(O){return this.http.post(`${this.api}`,O,this.getAuthHeaders())}refund(O){return this.http.delete(`${this.api}/${O}/refund`,this.getAuthHeaders())}dailyReport(){return this.http.get(`${this.api}/reports/daily`,this.getAuthHeaders())}monthlyReport(){return this.http.get(`${this.api}/reports/monthly`,this.getAuthHeaders())}topProducts(){return this.http.get(`${this.api}/reports/top-products`,this.getAuthHeaders())}getSalesDetails(O){return this.http.get(`${this.api}/details/${O}`,this.getAuthHeaders())}getSaleItems(O){return this.http.get(`${this.api}/details/${O}`,this.getAuthHeaders())}getDashboardReport(){return this.http.get(`${this.api}/reports/dashboard`,this.getAuthHeaders())}static{this.\u0275fac=function(B){return new(B||H)(n.KVO(a.Qq),n.KVO(u.u))}}static{this.\u0275prov=n.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},7297:(ct,j,c)=>{c.d(j,{A:()=>Q});var a=c(8168),A=c(6676),n=c(1617),u=c(5767),b=c(1349),H=c(5632),$=c(7184),O=c(5042),B=c(2126),x=c(2463),y=c(4435),o=c(9055),K=c(8382);class N extends o.A{_getDefaultOptions(){return(0,a.A)({},super._getDefaultOptions(),{spellcheck:!0,autoResizeEnabled:!1,_shouldAttachKeyboardEvents:!1})}_shouldAttachKeyboardEvents(){const{_shouldAttachKeyboardEvents:T,readOnly:U}=this.option();return T||!U}_initMarkup(){this.$element().addClass("dx-textarea"),super._initMarkup(),this.setAria("multiline","true")}_renderContentImpl(){this._updateInputHeight(),super._renderContentImpl()}_renderInput(){super._renderInput(),this._renderScrollHandler()}_createInput(){const T=(0,$.A)("<textarea>");return this._applyInputAttributes(T,this.option("inputAttr")),this._updateInputAutoResizeAppearance(T),T}_setInputMinHeight(){}_renderScrollHandler(){this._eventY=0;const T=this._input(),U=(0,K.N)(T,!0);A.A.on(T,(0,b.b4)(n.A.init,this.NAME),U,O.lQ),A.A.on(T,(0,b.b4)(u.A.down,this.NAME),this._pointerDownHandler.bind(this)),A.A.on(T,(0,b.b4)(u.A.move,this.NAME),this._pointerMoveHandler.bind(this))}_pointerDownHandler(T){this._eventY=(0,b.rw)(T).y}_pointerMoveHandler(T){const U=(0,b.rw)(T).y,W=this._eventY-U;(0,K.f)(this._input(),W)&&(T.isScrollingEvent=!0,T.stopPropagation()),this._eventY=U}_renderDimensions(){const T=this.$element(),U=T.get(0),W=this._getOptionValue("width",U),lt=this._getOptionValue("height",U),nt=this.option("minHeight"),dt=this.option("maxHeight");T.css({minHeight:void 0!==nt?nt:"",maxHeight:void 0!==dt?dt:"",width:W,height:lt})}_resetDimensions(){this.$element().css({height:"",minHeight:"",maxHeight:""})}_renderEvents(){this.option("autoResizeEnabled")&&A.A.on(this._input(),(0,b.b4)("input paste",this.NAME),this._updateInputHeight.bind(this)),super._renderEvents()}_refreshEvents(){A.A.off(this._input(),(0,b.b4)("input paste",this.NAME)),super._refreshEvents()}_getHeightDifference(T){return(0,B.pD)(this.$element().get(0),!1)+(0,B.pD)(this._$textEditorContainer.get(0),!1)+(0,B.pD)(this._$textEditorInputContainer.get(0),!0)+(0,B.GU)("height",(0,y.zk)().getComputedStyle(T.get(0))).margin}_updateInputHeight(){if(!(0,y.Vd)())return;const T=this._input(),U=this.option("height"),W=void 0===U&&this.option("autoResizeEnabled");if(!(W||void 0===U&&this.option("minHeight")))return void T.css("height","");this._resetDimensions(),this.$element().css("height",(0,B.P$)(this.$element())),T.css("height",0);const nt=this._getHeightDifference(T);this._renderDimensions();const dt=this._getBoundaryHeight("minHeight"),ht=this._getBoundaryHeight("maxHeight");let it=T[0].scrollHeight;if(void 0!==dt&&(it=Math.max(it,dt-nt)),void 0!==ht){const gt=ht-nt,ut=it>gt;it=Math.min(it,gt),this._updateInputAutoResizeAppearance(T,!ut)}T.css("height",it),W&&this.$element().css("height","auto")}_getBoundaryHeight(T){const U=this.option(T);if((0,x.O9)(U))return"number"==typeof U?U:(0,B.hP)(U,this.$element().get(0).parentElement,this.$element().get(0))}_renderInputType(){}_visibilityChanged(T){T&&this._updateInputHeight()}_updateInputAutoResizeAppearance(T,U){if(T){const W=(0,O.YD)(U,this.option("autoResizeEnabled"));T.toggleClass("dx-texteditor-input-auto-resize",W)}}_dimensionChanged(){this.option("visible")&&this._updateInputHeight()}_optionChanged(T){const{name:U,value:W}=T;switch(U){case"_shouldAttachKeyboardEvents":case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),W),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":super._optionChanged(T),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":super._optionChanged(T),W&&this._updateInputHeight();break;default:super._optionChanged(T)}}}(0,H.A)("dxTextArea",N);const Q=N},8382:(ct,j,c)=>{c.d(j,{N:()=>u,f:()=>n});var a=c(1349),A=c(7184);const n=function(b,H,$){const O=(0,A.A)(b),B=$?O.scrollLeft():O.scrollTop(),x=$?"Width":"Height",K=O.prop(`scroll${x}`)-O.prop(`client${x}`)-B|0;return(0!==B||0!==K)&&(!!(0===B&&H>=0||0===K&&H<=0||B>0&&K>0)||void 0)},u=function(b,H){const $=(0,A.A)(b);return{validate(O){if((0,a.X1)(O)&&(!H||(0,A.A)(O.target).is(b)))return!!n($,-O.delta,O.shiftKey)&&(O._needSkipEvent=!0,!0)}}}},5110:(ct,j,c)=>{c.d(j,{A:()=>$});var a=c(8168),n=(c(9715),c(5632)),u=c(9315);let b=(()=>{class O extends u.A{_getDefaultOptions(){return(0,a.A)({},super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return O.defaultOptions=function(B){u.A.defaultOptions(B)},O})();(0,n.A)("dxPopup",b);const $=b},8600:(ct,j,c)=>{c.d(j,{Gm:()=>L,RE:()=>ot});var a=c(4438),A=c(8168),n=c(5423),u=c(4142),b=c(6676),H=c(1349),$=c(5632),O=c(4040),B=c(7669),x=c(9489),y=c(7184),o=c(8106),K=c(5042),Y=c(9765),q=c(6018),N=c(8461),Q=c(2126),et=c(2463),T=c(1299),U=c(1288);class mt extends U.A{_getDefaultOptions(){return(0,A.A)({},super._getDefaultOptions(),{hoverStateEnabled:!0,itemTitleTemplate:"title",onItemTitleClick:null,selectedIndex:0,collapsible:!1,multiple:!1,animationDuration:300,deferRendering:!0,selectByClick:!0,activeStateEnabled:!0,_itemAttributes:{role:"tab"},_animationEasing:"ease"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===O.A.real().deviceType&&!O.A.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>(0,T.Nt)((0,T.ss)()),options:{animationDuration:200,_animationEasing:"cubic-bezier(0.4, 0, 0.2, 1)"}}])}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this._activeStateUnit=".dx-accordion-item";const{collapsible:v,multiple:g}=this.option();this.option("selectionRequired",!v),this.option("selectionMode",g?"multiple":"single");const P=this.$element();P.addClass("dx-accordion"),this._$container=(0,y.A)("<div>").addClass("dx-accordion-wrapper"),P.append(this._$container)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new o.U((v,g)=>{if((0,et.Qd)(g)){const P=(0,q.N)(g.icon);P&&v.append(P),(0,et.O9)(g.title)&&!(0,et.Qd)(g.title)&&v.append(B.A.createTextNode(g.title))}else(0,et.O9)(g)&&v.text(String(g));v.wrapInner((0,y.A)("<div>").addClass("dx-accordion-item-title-caption"))},["title","icon"],this.option("integrationOptions.watchMethod"))})}_initMarkup(){this._deferredItems=[],super._initMarkup();const{multiple:v}=this.option();this.setAria({role:"tablist",multiselectable:v}),(0,K.zE)(()=>{const g=this._getSelectedItemIndices();this._renderSelection(g,[])})}_postProcessRenderItems(){this._updateItemHeights(!0)}_itemDataKey(){return"dxAccordionItemData"}_itemClass(){return"dx-accordion-item"}_itemContainer(){return this._$container}_itemTitles(){return this._itemElements().find(".dx-accordion-item-title")}_itemContents(){return this._itemElements().find(".dx-accordion-item-body")}_getItemData(v){return(0,y.A)(v).parent().data(this._itemDataKey())??super._getItemData(v)}_itemSelectHandler(v){(0,y.A)(v.target).closest(this._itemContents()).length||super._itemSelectHandler(v)}_afterItemElementDeleted(v,g){this._deferredItems.splice(g.itemIndex,1),super._afterItemElementDeleted(v,g)}_renderItemContent(v){const{itemTitleTemplate:g}=this.option(),P=super._renderItemContent((0,A.A)({},v,{contentClass:"dx-accordion-item-title",templateProperty:"titleTemplate",defaultTemplateName:g})),l=super._renderItemContent.bind(this);return P.done(k=>{this._attachItemTitleClickAction(k);const e=(0,Y.cY)();(0,et.O9)(this._deferredItems[v.index])?this._deferredItems[v.index]=e:this._deferredItems.push(e);const{deferRendering:h}=this.option();(!h||this._getSelectedItemIndices().includes(v.index))&&e.resolve(),e.done(()=>{l((0,A.A)({},v,{contentClass:"dx-accordion-item-body",container:(0,x.cc)((0,y.A)("<div>").appendTo((0,y.A)(k).parent()))}))})})}_attachItemTitleClickAction(v){const g=(0,H.b4)(u.U,this.NAME);b.A.off(v,g),b.A.on(v,g,this._itemTitleClickHandler.bind(this))}_itemTitleClickHandler(v){this._itemDXEventHandler(v,"onItemTitleClick")}_renderSelection(v,g){this._itemElements().addClass("dx-accordion-item-closed"),this.setAria("hidden",!0,this._itemContents()),this._updateItems(v,g)}_updateSelection(v,g){this._updateItems(v,g),this._updateItemHeightsWrapper(!1)}_updateItems(v,g){const P=this._itemElements();N.__(v,(l,k)=>{var e;null===(e=this._deferredItems[k])||void 0===e||e.resolve();const h=P.eq(k).addClass("dx-accordion-item-opened").removeClass("dx-accordion-item-closed");this.setAria("hidden",!1,h.find(".dx-accordion-item-body"))}),N.__(g,(l,k)=>{const e=P.eq(k).removeClass("dx-accordion-item-opened");this.setAria("hidden",!0,e.find(".dx-accordion-item-body"))})}_updateItemHeightsWrapper(v){const{templatesRenderAsynchronously:g}=this.option();g?this._animationTimer=setTimeout(()=>{this._updateItemHeights(v)}):this._updateItemHeights(v)}_updateItemHeights(v){const g=this._deferredAnimate,P=this._splitFreeSpace(this._calculateFreeSpace());clearTimeout(this._animationTimer);const l=this;return Y.z7.apply(y.A,[...this._itemElements().toArray()].map(k=>l._updateItemHeight((0,y.A)(k),P,v))).done(()=>{g&&g.resolveWith(l)})}_updateItemHeight(v,g,P){const l=v.children(".dx-accordion-item-title");n.fx.isAnimating(v.get(0))&&n.fx.stop(v.get(0),!1);const k=(0,Q.P$)(v);let e;return v.hasClass("dx-accordion-item-opened")?(e=g+(0,Q.P$)(l),e||((0,Q.k$)(v,"auto"),e=(0,Q.P$)(v))):e=(0,Q.P$)(l),this._animateItem(v,k,e,P,!!g)}_animateItem(v,g,P,l,k){let e;if(l||g===P)v.css("height",P),e=(0,Y.cY)().resolve();else{const{animationDuration:h,_animationEasing:R}=this.option();e=n.fx.animate(v.get(0),{type:"custom",from:{height:g},to:{height:P},duration:h,easing:R})}return e.done(()=>{v.hasClass("dx-accordion-item-opened")&&!k&&v.css("height",""),v.not(".dx-accordion-item-opened").addClass("dx-accordion-item-closed")})}_splitFreeSpace(v){const{selectedItems:g}=this.option();return v&&null!=g&&g.length?v/g.length:v}_calculateFreeSpace(){const{height:v}=this.option();if(void 0===v||"auto"===v)return;const g=this._itemTitles();let P=0;return N.__(g,(k,e)=>{P+=(0,Q.P$)(e)}),(0,Q.Oq)(this.$element())-P}_visibilityChanged(v){v&&this._dimensionChanged()}_dimensionChanged(){this._updateItemHeights(!0)}_clean(){clearTimeout(this._animationTimer),super._clean()}_tryParseItemPropertyName(v){const g=v.match(/.*\.(.*)/);return(0,et.O9)(g)&&g.length>=1?g[1]:null}_optionChanged(v){switch(v.name){case"items":{super._optionChanged(v),"title"===this._tryParseItemPropertyName(v.fullName)&&this._renderSelection(this._getSelectedItemIndices(),[]),"visible"===this._tryParseItemPropertyName(v.fullName)&&this._updateItemHeightsWrapper(!0);const{repaintChangesOnly:g}=this.option();!0===g&&"items"===v.fullName&&(this._renderSelection(this._getSelectedItemIndices(),[]),this._updateItemHeightsWrapper(!0));break}case"animationDuration":case"onItemTitleClick":case"_animationEasing":break;case"collapsible":this.option("selectionRequired",!this.option("collapsible"));break;case"itemTitleTemplate":case"height":case"deferRendering":this._invalidate();break;case"multiple":this.option("selectionMode",v.value?"multiple":"single");break;default:super._optionChanged(v)}}expandItem(v){return this._deferredAnimate=(0,Y.cY)(),this.selectItem(v),this._deferredAnimate.promise()}collapseItem(v){return this._deferredAnimate=(0,Y.cY)(),this.unselectItem(v),this._deferredAnimate.promise()}updateDimensions(){return this._updateItemHeights(!1)}}(0,$.A)("dxAccordion",mt);const tt=mt;var f=c(5245),F=c(1063),_=c(177);const I=["*"];let E=(()=>{class z extends f.l9{renderer;document;element;get disabled(){return this._getOption("disabled")}set disabled(g){this._setOption("disabled",g)}get html(){return this._getOption("html")}set html(g){this._setOption("html",g)}get icon(){return this._getOption("icon")}set icon(g){this._setOption("icon",g)}get template(){return this._getOption("template")}set template(g){this._setOption("template",g)}get text(){return this._getOption("text")}set text(g){this._setOption("text",g)}get title(){return this._getOption("title")}set title(g){this._setOption("title",g)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(g){this._setOption("titleTemplate",g)}get visible(){return this._getOption("visible")}set visible(g){this._setOption("visible",g)}get _optionPath(){return"items"}constructor(g,P,l,k,e,h){super(),this.renderer=l,this.document=k,this.element=h,g.setNestedOption(this),P.setHost(this,this._fullOptionPath.bind(this)),e.setHost(this)}setTemplate(g){this.template=g}ngAfterViewInit(){(0,f.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(P){return new(P||z)(a.rXU(f.fH,5),a.rXU(f.fH,1),a.rXU(a.sFG),a.rXU(_.qQ),a.rXU(f.zF,1),a.rXU(a.aKT))};static \u0275cmp=a.VBU({type:z,selectors:[["dxi-accordion-item"]],inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible"},standalone:!0,features:[a.Jv_([f.fH,f.zF]),a.Vt3,a.aNF],ngContentSelectors:I,decls:1,vars:0,template:function(P,l){1&P&&(a.NAR(),a.SdG(0))},dependencies:[f.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return z})(),st=(()=>{class z{static \u0275fac=function(P){return new(P||z)};static \u0275mod=a.$C({type:z});static \u0275inj=a.G2t({imports:[E]})}return z})(),L=(()=>{class z extends f.ic{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(g){this._setOption("accessKey",g)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(g){this._setOption("activeStateEnabled",g)}get animationDuration(){return this._getOption("animationDuration")}set animationDuration(g){this._setOption("animationDuration",g)}get collapsible(){return this._getOption("collapsible")}set collapsible(g){this._setOption("collapsible",g)}get dataSource(){return this._getOption("dataSource")}set dataSource(g){this._setOption("dataSource",g)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(g){this._setOption("deferRendering",g)}get disabled(){return this._getOption("disabled")}set disabled(g){this._setOption("disabled",g)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(g){this._setOption("elementAttr",g)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(g){this._setOption("focusStateEnabled",g)}get height(){return this._getOption("height")}set height(g){this._setOption("height",g)}get hint(){return this._getOption("hint")}set hint(g){this._setOption("hint",g)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(g){this._setOption("hoverStateEnabled",g)}get itemHoldTimeout(){return this._getOption("itemHoldTimeout")}set itemHoldTimeout(g){this._setOption("itemHoldTimeout",g)}get items(){return this._getOption("items")}set items(g){this._setOption("items",g)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(g){this._setOption("itemTemplate",g)}get itemTitleTemplate(){return this._getOption("itemTitleTemplate")}set itemTitleTemplate(g){this._setOption("itemTitleTemplate",g)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(g){this._setOption("keyExpr",g)}get multiple(){return this._getOption("multiple")}set multiple(g){this._setOption("multiple",g)}get noDataText(){return this._getOption("noDataText")}set noDataText(g){this._setOption("noDataText",g)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(g){this._setOption("repaintChangesOnly",g)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(g){this._setOption("rtlEnabled",g)}get selectedIndex(){return this._getOption("selectedIndex")}set selectedIndex(g){this._setOption("selectedIndex",g)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(g){this._setOption("selectedItem",g)}get selectedItemKeys(){return this._getOption("selectedItemKeys")}set selectedItemKeys(g){this._setOption("selectedItemKeys",g)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(g){this._setOption("selectedItems",g)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(g){this._setOption("tabIndex",g)}get visible(){return this._getOption("visible")}set visible(g){this._setOption("visible",g)}get width(){return this._getOption("width")}set width(g){this._setOption("width",g)}onContentReady;onDisposing;onInitialized;onItemClick;onItemContextMenu;onItemHold;onItemRendered;onItemTitleClick;onOptionChanged;onSelectionChanged;accessKeyChange;activeStateEnabledChange;animationDurationChange;collapsibleChange;dataSourceChange;deferRenderingChange;disabledChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;itemHoldTimeoutChange;itemsChange;itemTemplateChange;itemTitleTemplateChange;keyExprChange;multipleChange;noDataTextChange;repaintChangesOnlyChange;rtlEnabledChange;selectedIndexChange;selectedItemChange;selectedItemKeysChange;selectedItemsChange;tabIndexChange;visibleChange;widthChange;get itemsChildren(){return this._getOption("items")}set itemsChildren(g){this._setChildren("items",g,"DxiAccordionItemComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(g){this._setChildren("items",g,"DxiItemComponent")}constructor(g,P,l,k,e,h,R,C){super(g,P,l,k,R,C),this._watcherHelper=k,this._idh=e,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemHold",emit:"onItemHold"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"itemTitleClick",emit:"onItemTitleClick"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"animationDurationChange"},{emit:"collapsibleChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemHoldTimeoutChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"itemTitleTemplateChange"},{emit:"keyExprChange"},{emit:"multipleChange"},{emit:"noDataTextChange"},{emit:"repaintChangesOnlyChange"},{emit:"rtlEnabledChange"},{emit:"selectedIndexChange"},{emit:"selectedItemChange"},{emit:"selectedItemKeysChange"},{emit:"selectedItemsChange"},{emit:"tabIndexChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),h.setHost(this)}_createInstance(g,P){return new tt(g,P)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(g){super.ngOnChanges(g),this.setupChanges("dataSource",g),this.setupChanges("items",g),this.setupChanges("selectedItemKeys",g),this.setupChanges("selectedItems",g)}setupChanges(g,P){g in this._optionsToUpdate||this._idh.setup(g,P)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("selectedItemKeys"),this._idh.doCheck("selectedItems"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(g,P){let l=this._idh.setupSingle(g,P),k=null!==this._idh.getChanges(g,P);(l||k)&&super._setOption(g,P)}static \u0275fac=function(P){return new(P||z)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(f.zF),a.rXU(f.jS),a.rXU(f.$M),a.rXU(f.fH),a.rXU(a.pJN),a.rXU(a.Agw))};static \u0275cmp=a.VBU({type:z,selectors:[["dx-accordion"]],contentQueries:function(P,l,k){if(1&P&&(a.wni(k,E,4),a.wni(k,F.CVf,4)),2&P){let e;a.mGM(e=a.lsd())&&(l.itemsChildren=e),a.mGM(e=a.lsd())&&(l.itemsLegacyChildren=e)}},hostAttrs:["ngSkipHydration","true"],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",animationDuration:"animationDuration",collapsible:"collapsible",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",itemHoldTimeout:"itemHoldTimeout",items:"items",itemTemplate:"itemTemplate",itemTitleTemplate:"itemTitleTemplate",keyExpr:"keyExpr",multiple:"multiple",noDataText:"noDataText",repaintChangesOnly:"repaintChangesOnly",rtlEnabled:"rtlEnabled",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedItemKeys:"selectedItemKeys",selectedItems:"selectedItems",tabIndex:"tabIndex",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemContextMenu:"onItemContextMenu",onItemHold:"onItemHold",onItemRendered:"onItemRendered",onItemTitleClick:"onItemTitleClick",onOptionChanged:"onOptionChanged",onSelectionChanged:"onSelectionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",animationDurationChange:"animationDurationChange",collapsibleChange:"collapsibleChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemHoldTimeoutChange:"itemHoldTimeoutChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",itemTitleTemplateChange:"itemTitleTemplateChange",keyExprChange:"keyExprChange",multipleChange:"multipleChange",noDataTextChange:"noDataTextChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rtlEnabledChange:"rtlEnabledChange",selectedIndexChange:"selectedIndexChange",selectedItemChange:"selectedItemChange",selectedItemKeysChange:"selectedItemKeysChange",selectedItemsChange:"selectedItemsChange",tabIndexChange:"tabIndexChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[a.Jv_([f.zF,f.jS,f.fH,f.$M]),a.Vt3,a.OA$,a.aNF],decls:0,vars:0,template:function(P,l){},dependencies:[f.p_],encapsulation:2})}return z})(),ot=(()=>{class z{static \u0275fac=function(P){return new(P||z)};static \u0275mod=a.$C({type:z});static \u0275inj=a.G2t({imports:[L,F.POb,st,f.p_,f.xZ,F.POb,st,f.xZ]})}return z})()},1297:(ct,j,c)=>{c.d(j,{zZ:()=>g,Wt:()=>P});var a=c(4438),A=c(4689),n=c(9417),u=c(5245),b=c(1063),H=c(177);const $=["*"];let O=(()=>{class l extends u.t${get hide(){return this._getOption("hide")}set hide(e){this._setOption("hide",e)}get show(){return this._getOption("show")}set show(e){this._setOption("show",e)}get _optionPath(){return"animation"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-animation"]],inputs:{hide:"hide",show:"show"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),B=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[O]})}return l})(),x=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"at"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-at"]],inputs:{x:"x",y:"y"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),y=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[x]})}return l})(),o=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"boundaryOffset"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-boundary-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),K=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[o]})}return l})(),Y=(()=>{class l extends u.l9{get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get _optionPath(){return"buttons"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxi-date-box-button"]],inputs:{location:"location",name:"name",options:"options"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),q=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[Y]})}return l})(),N=(()=>{class l extends u.t${get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get cellTemplate(){return this._getOption("cellTemplate")}set cellTemplate(e){this._setOption("cellTemplate",e)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(e){this._setOption("dateSerializationFormat",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get disabledDates(){return this._getOption("disabledDates")}set disabledDates(e){this._setOption("disabledDates",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get firstDayOfWeek(){return this._getOption("firstDayOfWeek")}set firstDayOfWeek(e){this._setOption("firstDayOfWeek",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get max(){return this._getOption("max")}set max(e){this._setOption("max",e)}get maxZoomLevel(){return this._getOption("maxZoomLevel")}set maxZoomLevel(e){this._setOption("maxZoomLevel",e)}get min(){return this._getOption("min")}set min(e){this._setOption("min",e)}get minZoomLevel(){return this._getOption("minZoomLevel")}set minZoomLevel(e){this._setOption("minZoomLevel",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get onValueChanged(){return this._getOption("onValueChanged")}set onValueChanged(e){this._setOption("onValueChanged",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get selectionMode(){return this._getOption("selectionMode")}set selectionMode(e){this._setOption("selectionMode",e)}get selectWeekOnClick(){return this._getOption("selectWeekOnClick")}set selectWeekOnClick(e){this._setOption("selectWeekOnClick",e)}get showTodayButton(){return this._getOption("showTodayButton")}set showTodayButton(e){this._setOption("showTodayButton",e)}get showWeekNumbers(){return this._getOption("showWeekNumbers")}set showWeekNumbers(e){this._setOption("showWeekNumbers",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get weekNumberRule(){return this._getOption("weekNumberRule")}set weekNumberRule(e){this._setOption("weekNumberRule",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get zoomLevel(){return this._getOption("zoomLevel")}set zoomLevel(e){this._setOption("zoomLevel",e)}valueChange;zoomLevelChange;get _optionPath(){return"calendarOptions"}constructor(e,h){super(),this._createEventEmitters([{emit:"valueChange"},{emit:"zoomLevelChange"}]),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-calendar-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",cellTemplate:"cellTemplate",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",disabledDates:"disabledDates",elementAttr:"elementAttr",firstDayOfWeek:"firstDayOfWeek",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",isDirty:"isDirty",isValid:"isValid",max:"max",maxZoomLevel:"maxZoomLevel",min:"min",minZoomLevel:"minZoomLevel",name:"name",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",readOnly:"readOnly",rtlEnabled:"rtlEnabled",selectionMode:"selectionMode",selectWeekOnClick:"selectWeekOnClick",showTodayButton:"showTodayButton",showWeekNumbers:"showWeekNumbers",tabIndex:"tabIndex",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",visible:"visible",weekNumberRule:"weekNumberRule",width:"width",zoomLevel:"zoomLevel"},outputs:{valueChange:"valueChange",zoomLevelChange:"zoomLevelChange"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),Q=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[N]})}return l})(),et=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"collision"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-collision"]],inputs:{x:"x",y:"y"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),T=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[et]})}return l})(),U=(()=>{class l extends u.t${get currency(){return this._getOption("currency")}set currency(e){this._setOption("currency",e)}get formatter(){return this._getOption("formatter")}set formatter(e){this._setOption("formatter",e)}get parser(){return this._getOption("parser")}set parser(e){this._setOption("parser",e)}get precision(){return this._getOption("precision")}set precision(e){this._setOption("precision",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(e){this._setOption("useCurrencyAccountingStyle",e)}get _optionPath(){return"displayFormat"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-display-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),W=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[U]})}return l})(),lt=(()=>{class l extends u.l9{renderer;document;element;get cssClass(){return this._getOption("cssClass")}set cssClass(e){this._setOption("cssClass",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get html(){return this._getOption("html")}set html(e){this._setOption("html",e)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(e){this._setOption("locateInMenu",e)}get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(e){this._setOption("menuItemTemplate",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get showText(){return this._getOption("showText")}set showText(e){this._setOption("showText",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get toolbar(){return this._getOption("toolbar")}set toolbar(e){this._setOption("toolbar",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get widget(){return this._getOption("widget")}set widget(e){this._setOption("widget",e)}get _optionPath(){return"toolbarItems"}constructor(e,h,R,C,V,ft){super(),this.renderer=R,this.document=C,this.element=ft,e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this)),V.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,u.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1),a.rXU(a.sFG),a.rXU(H.qQ),a.rXU(u.zF,1),a.rXU(a.aKT))};static \u0275cmp=a.VBU({type:l,selectors:[["dxi-date-box-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},standalone:!0,features:[a.Jv_([u.fH,u.zF]),a.Vt3,a.aNF],ngContentSelectors:$,decls:1,vars:0,template:function(h,R){1&h&&(a.NAR(),a.SdG(0))},dependencies:[u.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return l})(),nt=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[lt]})}return l})(),dt=(()=>{class l extends u.t${get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get animation(){return this._getOption("animation")}set animation(e){this._setOption("animation",e)}get container(){return this._getOption("container")}set container(e){this._setOption("container",e)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(e){this._setOption("contentTemplate",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(e){this._setOption("dragAndResizeArea",e)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(e){this._setOption("dragEnabled",e)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(e){this._setOption("dragOutsideBoundary",e)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(e){this._setOption("enableBodyScroll",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(e){this._setOption("fullScreen",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(e){this._setOption("hideOnOutsideClick",e)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(e){this._setOption("hideOnParentScroll",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(e){this._setOption("maxHeight",e)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(e){this._setOption("maxWidth",e)}get minHeight(){return this._getOption("minHeight")}set minHeight(e){this._setOption("minHeight",e)}get minWidth(){return this._getOption("minWidth")}set minWidth(e){this._setOption("minWidth",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onHidden(){return this._getOption("onHidden")}set onHidden(e){this._setOption("onHidden",e)}get onHiding(){return this._getOption("onHiding")}set onHiding(e){this._setOption("onHiding",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get onResize(){return this._getOption("onResize")}set onResize(e){this._setOption("onResize",e)}get onResizeEnd(){return this._getOption("onResizeEnd")}set onResizeEnd(e){this._setOption("onResizeEnd",e)}get onResizeStart(){return this._getOption("onResizeStart")}set onResizeStart(e){this._setOption("onResizeStart",e)}get onShowing(){return this._getOption("onShowing")}set onShowing(e){this._setOption("onShowing",e)}get onShown(){return this._getOption("onShown")}set onShown(e){this._setOption("onShown",e)}get onTitleRendered(){return this._getOption("onTitleRendered")}set onTitleRendered(e){this._setOption("onTitleRendered",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(e){this._setOption("resizeEnabled",e)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(e){this._setOption("restorePosition",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get shading(){return this._getOption("shading")}set shading(e){this._setOption("shading",e)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(e){this._setOption("shadingColor",e)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(e){this._setOption("showCloseButton",e)}get showTitle(){return this._getOption("showTitle")}set showTitle(e){this._setOption("showTitle",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get title(){return this._getOption("title")}set title(e){this._setOption("title",e)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(e){this._setOption("titleTemplate",e)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(e){this._setOption("toolbarItems",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(e){this._setOption("wrapperAttr",e)}heightChange;positionChange;visibleChange;widthChange;get _optionPath(){return"dropDownOptions"}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(e){this.setChildren("toolbarItems",e)}constructor(e,h){super(),this._createEventEmitters([{emit:"heightChange"},{emit:"positionChange"},{emit:"visibleChange"},{emit:"widthChange"}]),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-drop-down-options"]],contentQueries:function(h,R,C){if(1&h&&a.wni(C,lt,4),2&h){let V;a.mGM(V=a.lsd())&&(R.toolbarItemsChildren=V)}},inputs:{accessKey:"accessKey",animation:"animation",container:"container",contentTemplate:"contentTemplate",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{heightChange:"heightChange",positionChange:"positionChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),ht=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[dt]})}return l})(),it=(()=>{class l extends u.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"from"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-from"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),gt=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[it]})}return l})(),ut=(()=>{class l extends u.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"hide"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-hide"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),_t=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[ut]})}return l})(),mt=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"my"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-my"]],inputs:{x:"x",y:"y"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),w=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[mt]})}return l})(),tt=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"offset"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),f=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[tt]})}return l})(),F=(()=>{class l extends u.t${renderer;document;element;get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get icon(){return this._getOption("icon")}set icon(e){this._setOption("icon",e)}get onClick(){return this._getOption("onClick")}set onClick(e){this._setOption("onClick",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(e){this._setOption("useSubmitBehavior",e)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(e){this._setOption("validationGroup",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get _optionPath(){return"options"}constructor(e,h,R,C,V,ft){super(),this.renderer=R,this.document=C,this.element=ft,e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this)),V.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,u.ym)(this,this.element,this.renderer,this.document)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1),a.rXU(a.sFG),a.rXU(H.qQ),a.rXU(u.zF,1),a.rXU(a.aKT))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},standalone:!0,features:[a.Jv_([u.fH,u.zF]),a.Vt3,a.aNF],ngContentSelectors:$,decls:1,vars:0,template:function(h,R){1&h&&(a.NAR(),a.SdG(0))},dependencies:[u.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return l})(),_=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[F]})}return l})(),I=(()=>{class l extends u.t${get at(){return this._getOption("at")}set at(e){this._setOption("at",e)}get boundary(){return this._getOption("boundary")}set boundary(e){this._setOption("boundary",e)}get boundaryOffset(){return this._getOption("boundaryOffset")}set boundaryOffset(e){this._setOption("boundaryOffset",e)}get collision(){return this._getOption("collision")}set collision(e){this._setOption("collision",e)}get my(){return this._getOption("my")}set my(e){this._setOption("my",e)}get of(){return this._getOption("of")}set of(e){this._setOption("of",e)}get offset(){return this._getOption("offset")}set offset(e){this._setOption("offset",e)}get _optionPath(){return"position"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-position"]],inputs:{at:"at",boundary:"boundary",boundaryOffset:"boundaryOffset",collision:"collision",my:"my",of:"of",offset:"offset"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),E=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[I]})}return l})(),st=(()=>{class l extends u.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"show"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-show"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),L=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[st]})}return l})(),ot=(()=>{class l extends u.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"to"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(a.rXU(u.fH,5),a.rXU(u.fH,1))};static \u0275cmp=a.VBU({type:l,selectors:[["dxo-date-box-to"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[a.Jv_([u.fH]),a.Vt3,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_]})}return l})(),z=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[ot]})}return l})();const v={provide:n.kq,useExisting:(0,a.Rfq)(()=>g),multi:!0};let g=(()=>{class l extends u.ic{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(e){this._setOption("acceptCustomValue",e)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get adaptivityEnabled(){return this._getOption("adaptivityEnabled")}set adaptivityEnabled(e){this._setOption("adaptivityEnabled",e)}get applyButtonText(){return this._getOption("applyButtonText")}set applyButtonText(e){this._setOption("applyButtonText",e)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(e){this._setOption("applyValueMode",e)}get buttons(){return this._getOption("buttons")}set buttons(e){this._setOption("buttons",e)}get calendarOptions(){return this._getOption("calendarOptions")}set calendarOptions(e){this._setOption("calendarOptions",e)}get cancelButtonText(){return this._getOption("cancelButtonText")}set cancelButtonText(e){this._setOption("cancelButtonText",e)}get dateOutOfRangeMessage(){return this._getOption("dateOutOfRangeMessage")}set dateOutOfRangeMessage(e){this._setOption("dateOutOfRangeMessage",e)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(e){this._setOption("dateSerializationFormat",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get disabledDates(){return this._getOption("disabledDates")}set disabledDates(e){this._setOption("disabledDates",e)}get displayFormat(){return this._getOption("displayFormat")}set displayFormat(e){this._setOption("displayFormat",e)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(e){this._setOption("dropDownButtonTemplate",e)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(e){this._setOption("dropDownOptions",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get interval(){return this._getOption("interval")}set interval(e){this._setOption("interval",e)}get invalidDateMessage(){return this._getOption("invalidDateMessage")}set invalidDateMessage(e){this._setOption("invalidDateMessage",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get label(){return this._getOption("label")}set label(e){this._setOption("label",e)}get labelMode(){return this._getOption("labelMode")}set labelMode(e){this._setOption("labelMode",e)}get max(){return this._getOption("max")}set max(e){this._setOption("max",e)}get maxLength(){return this._getOption("maxLength")}set maxLength(e){this._setOption("maxLength",e)}get min(){return this._getOption("min")}set min(e){this._setOption("min",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get opened(){return this._getOption("opened")}set opened(e){this._setOption("opened",e)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(e){this._setOption("openOnFieldClick",e)}get pickerType(){return this._getOption("pickerType")}set pickerType(e){this._setOption("pickerType",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get showAnalogClock(){return this._getOption("showAnalogClock")}set showAnalogClock(e){this._setOption("showAnalogClock",e)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(e){this._setOption("showClearButton",e)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(e){this._setOption("showDropDownButton",e)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(e){this._setOption("spellcheck",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get todayButtonText(){return this._getOption("todayButtonText")}set todayButtonText(e){this._setOption("todayButtonText",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useMaskBehavior(){return this._getOption("useMaskBehavior")}set useMaskBehavior(e){this._setOption("useMaskBehavior",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(e){this._setOption("valueChangeEvent",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}onChange;onClosed;onContentReady;onCopy;onCut;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onKeyDown;onKeyUp;onOpened;onOptionChanged;onPaste;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;adaptivityEnabledChange;applyButtonTextChange;applyValueModeChange;buttonsChange;calendarOptionsChange;cancelButtonTextChange;dateOutOfRangeMessageChange;dateSerializationFormatChange;deferRenderingChange;disabledChange;disabledDatesChange;displayFormatChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;inputAttrChange;intervalChange;invalidDateMessageChange;isDirtyChange;isValidChange;labelChange;labelModeChange;maxChange;maxLengthChange;minChange;nameChange;openedChange;openOnFieldClickChange;pickerTypeChange;placeholderChange;readOnlyChange;rtlEnabledChange;showAnalogClockChange;showClearButtonChange;showDropDownButtonChange;spellcheckChange;stylingModeChange;tabIndexChange;textChange;todayButtonTextChange;typeChange;useMaskBehaviorChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;visibleChange;widthChange;onBlur;change(e){}touched=e=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(e){this._setChildren("buttons",e,"DxiDateBoxButtonComponent")}get buttonsLegacyChildren(){return this._getOption("buttons")}set buttonsLegacyChildren(e){this._setChildren("buttons",e,"DxiButtonComponent")}constructor(e,h,R,C,V,ft,yt,pt){super(e,h,R,C,yt,pt),this._watcherHelper=C,this._idh=V,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"adaptivityEnabledChange"},{emit:"applyButtonTextChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"calendarOptionsChange"},{emit:"cancelButtonTextChange"},{emit:"dateOutOfRangeMessageChange"},{emit:"dateSerializationFormatChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"disabledDatesChange"},{emit:"displayFormatChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"intervalChange"},{emit:"invalidDateMessageChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxChange"},{emit:"maxLengthChange"},{emit:"minChange"},{emit:"nameChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"pickerTypeChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showAnalogClockChange"},{emit:"showClearButtonChange"},{emit:"showDropDownButtonChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"todayButtonTextChange"},{emit:"typeChange"},{emit:"useMaskBehaviorChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),ft.setHost(this)}_createInstance(e,h){return new A.A(e,h)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",h=>{this.eventHelper.fireNgEvent("onBlur",[h])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("buttons",e),this.setupChanges("disabledDates",e),this.setupChanges("validationErrors",e)}setupChanges(e,h){e in this._optionsToUpdate||this._idh.setup(e,h)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("disabledDates"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,h){let R=this._idh.setupSingle(e,h),C=null!==this._idh.getChanges(e,h);(R||C)&&super._setOption(e,h)}static \u0275fac=function(h){return new(h||l)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(u.zF),a.rXU(u.jS),a.rXU(u.$M),a.rXU(u.fH),a.rXU(a.pJN),a.rXU(a.Agw))};static \u0275cmp=a.VBU({type:l,selectors:[["dx-date-box"]],contentQueries:function(h,R,C){if(1&h&&(a.wni(C,Y,4),a.wni(C,b.BrI,4)),2&h){let V;a.mGM(V=a.lsd())&&(R.buttonsChildren=V),a.mGM(V=a.lsd())&&(R.buttonsLegacyChildren=V)}},hostAttrs:["ngSkipHydration","true"],hostBindings:function(h,R){1&h&&a.bIt("valueChange",function(V){return R.change(V)})("onBlur",function(V){return R.touched(V)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",adaptivityEnabled:"adaptivityEnabled",applyButtonText:"applyButtonText",applyValueMode:"applyValueMode",buttons:"buttons",calendarOptions:"calendarOptions",cancelButtonText:"cancelButtonText",dateOutOfRangeMessage:"dateOutOfRangeMessage",dateSerializationFormat:"dateSerializationFormat",deferRendering:"deferRendering",disabled:"disabled",disabledDates:"disabledDates",displayFormat:"displayFormat",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",interval:"interval",invalidDateMessage:"invalidDateMessage",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",max:"max",maxLength:"maxLength",min:"min",name:"name",opened:"opened",openOnFieldClick:"openOnFieldClick",pickerType:"pickerType",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showAnalogClock:"showAnalogClock",showClearButton:"showClearButton",showDropDownButton:"showDropDownButton",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",todayButtonText:"todayButtonText",type:"type",useMaskBehavior:"useMaskBehavior",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",adaptivityEnabledChange:"adaptivityEnabledChange",applyButtonTextChange:"applyButtonTextChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",calendarOptionsChange:"calendarOptionsChange",cancelButtonTextChange:"cancelButtonTextChange",dateOutOfRangeMessageChange:"dateOutOfRangeMessageChange",dateSerializationFormatChange:"dateSerializationFormatChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",disabledDatesChange:"disabledDatesChange",displayFormatChange:"displayFormatChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",intervalChange:"intervalChange",invalidDateMessageChange:"invalidDateMessageChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxChange:"maxChange",maxLengthChange:"maxLengthChange",minChange:"minChange",nameChange:"nameChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",pickerTypeChange:"pickerTypeChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showAnalogClockChange:"showAnalogClockChange",showClearButtonChange:"showClearButtonChange",showDropDownButtonChange:"showDropDownButtonChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",todayButtonTextChange:"todayButtonTextChange",typeChange:"typeChange",useMaskBehaviorChange:"useMaskBehaviorChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},standalone:!0,features:[a.Jv_([u.zF,u.jS,v,u.fH,u.$M]),a.Vt3,a.OA$,a.aNF],decls:0,vars:0,template:function(h,R){},dependencies:[u.p_],encapsulation:2})}return l})(),P=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=a.$C({type:l});static \u0275inj=a.G2t({imports:[g,b.GIV,b.u4t,b.QWP,b.f8z,b.df_,b.YLo,b.YaD,b.eNx,b.Bkf,b.nwt,b.hXw,b.YGc,b.gf0,b.rvW,b.Tob,b.$Ql,B,y,K,q,Q,T,W,ht,gt,_t,w,f,_,E,L,z,nt,u.p_,u.xZ,b.GIV,b.u4t,b.QWP,b.f8z,b.df_,b.YLo,b.YaD,b.eNx,b.Bkf,b.nwt,b.hXw,b.YGc,b.gf0,b.rvW,b.Tob,b.$Ql,B,y,K,q,Q,T,W,ht,gt,_t,w,f,_,E,L,z,nt,u.xZ]})}return l})()}}]);