"use strict";(self.webpackChunkvet_pos_dev=self.webpackChunkvet_pos_dev||[]).push([[86],{9086:(ce,B,d)=>{d.r(B),d.d(B,{UsersRolesModule:()=>re});var b=d(177),u=d(9417),P=d(2183),e=d(4438),$=d(1626),U=d(7175);let ct=(()=>{class n{constructor(t){this.http=t,this.api=`${U.$.apiUrl}/rbac`,this.authApi=`${U.$.apiUrl}/auth`}listPermissions(){return this.http.get(`${this.api}/permissions`)}createPermission(t){return this.http.post(`${this.api}/permissions`,t)}updatePermission(t,i){return this.http.put(`${this.api}/permissions/${t}`,i)}deletePermission(t){return this.http.delete(`${this.api}/permissions/${t}`)}assignPermissionToRole(t){return this.http.post(`${this.api}/assign-permission`,t)}revokePermissionFromRole(t){return this.http.post(`${this.api}/revoke-permission`,t)}assignPermissionsToRole(t){return this.http.post(`${this.api}/assign-permissions-bulk`,t)}listRoles(){return this.http.get(`${this.api}/roles`)}createRole(t){return this.http.post(`${this.api}/roles`,t)}updateRole(t,i){return this.http.put(`${this.api}/roles/${t}`,i)}deleteRole(t){return this.http.delete(`${this.api}/roles/${t}`)}listUsers(){return this.http.get(`${this.api}/users`)}createUser(t){return this.http.post(`${this.api}/users`,t)}updateUser(t,i){return this.http.put(`${this.authApi}/users/${t}`,i)}deleteUser(t){return this.http.delete(`${this.authApi}/users/${t}`)}assignRoleToUser(t){return this.http.post(`${this.api}/assign-role`,t)}revokeRoleFromUser(t){return this.http.post(`${this.api}/revoke-role`,t)}getUserPermissions(t){return this.http.get(`${this.api}/users/${t}/permissions`)}listNavigationItems(t){let i=new $.Nl;return t&&Object.keys(t).forEach(o=>{void 0!==t[o]&&(i=i.set(o,t[o]))}),this.http.get(`${this.api}/navigation-items`,{params:i})}createNavigation(t){return this.http.post(`${this.api}/navigation`,t)}updateNavigation(t,i){return this.http.put(`${this.api}/navigation/${t}`,i)}deleteNavigation(t){return this.http.delete(`${this.api}/navigation/${t}`)}getUserNavigation(t,i){return this.http.post(`${this.api}/users/${t}/navigation`,{role_id:i})}static{this.\u0275fac=function(i){return new(i||n)(e.KVO($.Qq))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mt=d(8010),_t=d(5794),H=d(6511),k=d(8856),G=d(5506),L=d(4877),N=d(4747),j=d(5853),X=d(2564),Ct=d(8168),ft=d(4142),v=d(6676),T=d(1349),D=d(8708),vt=d(2243),Ot=d(5632),xt=d(4040),M=d(9489),bt=d(1368),z=d(3992),C=d(7184),Tt=d(8106),R=d(4241),E=d(5042),f=d(9765),yt=d(7963),K=d(8758),I=d(8461),St=d(9722),y=d(2126),g=d(2463),Dt=d(4435),It=d(7310),Et=d(2371),At=d(9328),Mt=d(8382);function A(n,s){return(n||s)&&!(n&&s)}class Y extends Et.A{_supportedKeys(){const s=super._supportedKeys(),t=o=>this._list._keyboardHandler(o),i=this.option("rtlEnabled");return(0,Ct.A)({},s,{backspace(o){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(o),this._isTagRemoved=!0;const a=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),0!==a.length&&(this._preserveFocusedTag=!0,this._removeTagElement(a),delete this._preserveFocusedTag)},upArrow:(o,a)=>o.altKey||!this._list?s.upArrow.call(this,o):t(a),downArrow:(o,a)=>o.altKey||!this._list?s.downArrow.call(this,o):t(a),del(o){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(o),this._isTagRemoved=!0;const a=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(a),delete this._preserveFocusedTag},enter(o,a){var l;const h=null!==(null===(l=this._list)||void 0===l?void 0:l.option("focusedElement"))&&!0===this.option("opened");if(this.option("acceptCustomValue")&&!h)return o.preventDefault(),void(""!==this._searchValue()&&this._customItemAddedHandler(o));this.option("opened")&&(this._saveValueChangeEvent(o),t(a),o.preventDefault())},space(o,a){const l=this.option("opened"),h=this._shouldRenderSearchEvent();l&&!h&&(this._saveValueChangeEvent(o),t(a),o.preventDefault())},leftArrow(o){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&i&&!this._$focusedTag)return;o.preventDefault();const a=i?"next":"prev";this._moveTagFocus(a),this.option("multiline")||this._scrollContainer(a)},rightArrow(o){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!i&&!this._$focusedTag)return;o.preventDefault();const a=i?"prev":"next";this._moveTagFocus(a),!this.option("multiline")&&this._scrollContainer(a)}})}_processKeyboardEvent(s){s.preventDefault(),s.stopPropagation(),this._saveValueChangeEvent(s)}_isEmpty(){return 0===this._getValue().length}_updateTagsContainer(s){this._$tagsContainer=s.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const s=(0,At.A)(this._input());return 0===s?.start&&0===s.end}_updateInputAriaActiveDescendant(s){this.setAria("activedescendant",s,this._input())}_moveTagFocus(s,t){if(!this._$focusedTag){const o=this._tagElements();return this._$focusedTag="next"===s?o.first():o.last(),this._toggleFocusClass(!0,this._$focusedTag),void this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"))}const i=this._$focusedTag[s](".dx-tag");i.length>0?(this._replaceFocusedTag(i),this._updateInputAriaActiveDescendant(i.attr("id"))):(t||"next"===s&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(s){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=s,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(s){return s&&s.length&&s[0]!==this._focusTarget()[0]?s:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(s){if(this.option("multiline")||!(0,Dt.Vd)()||!this._$tagsContainer)return;const t=this._getScrollPosition(s);this._$tagsContainer.scrollLeft(t)}_getScrollPosition(s){return"start"===s||"end"===s?this._getBorderPosition(s):this._$focusedTag?this._getFocusedTagPosition(s):this._getBorderPosition("end")}_getBorderPosition(s){const{rtlEnabled:t}=this.option(),i=A("end"===s,t),o=t?-1:1;return A(i,!t)?0:o*(this._$tagsContainer.get(0).scrollWidth-(0,y.Ot)(this._$tagsContainer))}_getFocusedTagPosition(s){const i=A("next"===s,this.option("rtlEnabled"));let{left:o}=this._$focusedTag.position(),a=this._$tagsContainer.scrollLeft();return i&&(o+=(0,y.Ot)(this._$focusedTag,!0)-(0,y.Ot)(this._$tagsContainer)),A(i,o<0)&&(a+=o),a}_setNextValue(){}_getDefaultOptions(){return(0,K.X)(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:D.A.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:s=>{this._multiTagPreparingHandler(s.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(s){const{length:t}=this._getValue();s.text=this.option("showMultiTagOnly")?D.A.getFormatter("dxTagBox-selected")(t):D.A.getFormatter("dxTagBox-moreSelected")(t-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new Tt.U((s,t)=>{const i=(0,C.A)("<div>").addClass("dx-tag-content");(0,C.A)("<span>").text(t.text??t).appendTo(i),(0,C.A)("<div>").addClass("dx-tag-remove-button").appendTo(i),s.append(i)},["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(s){s?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=(0,C.A)("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const s=this._getValue(),t=[];for(let i=0,o=s.length;i<o;i++){const a=this._shouldUseDisplayValue(s[i]);t.push((0,C.A)("<option>").val(a?this._displayGetter(s[i]):s[i]).attr("selected","selected"))}this._getSubmitElement().empty().append(t)}_initMarkup(){this._tagElementsCache=(0,C.A)();const s=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",s);const t={role:"application",roledescription:D.A.format("dxTagBox-ariaRoleDescription")};this.setAria(t,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(s,t,i){return s?i?s===t?void 0:s.split(" ").filter(o=>o!==t).join(" "):`${s} ${t}`:t}_updateElementAria(s,t){if(!s)return void this.setAria("labelledby",void 0,this.$element());const o=this.$element().attr("aria-labelledby"),a=this._getNewLabelId(o,s,t);this.setAria("labelledby",a,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const s=!(0,g.O9)(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",s).toggleClass("dx-tagbox-custom-template",!s),super._renderField()}_renderTagRemoveAction(){const s=this._createAction(this._removeTagHandler.bind(this)),t=(0,T.b4)(ft.U,"dxTagBoxTagRemove");v.A.off(this._$tagsContainer,t),v.A.on(this._$tagsContainer,t,".dx-tag-remove-button",i=>{s({event:i})})}_renderSingleLineScroll(){const s=(0,T.b4)("dxmousewheel",this.NAME),t=this.$element(),i=this.option("multiline");v.A.off(t,s),"desktop"===xt.A.real().deviceType?i||v.A.on(t,s,this._tagContainerMouseWheelHandler.bind(this)):this._$tagsContainer&&this._$tagsContainer.css("overflowX",i?"":"auto")}_tagContainerMouseWheelHandler(s){const t=this._$tagsContainer.scrollLeft(),i=-.3*s.delta;if(!(0,T.By)(s)&&(0,Mt.f)(this._$tagsContainer,i,!0))return this._$tagsContainer.scrollLeft(t+i),!1}_renderEvents(){super._renderEvents();const s=this._input(),t=(0,T.b4)("keydown",this.NAME);v.A.on(s,t,i=>{const o=(0,T.YD)(i);!this._isControlKey(o)&&this._isEditable()&&this._clearTagFocus()})}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const s=(0,T.b4)("mousedown","dxTagBox");v.A.off(this._inputWrapper(),s),v.A.on(this._inputWrapper(),s,t=>{t.target!==this._input()[0]&&this._isFocused()&&t.preventDefault()})}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return(0,f.z7)()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(s){this._preventNestedFocusEvent(s)||this._scrollContainer("end"),super._focusInHandler(s)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(s){s||this._clearTextValue()}_focusOutHandler(s){this._preventNestedFocusEvent(s)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(s)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:s}=this.option();return"useButtons"===s}_listConfig(){const s=this.option("showSelectionControls")?"all":"multiple";return(0,K.X)(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:s,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:t=>{let{value:i}=t;this._selectAllValueChangeAction({value:i})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const s=(0,f.cY)();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(s.resolve).fail(s.reject),s.promise()}_listItemClickHandler(s){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:t}=this.option();"useButtons"!==t&&(super._listItemClickHandler(s),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const s=super._shouldClearFilter();return!this.option("showSelectionControls")&&s}_renderInputSize(){const s=this._input(),t=s.val(),i=(0,g.Kg)(t)&&t;let a,o="";const l=this.option("searchEnabled")||this.option("acceptCustomValue");if(i&&l){const h=(0,yt.D2)(s,t,{includePaddings:!0});h.insertAfter(s),o=(0,y.Ot)(h)+5,h.remove()}else t||(a=1);s.css("width",o),s.attr("size",a??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:s}=this.option();return s||[]}_multiTagRequired(){const s=this._getValue(),{maxDisplayedTags:t}=this.option();return(0,g.O9)(t)&&s.length>t}_renderMultiTag(s){const t=`dx-${new z.A}`,i=(0,C.A)("<div>").attr("id",t).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),o={multiTagElement:(0,M.cc)(i),selectedItems:this.option("selectedItems")};return this._multiTagPreparingAction(o),!o.cancel&&(i.data("dxTagData",o.text),i.insertBefore(s),this._tagTemplate.render({model:o.text,container:(0,M.cc)(i)}),this._setTagAria(i,o.text),this._updateElementAria(t),i)}_getFilter(s){const t=this._dataController.filter(),i=s.getCombinedFilter(this.option("valueExpr"),t),o=encodeURI(JSON.stringify(i)).length,a=this.option("maxFilterQueryLength");if(o<=a)return i;It.A.log("W1019",a)}_getFilteredItems(s){var t,i;null===(t=this._loadFilteredItemsPromise)||void 0===t||t.reject();const o=new St.H(s),a=null===(i=this._list)||void 0===i?void 0:i.option("selectedItems"),l=!!a&&this._list._dataController.isLoaded(),h=a||this.option("selectedItems"),m=o.getLocalFilter(this._valueGetter),O=h.filter(m),_=O.length===s.length,c=(0,f.cY)(),S=this._dataController;if(!this._dataSource)return c.resolve([]).promise();if((!this._isDataSourceChanged||l)&&_&&!this._isDataSourceOptionChanged)return c.resolve(O).promise();const{customQueryParams:x,expand:V,select:le}=S.loadOptions(),de=this._getFilter(o);return S.loadFromStore({filter:de,customQueryParams:x,expand:V,select:le}).done((he,pe)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed)return void c.reject();const{data:ue}=(0,vt.Xp)(he,pe),ge=S.applyMapFunction(ue);c.resolve(ge.filter(m))}).fail(c.reject),this._loadFilteredItemsPromise=c,c.promise()}_createTagsData(s,t){const i=[],o={},a="this"===this._valueGetterExpr(),{acceptCustomValue:l}=this.option(),h={};t.forEach(_=>{const c=a?JSON.stringify(_):this._valueGetter(_);h[c]=_});const m=[];s.forEach((_,c)=>{const S=h[a?JSON.stringify(_):_];if(a&&!(0,g.O9)(S)){if(!this._dataSource)return;m.push(this._loadItem(_,o).done(x=>{const V=this._createTagData(x,_);i.splice(c,0,V)}).fail(()=>{if(l){const x=this._createTagData(void 0,_);i.splice(c,0,x)}}))}else{const x=this._createTagData(S,_);i.splice(c,0,x)}});const O=(0,f.cY)();return f.z7.apply(this,m).always(()=>{O.resolve(i)}),O.promise()}_createTagData(s,t){if((0,g.O9)(s))return this._selectedItems.push(s),s;const i=this.option("selectedItem");return this._valueGetter(i)===t?i:t}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(s){const t=[];return s.forEach(i=>{const o=this._getItemFromPlain(i);(0,g.O9)(o)&&t.push(o)}),t}_getFilteredGroupedItems(s){const t=(0,f.cY)();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?t.resolve(this._getItemsByValues(s)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done(()=>{t.resolve(this._getItemsByValues(s))}).fail(()=>{t.resolve([])}).always(()=>{this._filteredGroupedItemsLoadPromise=void 0}),t.promise()}_loadTagsData(){const s=this._getValue(),t=(0,f.cY)();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(s):this._getFilteredItems(s)).done(o=>{this._createTagsData(s,o).always(l=>{t.resolve(l)})}).fail(t.reject.bind(this)),t.promise()}_renderTags(){const s=(0,f.cY)();let t=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),t=!0,s.resolve())),t||this._loadTagsData().done(i=>{this._disposed?s.reject():(this._tagsToRender=i,this._renderTagsImpl(),s.resolve())}).fail(s.reject),s.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(s){return s&&this._dataController.isLoaded()&&s.length<=this._getPlainItems().length}_getItemsFromPlain(s){let t=this._getSelectedItemsFromList(s);if(0===t.length&&s.length>0||t.length<s.length){const o=this._getPlainItems();t=this._filterSelectedItems(o,s)}return t}_getSelectedItemsFromList(s){const{selectedItems:t}=this._list?this._list.option():{selectedItems:[]};let i=[];return s.length===t?.length&&(i=this._filterSelectedItems(t,s)),i}_filterSelectedItems(s,t){return s.filter(o=>{let a;for(let l=0;l<t.length;l++)if(a=t[l],(0,g.Gv)(a)){if(this._isValueEquals(o,a))return!0}else if(this._isValueEquals(this._valueGetter(o),a))return!0;return!1},this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const s=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(s),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var s;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),null===(s=this._popup)||void 0===s||s.refreshPosition()}_shouldUpdateSelectedItems(){var s,t;const{selectedItems:i}=this.option();return!!((0,g.O9)(i)&&i.length!==(null===(s=this._selectedItems)||void 0===s?void 0:s.length)||(0,R._N)(i,this._selectedItems).length!==(null===(t=this._selectedItems)||void 0===t?void 0:t.length))}_renderTagsElements(s){const t=this._multiTagRequired()&&this._renderMultiTag(this._input()),i=this.option("showMultiTagOnly"),o=this.option("maxDisplayedTags");s.forEach((a,l)=>{if(t&&i||t&&!i&&l-o>=-1)return!1;this._renderTag(a,t||this._input())}),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const s=this._tagElements(),i=(this.option("selectedItems")??[]).map(o=>this._valueGetter(o));(0,I.__)(s,(o,a)=>{const l=(0,C.A)(a),h=l.data("dxTagData");i.includes(h)||l.remove()})}this._updateElementAria()}_renderEmptyState(){const s=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(s),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(s,t){this._tagTemplate.render({model:s,container:(0,M.cc)(t)})}_renderTag(s,t){const i=this._valueGetter(s);if(!(0,g.O9)(i))return;let o=this._getTag(i);const a=this._displayGetter(s),l=this._getItemModel(s,a);if(o){const h=o.data("dxTagDisplayValue");(0,g.O9)(a)&&!(0,E.RL)(h,a)&&(o.empty(),this._applyTagTemplate(l,o)),this._updateElementAria(o.attr("id"))}else{const h=`dx-${new z.A}`;o=this._createTag(i,t,h,a),this._setTagAria(o,(0,g.O9)(a)?a:i),(0,g.O9)(s)?this._applyTagTemplate(l,o):this._applyTagTemplate(i,o),this._updateElementAria(h)}}_setTagAria(s,t){const i={role:"button",label:t,roledescription:D.A.format("dxTagBox-tagRoleDescription")};this.setAria(i,s)}_getItemModel(s,t){return(0,g.Gv)(s)&&(0,g.O9)(t)?s:(0,E.YD)(t,"")}_getTag(s){const t=this._tagElements(),i=t.length;let o=!1;for(let a=0;a<i;a++){const l=t[a],h=(0,bt.p)(l,"dxTagData");if(s===h||(0,E.RL)(s,h)){o=(0,C.A)(l);break}}return o}_createTag(s,t,i,o){return(0,C.A)("<div>").attr("id",i).addClass("dx-tag").data("dxTagData",s).data("dxTagDisplayValue",o).insertBefore(t)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(s){super._customItemAddedHandler(s),this._clearTextValue()}_removeTagHandler(s){const t=s.event;t.stopPropagation(),this._saveValueChangeEvent(t);const i=(0,C.A)(t.target).closest(".dx-tag");this._removeTagElement(i)}_removeTagElement(s){if(s.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:o}=this.option();this.option("value",this._getValue().slice(0,o))}return}const t=s.data("dxTagData"),i=s.attr("id");this._removeTagWithUpdate(t),this._updateElementAria(i,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(s){const t=this._getValue().slice();this._removeTag(t,s),this.option("value",t),this.option("selectedItem",null),0===t.length&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(s){const{applyValueMode:t}=this.option();if("useButtons"===t)return;const i=this._getValue().slice();if((0,I.__)(s.removedItems||[],(o,a)=>{this._removeTag(i,this._valueGetter(a))}),(0,I.__)(s.addedItems||[],(o,a)=>{this._addTag(i,this._valueGetter(a))}),this._updateWidgetHeight(),!(0,E.RL)(this._list.option("selectedItemKeys"),this.option("value"))){const o=this._list._getSelectionChangeEvent();o&&this._saveValueChangeEvent(o),this.option("value",i)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(s,t){const i=this._valueIndex(t,s);i>=0&&s.splice(i,1)}_addTag(s,t){this._valueIndex(t)<0&&s.push(t)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(s){this.option("showSelectionControls")||this._setValue(s)}_setValue(s){var t;if(null===s)return;const{applyValueMode:i}=this.option(),o="useButtons"===i,a=this._valueIndex(s),{selectedItemKeys:l}=(null===(t=this._list)||void 0===t?void 0:t.option())||{selectedItemKeys:[]},h=(o?l??[]:this._getValue()).slice();var m;a>=0?h.splice(a,1):h.push(s),o?null===(m=this._list)||void 0===m||m.option("selectedItemKeys",h):this.option("value",h)}_isSelectedValue(s,t){return this._valueIndex(s,null,t)>-1}_valueIndex(s,t,i){let o=-1;return i&&"object"!=typeof s&&(i.indexByValues||(i.indexByValues={},(t=t||this._getValue()).forEach((a,l)=>{i.indexByValues[a]=l})),s in i.indexByValues)?i.indexByValues[s]:(t=t||this._getValue(),(0,I.__)(t,(a,l)=>{if(this._isValueEquals(s,l))return o=a,!1}),o)}_lastValue(){const s=this._getValue();return s[s.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:s,acceptCustomValue:t}=this.option();return s||t}_searchHandler(s){this.option("searchEnabled")&&s&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const s=this.$element(),t=(0,y.Oq)(s);this._renderInputSize();const i=(0,y.Oq)(s);this._popup&&this.option("opened")&&this._isEditable()&&i!==t&&this._popup.repaint()}_refreshSelected(){var s;null!==(s=this._list)&&void 0!==s&&s.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const s=this._dataController;delete this._userFilter,s.filter(null),s.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const s=this._dataController,t=this._valueGetterExpr();if((0,g.Kg)(t)&&"this"!==t){const i=this._dataSourceFilterExpr();void 0===this._userFilter&&(this._userFilter=s.filter()||null),this._userFilter&&i.push(this._userFilter),s.filter(i.length?i:null)}else s.filter(this._dataSourceFilterFunction.bind(this));s.load()}_dataSourceFilterExpr(){const s=[];return this._getValue().forEach(t=>s.push(["!",[this._valueGetterExpr(),t]])),s}_dataSourceFilterFunction(s){const t=this._valueGetter(s);let i=!0;return(0,I.__)(this._getValue(),(o,a)=>{if(this._isValueEquals(a,t))return i=!1,!1}),i}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(s){this._saveValueChangeEvent(s.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const s=this._getListValues(),{value:t}=this.option(),i=t||[],o=s.length?(0,R._N)(i,s):[],a=o.length?(0,R.R3)(s,i):s;return o.concat(a)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map(s=>this._valueGetter(s)):[]}_setListDataSource(){const s=this._getValue();super._setListDataSource();const{value:t}=this.option();s!==t&&this.option("value",s),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:s}=this.option();"useButtons"===s&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const s=this._getDefaultOptions().value,{value:t}=this.option();s&&0===s.length&&t&&s.length===t.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(s,t){if(!s.length)return{addedItems:[],removedItems:t.slice()};if(!t.length)return{addedItems:s.slice(),removedItems:[]};const i=t.reduce((a,l)=>(a[this._valueGetter(l)]=l,a),{}),o=[];return s.forEach(a=>{const l=this._valueGetter(a);i[l]||o.push(a),delete i[l]}),{addedItems:o,removedItems:Object.values(i)}}_optionChanged(s){const{name:t,value:i,previousValue:o}=s;switch(t){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":i?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(i);break;case"displayExpr":super._optionChanged(s),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(s),!i&&this._refreshEvents();break;case"value":this._valuesToUpdate=i,super._optionChanged(s),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(t,i);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(i,o));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!i),this._renderSingleLineScroll();break;default:super._optionChanged(s)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}(0,Ot.A)("dxTagBox",Y);const Rt=Y;var r=d(5245),p=d(1063);const F=["*"];let Ft=(()=>{class n extends r.t${get hide(){return this._getOption("hide")}set hide(t){this._setOption("hide",t)}get show(){return this._getOption("show")}set show(t){this._setOption("show",t)}get _optionPath(){return"animation"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-animation"]],inputs:{hide:"hide",show:"show"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),W=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Ft]})}return n})(),wt=(()=>{class n extends r.t${get x(){return this._getOption("x")}set x(t){this._setOption("x",t)}get y(){return this._getOption("y")}set y(t){this._setOption("y",t)}get _optionPath(){return"at"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-at"]],inputs:{x:"x",y:"y"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),Q=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[wt]})}return n})(),Vt=(()=>{class n extends r.t${get x(){return this._getOption("x")}set x(t){this._setOption("x",t)}get y(){return this._getOption("y")}set y(t){this._setOption("y",t)}get _optionPath(){return"boundaryOffset"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-boundary-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),J=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Vt]})}return n})(),Z=(()=>{class n extends r.l9{get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get _optionPath(){return"buttons"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxi-tag-box-button"]],inputs:{location:"location",name:"name",options:"options"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),q=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Z]})}return n})(),Bt=(()=>{class n extends r.t${get x(){return this._getOption("x")}set x(t){this._setOption("x",t)}get y(){return this._getOption("y")}set y(t){this._setOption("y",t)}get _optionPath(){return"collision"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-collision"]],inputs:{x:"x",y:"y"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),tt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Bt]})}return n})(),et=(()=>{class n extends r.l9{renderer;document;element;get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(t){this._setOption("locateInMenu",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(t){this._setOption("menuItemTemplate",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get showText(){return this._getOption("showText")}set showText(t){this._setOption("showText",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get toolbar(){return this._getOption("toolbar")}set toolbar(t){this._setOption("toolbar",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get widget(){return this._getOption("widget")}set widget(t){this._setOption("widget",t)}get _optionPath(){return"toolbarItems"}constructor(t,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1),e.rXU(e.sFG),e.rXU(b.qQ),e.rXU(r.zF,1),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["dxi-tag-box-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},standalone:!0,features:[e.Jv_([r.fH,r.zF]),e.Vt3,e.aNF],ngContentSelectors:F,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return n})(),it=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[et]})}return n})(),Pt=(()=>{class n extends r.t${get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get animation(){return this._getOption("animation")}set animation(t){this._setOption("animation",t)}get container(){return this._getOption("container")}set container(t){this._setOption("container",t)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(t){this._setOption("contentTemplate",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(t){this._setOption("dragAndResizeArea",t)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(t){this._setOption("dragEnabled",t)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(t){this._setOption("dragOutsideBoundary",t)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(t){this._setOption("enableBodyScroll",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(t){this._setOption("fullScreen",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(t){this._setOption("hideOnOutsideClick",t)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(t){this._setOption("hideOnParentScroll",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(t){this._setOption("maxHeight",t)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(t){this._setOption("maxWidth",t)}get minHeight(){return this._getOption("minHeight")}set minHeight(t){this._setOption("minHeight",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(t){this._setOption("onContentReady",t)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(t){this._setOption("onDisposing",t)}get onHidden(){return this._getOption("onHidden")}set onHidden(t){this._setOption("onHidden",t)}get onHiding(){return this._getOption("onHiding")}set onHiding(t){this._setOption("onHiding",t)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(t){this._setOption("onInitialized",t)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(t){this._setOption("onOptionChanged",t)}get onResize(){return this._getOption("onResize")}set onResize(t){this._setOption("onResize",t)}get onResizeEnd(){return this._getOption("onResizeEnd")}set onResizeEnd(t){this._setOption("onResizeEnd",t)}get onResizeStart(){return this._getOption("onResizeStart")}set onResizeStart(t){this._setOption("onResizeStart",t)}get onShowing(){return this._getOption("onShowing")}set onShowing(t){this._setOption("onShowing",t)}get onShown(){return this._getOption("onShown")}set onShown(t){this._setOption("onShown",t)}get onTitleRendered(){return this._getOption("onTitleRendered")}set onTitleRendered(t){this._setOption("onTitleRendered",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(t){this._setOption("resizeEnabled",t)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(t){this._setOption("restorePosition",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get shading(){return this._getOption("shading")}set shading(t){this._setOption("shading",t)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(t){this._setOption("shadingColor",t)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(t){this._setOption("showCloseButton",t)}get showTitle(){return this._getOption("showTitle")}set showTitle(t){this._setOption("showTitle",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(t){this._setOption("titleTemplate",t)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(t){this._setOption("toolbarItems",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(t){this._setOption("wrapperAttr",t)}heightChange;positionChange;visibleChange;widthChange;get _optionPath(){return"dropDownOptions"}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(t){this.setChildren("toolbarItems",t)}constructor(t,i){super(),this._createEventEmitters([{emit:"heightChange"},{emit:"positionChange"},{emit:"visibleChange"},{emit:"widthChange"}]),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-drop-down-options"]],contentQueries:function(i,o,a){if(1&i&&e.wni(a,et,4),2&i){let l;e.mGM(l=e.lsd())&&(o.toolbarItemsChildren=l)}},inputs:{accessKey:"accessKey",animation:"animation",container:"container",contentTemplate:"contentTemplate",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{heightChange:"heightChange",positionChange:"positionChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),st=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Pt]})}return n})(),$t=(()=>{class n extends r.t${get left(){return this._getOption("left")}set left(t){this._setOption("left",t)}get opacity(){return this._getOption("opacity")}set opacity(t){this._setOption("opacity",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get scale(){return this._getOption("scale")}set scale(t){this._setOption("scale",t)}get top(){return this._getOption("top")}set top(t){this._setOption("top",t)}get _optionPath(){return"from"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-from"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),nt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[$t]})}return n})(),Ut=(()=>{class n extends r.t${get complete(){return this._getOption("complete")}set complete(t){this._setOption("complete",t)}get delay(){return this._getOption("delay")}set delay(t){this._setOption("delay",t)}get direction(){return this._getOption("direction")}set direction(t){this._setOption("direction",t)}get duration(){return this._getOption("duration")}set duration(t){this._setOption("duration",t)}get easing(){return this._getOption("easing")}set easing(t){this._setOption("easing",t)}get from(){return this._getOption("from")}set from(t){this._setOption("from",t)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(t){this._setOption("staggerDelay",t)}get start(){return this._getOption("start")}set start(t){this._setOption("start",t)}get to(){return this._getOption("to")}set to(t){this._setOption("to",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get _optionPath(){return"hide"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-hide"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),ot=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Ut]})}return n})(),at=(()=>{class n extends r.l9{renderer;document;element;get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get _optionPath(){return"items"}constructor(t,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1),e.rXU(e.sFG),e.rXU(b.qQ),e.rXU(r.zF,1),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["dxi-tag-box-item"]],inputs:{disabled:"disabled",html:"html",template:"template",text:"text",visible:"visible"},standalone:!0,features:[e.Jv_([r.fH,r.zF]),e.Vt3,e.aNF],ngContentSelectors:F,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return n})(),rt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[at]})}return n})(),Ht=(()=>{class n extends r.t${get x(){return this._getOption("x")}set x(t){this._setOption("x",t)}get y(){return this._getOption("y")}set y(t){this._setOption("y",t)}get _optionPath(){return"my"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-my"]],inputs:{x:"x",y:"y"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),lt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Ht]})}return n})(),kt=(()=>{class n extends r.t${get x(){return this._getOption("x")}set x(t){this._setOption("x",t)}get y(){return this._getOption("y")}set y(t){this._setOption("y",t)}get _optionPath(){return"offset"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),dt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[kt]})}return n})(),Gt=(()=>{class n extends r.t${renderer;document;element;get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get onClick(){return this._getOption("onClick")}set onClick(t){this._setOption("onClick",t)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(t){this._setOption("onContentReady",t)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(t){this._setOption("onDisposing",t)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(t){this._setOption("onInitialized",t)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(t){this._setOption("onOptionChanged",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(t){this._setOption("useSubmitBehavior",t)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(t){this._setOption("validationGroup",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get _optionPath(){return"options"}constructor(t,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1),e.rXU(e.sFG),e.rXU(b.qQ),e.rXU(r.zF,1),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},standalone:!0,features:[e.Jv_([r.fH,r.zF]),e.Vt3,e.aNF],ngContentSelectors:F,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return n})(),ht=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Gt]})}return n})(),Lt=(()=>{class n extends r.t${get at(){return this._getOption("at")}set at(t){this._setOption("at",t)}get boundary(){return this._getOption("boundary")}set boundary(t){this._setOption("boundary",t)}get boundaryOffset(){return this._getOption("boundaryOffset")}set boundaryOffset(t){this._setOption("boundaryOffset",t)}get collision(){return this._getOption("collision")}set collision(t){this._setOption("collision",t)}get my(){return this._getOption("my")}set my(t){this._setOption("my",t)}get of(){return this._getOption("of")}set of(t){this._setOption("of",t)}get offset(){return this._getOption("offset")}set offset(t){this._setOption("offset",t)}get _optionPath(){return"position"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-position"]],inputs:{at:"at",boundary:"boundary",boundaryOffset:"boundaryOffset",collision:"collision",my:"my",of:"of",offset:"offset"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),pt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Lt]})}return n})(),Nt=(()=>{class n extends r.t${get complete(){return this._getOption("complete")}set complete(t){this._setOption("complete",t)}get delay(){return this._getOption("delay")}set delay(t){this._setOption("delay",t)}get direction(){return this._getOption("direction")}set direction(t){this._setOption("direction",t)}get duration(){return this._getOption("duration")}set duration(t){this._setOption("duration",t)}get easing(){return this._getOption("easing")}set easing(t){this._setOption("easing",t)}get from(){return this._getOption("from")}set from(t){this._setOption("from",t)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(t){this._setOption("staggerDelay",t)}get start(){return this._getOption("start")}set start(t){this._setOption("start",t)}get to(){return this._getOption("to")}set to(t){this._setOption("to",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get _optionPath(){return"show"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-show"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),ut=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[Nt]})}return n})(),jt=(()=>{class n extends r.t${get left(){return this._getOption("left")}set left(t){this._setOption("left",t)}get opacity(){return this._getOption("opacity")}set opacity(t){this._setOption("opacity",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get scale(){return this._getOption("scale")}set scale(t){this._setOption("scale",t)}get top(){return this._getOption("top")}set top(t){this._setOption("top",t)}get _optionPath(){return"to"}constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||n)(e.rXU(r.fH,5),e.rXU(r.fH,1))};static \u0275cmp=e.VBU({type:n,selectors:[["dxo-tag-box-to"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[e.Jv_([r.fH]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return n})(),gt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[jt]})}return n})();const Xt={provide:u.kq,useExisting:(0,e.Rfq)(()=>w),multi:!0};let w=(()=>{class n extends r.ic{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(t){this._setOption("acceptCustomValue",t)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(t){this._setOption("applyValueMode",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(t){this._setOption("customItemCreateEvent",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(t){this._setOption("displayExpr",t)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(t){this._setOption("dropDownButtonTemplate",t)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(t){this._setOption("dropDownOptions",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(t){this._setOption("fieldTemplate",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get grouped(){return this._getOption("grouped")}set grouped(t){this._setOption("grouped",t)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(t){this._setOption("groupTemplate",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hideSelectedItems(){return this._getOption("hideSelectedItems")}set hideSelectedItems(t){this._setOption("hideSelectedItems",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get isDirty(){return this._getOption("isDirty")}set isDirty(t){this._setOption("isDirty",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(t){this._setOption("itemTemplate",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get maxDisplayedTags(){return this._getOption("maxDisplayedTags")}set maxDisplayedTags(t){this._setOption("maxDisplayedTags",t)}get maxFilterQueryLength(){return this._getOption("maxFilterQueryLength")}set maxFilterQueryLength(t){this._setOption("maxFilterQueryLength",t)}get maxLength(){return this._getOption("maxLength")}set maxLength(t){this._setOption("maxLength",t)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(t){this._setOption("minSearchLength",t)}get multiline(){return this._getOption("multiline")}set multiline(t){this._setOption("multiline",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get noDataText(){return this._getOption("noDataText")}set noDataText(t){this._setOption("noDataText",t)}get opened(){return this._getOption("opened")}set opened(t){this._setOption("opened",t)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(t){this._setOption("openOnFieldClick",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(t){this._setOption("searchEnabled",t)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(t){this._setOption("searchExpr",t)}get searchMode(){return this._getOption("searchMode")}set searchMode(t){this._setOption("searchMode",t)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(t){this._setOption("searchTimeout",t)}get selectAllMode(){return this._getOption("selectAllMode")}set selectAllMode(t){this._setOption("selectAllMode",t)}get selectAllText(){return this._getOption("selectAllText")}set selectAllText(t){this._setOption("selectAllText",t)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(t){this._setOption("selectedItems",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(t){this._setOption("showDataBeforeSearch",t)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(t){this._setOption("showDropDownButton",t)}get showMultiTagOnly(){return this._getOption("showMultiTagOnly")}set showMultiTagOnly(t){this._setOption("showMultiTagOnly",t)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(t){this._setOption("showSelectionControls",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get tagTemplate(){return this._getOption("tagTemplate")}set tagTemplate(t){this._setOption("tagTemplate",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(t){this._setOption("useItemTextAsTitle",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(t){this._setOption("valueExpr",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(t){this._setOption("wrapItemText",t)}onChange;onClosed;onContentReady;onCustomItemCreating;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onItemClick;onKeyDown;onKeyUp;onMultiTagPreparing;onOpened;onOptionChanged;onSelectAllValueChanged;onSelectionChanged;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;applyValueModeChange;buttonsChange;customItemCreateEventChange;dataSourceChange;deferRenderingChange;disabledChange;displayExprChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;fieldTemplateChange;focusStateEnabledChange;groupedChange;groupTemplateChange;heightChange;hideSelectedItemsChange;hintChange;hoverStateEnabledChange;inputAttrChange;isDirtyChange;isValidChange;itemsChange;itemTemplateChange;labelChange;labelModeChange;maxDisplayedTagsChange;maxFilterQueryLengthChange;maxLengthChange;minSearchLengthChange;multilineChange;nameChange;noDataTextChange;openedChange;openOnFieldClickChange;placeholderChange;readOnlyChange;rtlEnabledChange;searchEnabledChange;searchExprChange;searchModeChange;searchTimeoutChange;selectAllModeChange;selectAllTextChange;selectedItemsChange;showClearButtonChange;showDataBeforeSearchChange;showDropDownButtonChange;showMultiTagOnlyChange;showSelectionControlsChange;stylingModeChange;tabIndexChange;tagTemplateChange;textChange;useItemTextAsTitleChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;valueExprChange;visibleChange;widthChange;wrapItemTextChange;onBlur;change(t){}touched=t=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this._setChildren("buttons",t,"DxiTagBoxButtonComponent")}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this._setChildren("items",t,"DxiTagBoxItemComponent")}get buttonsLegacyChildren(){return this._getOption("buttons")}set buttonsLegacyChildren(t){this._setChildren("buttons",t,"DxiButtonComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(t){this._setChildren("items",t,"DxiItemComponent")}constructor(t,i,o,a,l,h,m,O){super(t,i,o,a,m,O),this._watcherHelper=a,this._idh=l,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"multiTagPreparing",emit:"onMultiTagPreparing"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectAllValueChanged",emit:"onSelectAllValueChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hideSelectedItemsChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxDisplayedTagsChange"},{emit:"maxFilterQueryLengthChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"multilineChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectAllModeChange"},{emit:"selectAllTextChange"},{emit:"selectedItemsChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showMultiTagOnlyChange"},{emit:"showSelectionControlsChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"tagTemplateChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),h.setHost(this)}_createInstance(t,i){return new Rt(t,i)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("dataSource",t),this.setupChanges("items",t),this.setupChanges("searchExpr",t),this.setupChanges("selectedItems",t),this.setupChanges("validationErrors",t),this.setupChanges("value",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("selectedItems"),this._idh.doCheck("validationErrors"),this._idh.doCheck("value"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let o=this._idh.setupSingle(t,i),a=null!==this._idh.getChanges(t,i);(o||a)&&super._setOption(t,i)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(r.zF),e.rXU(r.jS),e.rXU(r.$M),e.rXU(r.fH),e.rXU(e.pJN),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:n,selectors:[["dx-tag-box"]],contentQueries:function(i,o,a){if(1&i&&(e.wni(a,Z,4),e.wni(a,at,4),e.wni(a,p.BrI,4),e.wni(a,p.CVf,4)),2&i){let l;e.mGM(l=e.lsd())&&(o.buttonsChildren=l),e.mGM(l=e.lsd())&&(o.itemsChildren=l),e.mGM(l=e.lsd())&&(o.buttonsLegacyChildren=l),e.mGM(l=e.lsd())&&(o.itemsLegacyChildren=l)}},hostAttrs:["ngSkipHydration","true"],hostBindings:function(i,o){1&i&&e.bIt("valueChange",function(l){return o.change(l)})("onBlur",function(l){return o.touched(l)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",applyValueMode:"applyValueMode",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hideSelectedItems:"hideSelectedItems",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxDisplayedTags:"maxDisplayedTags",maxFilterQueryLength:"maxFilterQueryLength",maxLength:"maxLength",minSearchLength:"minSearchLength",multiline:"multiline",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectAllMode:"selectAllMode",selectAllText:"selectAllText",selectedItems:"selectedItems",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showMultiTagOnly:"showMultiTagOnly",showSelectionControls:"showSelectionControls",stylingMode:"stylingMode",tabIndex:"tabIndex",tagTemplate:"tagTemplate",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCustomItemCreating:"onCustomItemCreating",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onMultiTagPreparing:"onMultiTagPreparing",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onSelectAllValueChanged:"onSelectAllValueChanged",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hideSelectedItemsChange:"hideSelectedItemsChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxDisplayedTagsChange:"maxDisplayedTagsChange",maxFilterQueryLengthChange:"maxFilterQueryLengthChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",multilineChange:"multilineChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectAllModeChange:"selectAllModeChange",selectAllTextChange:"selectAllTextChange",selectedItemsChange:"selectedItemsChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showMultiTagOnlyChange:"showMultiTagOnlyChange",showSelectionControlsChange:"showSelectionControlsChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",tagTemplateChange:"tagTemplateChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},standalone:!0,features:[e.Jv_([r.zF,r.jS,Xt,r.fH,r.$M]),e.Vt3,e.OA$,e.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_],encapsulation:2})}return n})(),zt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[w,p.GIV,p.u4t,p.df_,p.YLo,p.YaD,p.eNx,p.Bkf,p.nwt,p.hXw,p.YGc,p.gf0,p.rvW,p.Tob,p.$Ql,p.POb,W,Q,J,q,tt,st,nt,ot,rt,lt,dt,ht,pt,ut,gt,it,r.p_,r.xZ,p.GIV,p.u4t,p.df_,p.YLo,p.YaD,p.eNx,p.Bkf,p.nwt,p.hXw,p.YGc,p.gf0,p.rvW,p.Tob,p.$Ql,p.POb,W,Q,J,q,tt,st,nt,ot,rt,lt,dt,ht,pt,ut,gt,it,r.xZ]})}return n})();function Kt(n,s){if(1&n&&e.nrm(0,"img",47),2&n){const t=e.XpG().$implicit;e.Y8G("src",t.data.profile_photo,e.B4B)}}function Yt(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,Kt,1,1,"img",46),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.Y8G("ngIf",t.data.profile_photo)}}function Wt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",48)(2,"dx-button",49),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openPopup("user",o.data))}),e.k0s(),e.j41(3,"dx-button",50),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openAssignRolePopup(o.data))}),e.k0s(),e.j41(4,"dx-button",51),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteUser(o.data.id))}),e.k0s()()()}}function Qt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",48)(2,"dx-button",52),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openPopup("role",o.data))}),e.k0s(),e.j41(3,"dx-button",53),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openAssignPermissionPopup(o.data))}),e.k0s(),e.j41(4,"dx-button",54),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteRole(o.data.id))}),e.k0s()()()}}function Jt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",48)(2,"dx-button",55),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openPopup("permission",o.data))}),e.k0s(),e.j41(3,"dx-button",56),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deletePermission(o.data.id))}),e.k0s()()()}}function Zt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",48)(2,"dx-button",57),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openPopup("navigation",o.data))}),e.k0s(),e.j41(3,"dx-button",58),e.bIt("onClick",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteNavigationItem(o.data.id))}),e.k0s()()()}}function qt(n,s){1&n&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Name"),e.k0s(),e.nrm(3,"dx-text-box",59),e.k0s())}function te(n,s){1&n&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Email"),e.k0s(),e.nrm(3,"dx-text-box",60),e.j41(4,"label"),e.EFF(5,"Password"),e.k0s(),e.nrm(6,"dx-text-box",61),e.j41(7,"label"),e.EFF(8,"Phone Number"),e.k0s(),e.nrm(9,"dx-text-box",62),e.k0s())}function ee(n,s){if(1&n&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Name"),e.k0s(),e.nrm(3,"dx-text-box",63),e.j41(4,"label"),e.EFF(5,"Code"),e.k0s(),e.nrm(6,"dx-text-box",64),e.j41(7,"label"),e.EFF(8,"Description"),e.k0s(),e.nrm(9,"dx-text-box",65),e.j41(10,"label"),e.EFF(11,"Linked Navigation"),e.k0s(),e.nrm(12,"dx-select-box",66),e.k0s()),2&n){const t=e.XpG();e.R7$(12),e.Y8G("dataSource",t.navigationItems)}}function ie(n,s){1&n&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Description"),e.k0s(),e.nrm(3,"dx-text-area",67),e.k0s())}function se(n,s){1&n&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Route"),e.k0s(),e.nrm(3,"dx-text-box",68),e.j41(4,"label"),e.EFF(5,"Icon"),e.k0s(),e.nrm(6,"dx-text-box",69),e.j41(7,"label"),e.EFF(8,"Level"),e.k0s(),e.nrm(9,"dx-number-box",70),e.j41(10,"label"),e.EFF(11,"Enabled"),e.k0s(),e.nrm(12,"dx-switch",71),e.k0s()),2&n&&(e.R7$(9),e.Y8G("min",0))}const ne=[{path:"",component:(()=>{class n{constructor(t,i,o,a){this.usersRolesService=t,this.authService=i,this.fb=o,this.toastr=a,this.users=[],this.roles=[],this.permissions=[],this.navigationItems=[],this.popupVisible=!1,this.popupTitle="",this.popupType=null,this.editingData=null,this.isAssignRolePopupVisible=!1,this.selectedUserId=null,this.isAssignPermissionPopupVisible=!1,this.selectedRoleId=null,this.loading=!1}ngOnInit(){this.initForms(),this.loadAll()}initForms(){this.popupForm=this.fb.group({name:["",u.k0.required],email:[""],password:[""],phone_number:[""],role_id:[null],code:[""],description:[""],route:[""],icon:[""],level:[null],navigation_item_id:[null],is_enabled:[!0]}),this.assignRoleForm=this.fb.group({role_id:[null,u.k0.required]}),this.assignPermissionForm=this.fb.group({permission_ids:[[],u.k0.required]})}loadAll(){this.loadUsers(),this.loadRoles(),this.loadPermissions(),this.loadNavigationItems()}loadUsers(){this.usersRolesService.listUsers().subscribe({next:t=>this.users=t.data||t.users||[],error:()=>this.toastr.error("Failed to load users")})}loadRoles(){this.usersRolesService.listRoles().subscribe({next:t=>this.roles=t.data||[],error:()=>this.toastr.error("Failed to load roles")})}loadPermissions(){this.usersRolesService.listPermissions().subscribe({next:t=>this.permissions=t.data||[],error:()=>this.toastr.error("Failed to load permissions")})}loadNavigationItems(){this.usersRolesService.listNavigationItems().subscribe({next:t=>this.navigationItems=t.data||[],error:()=>this.toastr.error("Failed to load navigation items")})}openPopup(t,i){this.popupType=t,this.editingData=i||null,this.popupTitle=i?`Edit ${t.charAt(0).toUpperCase()+t.slice(1)}`:`Add ${t.charAt(0).toUpperCase()+t.slice(1)}`,this.resetForm(i),this.popupVisible=!0}openAssignRolePopup(t){this.selectedUserId=t.id,this.assignRoleForm.reset(),this.isAssignRolePopupVisible=!0}openAssignPermissionPopup(t){this.selectedRoleId=t.id,this.assignPermissionForm.reset(),this.isAssignPermissionPopupVisible=!0}resetForm(t){this.popupForm.reset(),this.popupForm.patchValue({is_enabled:!0}),t&&this.popupForm.patchValue(t),this.popupForm.get("name")?.setValidators(u.k0.required),"user"!==this.popupType||this.editingData?this.popupForm.get("password")?.clearValidators():(this.popupForm.get("password")?.setValidators(u.k0.required),this.popupForm.get("email")?.setValidators([u.k0.required,u.k0.email])),this.popupForm.updateValueAndValidity()}savePopup(){if(this.popupForm.invalid)return void this.toastr.warning("Please fill in required fields.");const t=this.popupForm.value,i=this.editingData?.id||null;switch(this.loading=!0,this.popupType){case"user":this.saveUser(i,t);break;case"role":case"permission":case"navigation":this.saveGeneric(this.popupType,i,t)}}saveUser(t,i){const o=t?this.usersRolesService.updateUser(t,i):this.usersRolesService.createUser(i),a=t?"updated":"created";o.subscribe({next:()=>{this.toastr.success(`User ${a} successfully`),this.loadUsers(),this.closePopup()},error:()=>this.toastr.error(`Failed to ${a} user`)})}saveGeneric(t,i,o){const a={role:{create:this.usersRolesService.createRole.bind(this.usersRolesService),update:this.usersRolesService.updateRole.bind(this.usersRolesService),reload:this.loadRoles.bind(this)},permission:{create:this.usersRolesService.createPermission.bind(this.usersRolesService),update:this.usersRolesService.updatePermission.bind(this.usersRolesService),reload:this.loadPermissions.bind(this)},navigation:{create:this.usersRolesService.createNavigation.bind(this.usersRolesService),update:this.usersRolesService.updateNavigation.bind(this.usersRolesService),reload:this.loadNavigationItems.bind(this)}},l=i?a[t].update(i,o):a[t].create(o),h=i?"updated":"created";l.subscribe({next:()=>{this.toastr.success(`${t} ${h} successfully`),a[t].reload(),this.closePopup()},error:()=>this.toastr.error(`Failed to ${h} ${t}`)})}onAssignRoleSubmit(){!this.assignRoleForm.invalid&&this.selectedUserId&&this.usersRolesService.assignRoleToUser({user_id:this.selectedUserId,role_id:this.assignRoleForm.value.role_id}).subscribe({next:()=>{this.toastr.success("Role assigned successfully","Success"),this.isAssignRolePopupVisible=!1,this.loadUsers(),this.authService.triggerNavigationReload()},error:()=>this.toastr.error("Failed to assign role","Error")})}deleteUser(t){confirm("Delete this user?")&&this.usersRolesService.deleteUser(t).subscribe({next:()=>{this.toastr.success("User deleted"),this.loadUsers()},error:()=>this.toastr.error("Failed to delete user")})}deleteRole(t){confirm("Delete this role?")&&this.usersRolesService.deleteRole(t).subscribe({next:()=>{this.toastr.success("Role deleted"),this.loadRoles()},error:()=>this.toastr.error("Failed to delete role")})}deletePermission(t){confirm("Delete this permission?")&&this.usersRolesService.deletePermission(t).subscribe({next:()=>{this.toastr.success("Permission deleted"),this.loadPermissions()},error:()=>this.toastr.error("Failed to delete permission")})}deleteNavigationItem(t){confirm("Delete this navigation item?")&&this.usersRolesService.deleteNavigation(t).subscribe({next:()=>{this.toastr.success("Navigation deleted"),this.loadNavigationItems()},error:()=>this.toastr.error("Failed to delete navigation")})}onAssignPermissionSubmit(){!this.assignPermissionForm.invalid&&this.selectedRoleId&&this.usersRolesService.assignPermissionsToRole({role_id:this.selectedRoleId,permission_ids:this.assignPermissionForm.value.permission_ids}).subscribe({next:()=>{this.toastr.success("Permissions assigned successfully"),this.isAssignPermissionPopupVisible=!1,this.loadPermissions()},error:()=>this.toastr.error("Failed to assign permissions")})}closePopup(){this.popupVisible=!1,this.loading=!1,this.editingData=null,this.popupForm.reset()}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(ct),e.rXU(mt.u),e.rXU(u.ok),e.rXU(_t.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-users-roles"]],decls:76,vars:40,consts:[[1,"users-roles-container","container","mt-4"],[1,"page-title","mb-4","text-center"],["title","Users"],[1,"agrovet-grid",3,"dataSource","showBorders"],["location","before"],["text","Add User","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Name"],["dataField","email","caption","Email"],["dataField","role_name","caption","Role"],["dataField","phone_number","caption","Phone"],["caption","Actions","cellTemplate","userActions",3,"width"],[4,"dxTemplate","dxTemplateOf"],["title","Assign Role to User","closeOnOutsideClick","true",3,"visibleChange","visible","showTitle","width","height"],[1,"p-3"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["formControlName","role_id","displayExpr","name","valueExpr","id","placeholder","Choose a role",3,"dataSource"],[1,"text-end"],["text","Assign","type","success","icon","check",3,"useSubmitBehavior"],["title","Roles"],["text","Add Role","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Role Name"],["dataField","description","caption","Description"],["caption","Actions","cellTemplate","roleActions"],["title","Assign Permissions to Role","closeOnOutsideClick","true",3,"visibleChange","visible","showTitle","width","height"],["formControlName","permission_ids","displayExpr","name","valueExpr","id","placeholder","Select permissions",3,"dataSource"],[1,"text-end","mt-3"],["title","Permissions"],["text","Add Permission","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Permission Name"],["dataField","code","caption","Code"],["dataField","navigation_name","caption","Linked Navigation"],["caption","Actions","cellTemplate","permissionActions"],["title","Navigation Items"],["text","Add Navigation","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","route","caption","Route"],["dataField","icon","caption","Icon"],["dataField","level","caption","Level"],["dataField","is_enabled","caption","Enabled","dataType","boolean"],["caption","Actions","cellTemplate","navigationActions"],["height","auto","closeOnOutsideClick","true",1,"popup-container",3,"visibleChange","visible","showTitle","title","width","dragEnabled"],[1,"popup-form","p-4",3,"ngSubmit","formGroup"],[1,"form-grid"],[4,"ngIf"],[1,"text-center","mt-4"],["text","Save","type","success","width","120",3,"useSubmitBehavior"],["alt","Profile","style","width:40px; height:40px; border-radius:50%; object-fit:cover;",3,"src",4,"ngIf"],["alt","Profile",2,"width","40px","height","40px","border-radius","50%","object-fit","cover",3,"src"],[1,"action-buttons","d-flex","gap-2","justify-content-center"],["icon","edit","hint","Edit User","stylingMode","outlined",3,"onClick"],["icon","key","hint","Assign Role","type","default","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete User","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Role","stylingMode","outlined",3,"onClick"],["icon","lock","hint","Assign Permissions","type","default","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete Role","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Permission","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Navigation","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete Navigation","stylingMode","outlined","type","danger",3,"onClick"],["formControlName","name","placeholder","Enter name"],["formControlName","email","placeholder","Enter email"],["formControlName","password","mode","password","placeholder","Enter password"],["formControlName","phone_number","placeholder","Enter phone number"],["formControlName","name","placeholder","Permission Name"],["formControlName","code","placeholder","Permission code"],["formControlName","description","placeholder","Short description"],["formControlName","navigation_item_id","displayExpr","name","valueExpr","id","placeholder","Select navigation item",3,"dataSource"],["formControlName","description","placeholder","Role description"],["formControlName","route","placeholder","/path"],["formControlName","icon","placeholder","fa fa-icon"],["formControlName","level",3,"min"],["formControlName","is_enabled"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"User & Role Management"),e.k0s(),e.j41(3,"dx-tab-panel")(4,"dxi-item",2)(5,"dx-data-grid",3)(6,"dxo-toolbar")(7,"dxi-item",4)(8,"dx-button",5),e.bIt("onClick",function(){return o.openPopup("user")}),e.k0s()()(),e.nrm(9,"dxi-column",6)(10,"dxi-column",7)(11,"dxi-column",8)(12,"dxi-column",9)(13,"dxi-column",10),e.DNE(14,Yt,2,1,"div",11)(15,Wt,5,0,"div",11),e.k0s(),e.j41(16,"dx-popup",12),e.mxI("visibleChange",function(l){return e.DH7(o.isAssignRolePopupVisible,l)||(o.isAssignRolePopupVisible=l),l}),e.j41(17,"div",13)(18,"form",14),e.bIt("ngSubmit",function(){return o.onAssignRoleSubmit()}),e.j41(19,"div",15)(20,"label"),e.EFF(21,"Select Role"),e.k0s(),e.nrm(22,"dx-select-box",16),e.k0s(),e.j41(23,"div",17),e.nrm(24,"dx-button",18),e.k0s()()()()(),e.j41(25,"dxi-item",19)(26,"dx-data-grid",3)(27,"dxo-toolbar")(28,"dxi-item",4)(29,"dx-button",20),e.bIt("onClick",function(){return o.openPopup("role")}),e.k0s()()(),e.nrm(30,"dxi-column",21)(31,"dxi-column",22)(32,"dxi-column",23),e.DNE(33,Qt,5,0,"div",11),e.k0s(),e.j41(34,"dx-popup",24),e.mxI("visibleChange",function(l){return e.DH7(o.isAssignPermissionPopupVisible,l)||(o.isAssignPermissionPopupVisible=l),l}),e.j41(35,"div",13)(36,"form",14),e.bIt("ngSubmit",function(){return o.onAssignPermissionSubmit()}),e.j41(37,"div",15)(38,"label"),e.EFF(39,"Select Permissions"),e.k0s(),e.nrm(40,"dx-tag-box",25),e.k0s(),e.j41(41,"div",26),e.nrm(42,"dx-button",18),e.k0s()()()()(),e.j41(43,"dxi-item",27)(44,"dx-data-grid",3)(45,"dxo-toolbar")(46,"dxi-item",4)(47,"dx-button",28),e.bIt("onClick",function(){return o.openPopup("permission")}),e.k0s()()(),e.nrm(48,"dxi-column",29)(49,"dxi-column",30)(50,"dxi-column",22)(51,"dxi-column",31)(52,"dxi-column",32),e.DNE(53,Jt,4,0,"div",11),e.k0s()(),e.j41(54,"dxi-item",33)(55,"dx-data-grid",3)(56,"dxo-toolbar")(57,"dxi-item",4)(58,"dx-button",34),e.bIt("onClick",function(){return o.openPopup("navigation")}),e.k0s()()(),e.nrm(59,"dxi-column",6)(60,"dxi-column",35)(61,"dxi-column",36)(62,"dxi-column",37)(63,"dxi-column",38)(64,"dxi-column",39),e.DNE(65,Zt,4,0,"div",11),e.k0s()()(),e.j41(66,"dx-popup",40),e.mxI("visibleChange",function(l){return e.DH7(o.popupVisible,l)||(o.popupVisible=l),l}),e.j41(67,"form",41),e.bIt("ngSubmit",function(){return o.savePopup()}),e.j41(68,"div",42),e.DNE(69,qt,4,0,"div",43)(70,te,10,0,"div",43)(71,ee,13,1,"div",43)(72,ie,4,0,"div",43)(73,se,13,1,"div",43),e.k0s(),e.j41(74,"div",44),e.nrm(75,"dx-button",45),e.k0s()()()()),2&i&&(e.R7$(5),e.Y8G("dataSource",o.users)("showBorders",!0),e.R7$(8),e.Y8G("width",180),e.R7$(),e.Y8G("dxTemplateOf","profilePhotoCell"),e.R7$(),e.Y8G("dxTemplateOf","userActions"),e.R7$(),e.R50("visible",o.isAssignRolePopupVisible),e.Y8G("showTitle",!0)("width",400)("height",250),e.R7$(2),e.Y8G("formGroup",o.assignRoleForm),e.R7$(4),e.Y8G("dataSource",o.roles),e.R7$(2),e.Y8G("useSubmitBehavior",!0),e.R7$(2),e.Y8G("dataSource",o.roles)("showBorders",!0),e.R7$(7),e.Y8G("dxTemplateOf","roleActions"),e.R7$(),e.R50("visible",o.isAssignPermissionPopupVisible),e.Y8G("showTitle",!0)("width",600)("height",400),e.R7$(2),e.Y8G("formGroup",o.assignPermissionForm),e.R7$(4),e.Y8G("dataSource",o.permissions),e.R7$(2),e.Y8G("useSubmitBehavior",!0),e.R7$(2),e.Y8G("dataSource",o.permissions)("showBorders",!0),e.R7$(9),e.Y8G("dxTemplateOf","permissionActions"),e.R7$(2),e.Y8G("dataSource",o.navigationItems)("showBorders",!0),e.R7$(10),e.Y8G("dxTemplateOf","navigationActions"),e.R7$(),e.R50("visible",o.popupVisible),e.Y8G("showTitle",!0)("title",o.popupTitle)("width",500)("dragEnabled",!0),e.R7$(),e.Y8G("formGroup",o.popupForm),e.R7$(2),e.Y8G("ngIf","permission"!==o.popupType&&"navigation"!==o.popupType||"navigation"===o.popupType),e.R7$(),e.Y8G("ngIf","user"===o.popupType),e.R7$(),e.Y8G("ngIf","permission"===o.popupType),e.R7$(),e.Y8G("ngIf","role"===o.popupType),e.R7$(),e.Y8G("ngIf","navigation"===o.popupType),e.R7$(2),e.Y8G("useSubmitBehavior",!0))},dependencies:[b.bT,u.qT,u.BC,u.cb,u.j4,u.JD,H.sjL,p.nj_,p.CVf,p.KOr,r.eC,k.xC,G.e,L.EZ,N.iI,j.m7,X.lo,w],styles:[".users-roles-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:600;color:#2b542c}.agrovet-grid[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.action-buttons[_ngcontent-%COMP%]   dx-button[_ngcontent-%COMP%]{min-width:36px;height:36px}.popup-container[_ngcontent-%COMP%]   .dx-popup-content[_ngcontent-%COMP%]{background:#fafafa;border-radius:10px}.popup-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#444}.form-grid[_ngcontent-%COMP%]{display:grid;gap:15px}@media (max-width: 768px){.users-roles-container[_ngcontent-%COMP%]{padding:10px}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return n})()}];let oe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[P.iI.forChild(ne),P.iI]})}}return n})();var ae=d(118);let re=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[b.oe],imports:[b.MD,u.YN,u.X1,oe,H.N8$,k.Uu,ae.A,G.L,L.p0,N.pc,j.ZL,X.SN,zt]})}}return n})()}}]);