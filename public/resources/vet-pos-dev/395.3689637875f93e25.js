"use strict";(self.webpackChunkvet_pos_dev=self.webpackChunkvet_pos_dev||[]).push([[395],{7395:(mt,W,p)=>{p.r(W),p.d(W,{AdminModule:()=>qe});var d=p(177),F=p(2183),i=p(4438),u=p(8010);let y=(()=>{class a{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return console.log("AuthGuard \u2192 token =",t),!!t||(console.warn("AuthGuard \u2192 No token found, redirecting to /login"),this.router.navigate(["/login"]),!1)}canActivateChild(){return this.canActivate()}static{this.\u0275fac=function(s){return new(s||a)(i.KVO(u.u),i.KVO(F.Ix))}}static{this.\u0275prov=i.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var k=p(4493),L=p(6511),O=p(1063);const H=()=>({mode:"multiple"}),Z=()=>({type:"currency",currency:"KES",precision:2});let G=(()=>{class a{constructor(t){this.salesService=t,this.dailySales=[],this.monthlySales=[],this.topProducts=[],this.lowStock=[],this.totalSalesToday=0,this.totalRevenueToday=0,this.totalQuantityToday=0,this.totalLowStockItems=0,this.lowStockAlert=!1,this.monthlyRevenue=0,this.monthlyQuantity=0,this.topCustomer=null,this.bestSellingProduct=null,this.animatedSales=0,this.animatedRevenue=0,this.animatedQuantity=0,this.animatedLowStock=0,this.animatedMonthlyRevenue=0,this.animatedMonthlyQuantity=0}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.salesService.getDashboardReport().subscribe({next:t=>{const s=t.data;this.totalLowStockItems=s.summary.lowStockCount,this.lowStockAlert=this.totalLowStockItems>0,this.dailySales=s.dailySales||[],this.monthlySales=s.monthlySales||[];const r=(new Date).toISOString().split("T")[0],g=this.dailySales.find(E=>E.date===r);this.totalSalesToday=g?.total_sales||0,this.totalRevenueToday=Number(g?.total_revenue||0),this.totalQuantityToday=g?.total_quantity_sold||0;const m=this.monthlySales[this.monthlySales.length-1];m&&(this.monthlyRevenue=Number(m.total_revenue),this.monthlyQuantity=m.total_quantity_sold),this.topProducts=s.topProducts,this.lowStock=s.lowStockProducts,this.bestSellingProduct=this.topProducts.length?this.topProducts[0].product_name:"N/A",this.animateNumbers()},error:t=>console.error("Failed to load dashboard:",t)})}animateNumbers(){const t=(s,r,g,m)=>{const E=r-s;let x=null;const N=X=>{x||(x=X);const z=Math.min((X-x)/g,1);m(Math.floor(z*E+s)),z<1&&requestAnimationFrame(N)};requestAnimationFrame(N)};t(0,this.totalSalesToday,1200,s=>this.animatedSales=s),t(0,this.totalRevenueToday,1300,s=>this.animatedRevenue=s),t(0,this.totalQuantityToday,1200,s=>this.animatedQuantity=s),t(0,this.totalLowStockItems,1e3,s=>this.animatedLowStock=s),t(0,this.monthlyRevenue,1500,s=>this.animatedMonthlyRevenue=s),t(0,this.monthlyQuantity,1500,s=>this.animatedMonthlyQuantity=s)}onLowStockRowPrepared(t){"data"===t.rowType&&t.data.stock_quantity<=t.data.low_stock_threshold&&(t.rowElement.style.backgroundColor="#ffcccc",t.rowElement.style.fontWeight="bold")}customizeTooltip(t){const s=this.dailySales.find(r=>new Date(r.date).toDateString()===new Date(t.argument).toDateString());return s?{text:`Date: ${s.date}\nRevenue: KSh ${s.total_revenue}\nSales: ${s.total_sales}\nQuantity Sold: ${s.total_quantity_sold}`}:{text:`KSh ${t.valueText}`}}static{this.\u0275fac=function(s){return new(s||a)(i.rXU(k.w))}}static{this.\u0275cmp=i.VBU({type:a,selectors:[["app-dashboard"]],decls:89,vars:38,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"kpi-cards"],[1,"kpi-card","gradient-green"],[1,"fas","fa-cash-register"],[1,"kpi-card","gradient-blue"],[1,"fas","fa-money-bill-wave"],[1,"kpi-card","gradient-purple"],[1,"fas","fa-boxes"],[1,"kpi-card","gradient-orange"],[1,"fas","fa-exclamation-triangle"],[1,"table-section"],[3,"dataSource","showBorders","columnHidingEnabled","columnAutoWidth","sorting"],["dataField","product_name","caption","Product"],["dataField","total_sold","caption","Units Sold",3,"alignment"],["dataField","total_revenue","caption","Revenue (KSh)",3,"dataType","format","alignment"],["dataField","remaining_stock","caption","Remaining Stock",3,"alignment"],[3,"dataSource","showBorders","columnHidingEnabled","columnAutoWidth","sorting","rowAlternationEnabled","rowPrepared"],["dataField","stock_quantity","caption","Remaining Stock",3,"alignment"],["dataField","low_stock_threshold","caption","Low Stock Threshold",3,"alignment"],[1,"chart-section"],["title","Daily Sales (KSh)","palette","GreenMist",3,"dataSource"],["argumentField","date","valueField","total_revenue","type","bar","color","#388e3c"],[3,"visible"],[1,"summary-widgets"],[1,"widget-card","gradient-green"],[1,"widget-icon"],[1,"fas","fa-wallet"],[1,"widget-content"],[1,"widget-card","gradient-blue"],[1,"fas","fa-chart-line"],[1,"widget-card","gradient-purple"],[1,"fas","fa-user-tie"],[1,"widget-card","gradient-orange"],[1,"fas","fa-seedling"]],template:function(s,r){1&s&&(i.j41(0,"div",0)(1,"div",1)(2,"h2"),i.EFF(3,"Vet-Dommie AgroVet POS Dashboard"),i.k0s(),i.j41(4,"p"),i.EFF(5,"Overview of today\u2019s performance"),i.k0s()(),i.j41(6,"div",2)(7,"div",3),i.nrm(8,"i",4),i.j41(9,"div")(10,"h4"),i.EFF(11,"Sales Today"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()()(),i.j41(14,"div",5),i.nrm(15,"i",6),i.j41(16,"div")(17,"h4"),i.EFF(18,"Revenue Today"),i.k0s(),i.j41(19,"p"),i.EFF(20),i.nI1(21,"number"),i.k0s()()(),i.j41(22,"div",7),i.nrm(23,"i",8),i.j41(24,"div")(25,"h4"),i.EFF(26,"Quantity Sold Today"),i.k0s(),i.j41(27,"p"),i.EFF(28),i.k0s()()(),i.j41(29,"div",9),i.nrm(30,"i",10),i.j41(31,"div")(32,"h4"),i.EFF(33,"Low Stock Items"),i.k0s(),i.j41(34,"p"),i.EFF(35),i.k0s()()()(),i.j41(36,"div",11)(37,"h3"),i.EFF(38,"Top Products"),i.k0s(),i.j41(39,"dx-data-grid",12),i.nrm(40,"dxi-column",13)(41,"dxi-column",14)(42,"dxi-column",15)(43,"dxi-column",16),i.k0s()(),i.j41(44,"div",11)(45,"h3"),i.EFF(46,"Low Stock Products"),i.k0s(),i.j41(47,"dx-data-grid",17),i.nrm(48,"dxi-column",13)(49,"dxi-column",18)(50,"dxi-column",19),i.k0s()(),i.j41(51,"div",20)(52,"dx-chart",21),i.nrm(53,"dxi-series",22)(54,"dxo-legend",23),i.k0s()(),i.j41(55,"div",24)(56,"div",25)(57,"div",26),i.nrm(58,"i",27),i.k0s(),i.j41(59,"div",28)(60,"h4"),i.EFF(61,"This Month\u2019s Revenue"),i.k0s(),i.j41(62,"p"),i.EFF(63),i.nI1(64,"number"),i.k0s()()(),i.j41(65,"div",29)(66,"div",26),i.nrm(67,"i",30),i.k0s(),i.j41(68,"div",28)(69,"h4"),i.EFF(70,"This Month\u2019s Quantity"),i.k0s(),i.j41(71,"p"),i.EFF(72),i.k0s()()(),i.j41(73,"div",31)(74,"div",26),i.nrm(75,"i",32),i.k0s(),i.j41(76,"div",28)(77,"h4"),i.EFF(78,"Top Customer"),i.k0s(),i.j41(79,"p"),i.EFF(80),i.k0s()()(),i.j41(81,"div",33)(82,"div",26),i.nrm(83,"i",34),i.k0s(),i.j41(84,"div",28)(85,"h4"),i.EFF(86,"Best-Selling Product"),i.k0s(),i.j41(87,"p"),i.EFF(88),i.k0s()()()()()),2&s&&(i.R7$(13),i.JRh(r.animatedSales),i.R7$(7),i.SpI("KSh ",i.bMT(21,31,r.animatedRevenue),""),i.R7$(8),i.JRh(r.animatedQuantity),i.R7$(),i.AVh("alert",r.lowStockAlert),i.R7$(6),i.JRh(r.animatedLowStock),i.R7$(4),i.Y8G("dataSource",r.topProducts)("showBorders",!0)("columnHidingEnabled",!0)("columnAutoWidth",!0)("sorting",i.lJ4(35,H)),i.R7$(2),i.Y8G("alignment","right"),i.R7$(),i.Y8G("dataType","number")("format",i.lJ4(36,Z))("alignment","right"),i.R7$(),i.Y8G("alignment","right"),i.R7$(4),i.Y8G("dataSource",r.lowStock)("showBorders",!0)("columnHidingEnabled",!0)("columnAutoWidth",!0)("sorting",i.lJ4(37,H))("rowAlternationEnabled",!0)("rowPrepared",r.onLowStockRowPrepared),i.R7$(2),i.Y8G("alignment","right"),i.R7$(),i.Y8G("alignment","right"),i.R7$(2),i.Y8G("dataSource",r.dailySales),i.R7$(2),i.Y8G("visible",!1),i.R7$(9),i.SpI("KSh ",i.bMT(64,33,r.animatedMonthlyRevenue),""),i.R7$(9),i.JRh(r.animatedMonthlyQuantity),i.R7$(8),i.JRh(r.topCustomer||"N/A"),i.R7$(8),i.JRh(r.bestSellingProduct||"N/A"))},dependencies:[L.sjL,O.nj_,d.QX],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:25px;font-family:Poppins,sans-serif;background:#f8f9fa}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#2e7d32;margin-bottom:4px}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin-bottom:25px}.kpi-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:25px}.kpi-card[_ngcontent-%COMP%]{flex:1;min-width:240px;display:flex;align-items:center;gap:14px;padding:18px;border-radius:14px;color:#fff;box-shadow:0 6px 12px #0000001a;transition:transform .25s ease,box-shadow .25s ease}.kpi-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;background:#ffffff40;padding:10px;border-radius:10px}.kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 18px #00000026}.kpi-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:1.3rem;font-weight:600}.kpi-card.alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1.3s infinite}.gradient-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9c27b0,#ba68c8)}@keyframes _ngcontent-%COMP%_blink{50%{opacity:.7}}.chart-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;box-shadow:0 4px 12px #0000000d;margin-bottom:25px}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;margin-bottom:25px;box-shadow:0 4px 12px #0000000d}.table-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600;margin-bottom:10px}.summary-widgets[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}.widget-card[_ngcontent-%COMP%]{flex:1;min-width:250px;display:flex;align-items:center;gap:15px;padding:18px 20px;border-radius:14px;color:#fff;box-shadow:0 6px 12px #0000001a;transition:transform .25s ease,box-shadow .25s ease}.widget-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 18px #00000026}.widget-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;padding:12px;border-radius:12px}.widget-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;opacity:.9}.widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:1.2rem;font-weight:700}.gradient-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2e7d32,#66bb6a)}.gradient-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#64b5f6)}.gradient-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f57c00,#ffb74d)}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:all .3s ease}.kpi-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}@media (max-width: 768px){.kpi-cards[_ngcontent-%COMP%], .summary-widgets[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return a})();var o=p(5964),j=p(1626),J=p(6354),dt=p(7175);let B=(()=>{class a{constructor(t){this.http=t,this.baseUrl=`${dt.$.apiUrl}/rbac`}getNavigationItems(t,s){let r=new j.Nl;return void 0!==t&&(r=r.set("level",t)),void 0!==s&&(r=r.set("navigation_type_id",s)),this.http.get(`${this.baseUrl}/navigation-items`,{params:r})}getUserNavigation(t,s){let r=new j.Nl;return s.forEach(g=>{r=r.append("role_id[]",g.toString())}),this.http.get(`${this.baseUrl}/users/${t}/navigation`,{params:r}).pipe((0,J.T)(g=>this.transformNavigationItems(g.navigation_items||[])))}transformNavigationItems(t){return t.filter(s=>s.is_enabled).map(s=>({id:s.id,name:s.name,description:s.description,route:s.route||s.nav_routerlink,nav_routerlink:s.nav_routerlink,iconsCls:s.icon||s.iconsCls,permission_code:s.permission_code||s.permission,is_enabled:s.is_enabled,badge:0,highlight:!1,parent_id:s.parent_id,order_no:s.order_no,level:s.level,children:s.children?this.transformNavigationItems(s.children):[]}))}list(){return this.http.get(`${this.baseUrl}/navigation-items`).pipe((0,J.T)(t=>this.transformNavigationItems(t.data||[])))}static{this.\u0275fac=function(s){return new(s||a)(i.KVO(j.Qq))}}static{this.\u0275prov=i.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Y=p(4081);const tt=(a,n,t)=>({"dark-mode":a,closed:n,"mobile-open":t}),S=(a,n,t)=>({"fa-angle-left":a,"fa-bars":n,"fa-times":t}),R=(a,n)=>({"fa-chevron-down":a,"fa-chevron-right":n});function K(a,n){1&a&&(i.j41(0,"h3",11),i.EFF(1," \u{1f33f} AgroVet POS "),i.k0s())}function lt(a,n){if(1&a&&i.nrm(0,"i"),2&a){const t=i.XpG().$implicit;i.ZvI("fa ",t.icon,"")}}function et(a,n){if(1&a&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&a){const t=i.XpG().$implicit;i.R7$(),i.JRh(t.name)}}function rt(a,n){if(1&a&&i.nrm(0,"i",18),2&a){const t=i.XpG().$implicit;i.Y8G("ngClass",i.l_i(1,R,t.isOpen,!t.isOpen))}}function ht(a,n){if(1&a&&i.nrm(0,"i"),2&a){const t=i.XpG().$implicit;i.ZvI("fa ",t.icon,"")}}function nt(a,n){if(1&a){const t=i.RV6();i.j41(0,"li",21),i.bIt("click",function(){const r=i.eBV(t).$implicit,g=i.XpG(3);return i.Njj(g.navigate(r.route))}),i.DNE(1,ht,1,3,"i",14),i.j41(2,"span"),i.EFF(3),i.k0s()()}if(2&a){const t=n.$implicit;i.AVh("active",t.isActive),i.R7$(),i.Y8G("ngIf",t.icon),i.R7$(2),i.JRh(t.name)}}function ct(a,n){if(1&a&&(i.j41(0,"ul",19),i.DNE(1,nt,4,4,"li",20),i.k0s()),2&a){const t=i.XpG().$implicit;i.R7$(),i.Y8G("ngForOf",t.children)}}function pt(a,n){if(1&a){const t=i.RV6();i.qex(0),i.j41(1,"li")(2,"div",12),i.bIt("click",function(){const r=i.eBV(t).$implicit,g=i.XpG();return i.Njj(g.handleItemClick(r))}),i.j41(3,"div",13),i.DNE(4,lt,1,3,"i",14)(5,et,2,1,"span",15),i.k0s(),i.DNE(6,rt,1,4,"i",16),i.k0s(),i.DNE(7,ct,2,1,"ul",17),i.k0s(),i.bVm()}if(2&a){const t=n.$implicit,s=i.XpG();i.R7$(),i.AVh("active",t.isActive)("has-children",null==t.children?null:t.children.length),i.R7$(3),i.Y8G("ngIf",t.icon),i.R7$(),i.Y8G("ngIf",s.drawerOpened||s.isMobileView),i.R7$(),i.Y8G("ngIf",(null==t.children?null:t.children.length)&&(s.drawerOpened||s.isMobileView)),i.R7$(),i.Y8G("ngIf",(null==t.children?null:t.children.length)&&t.isOpen)}}function _t(a,n){if(1&a){const t=i.RV6();i.j41(0,"div",22),i.bIt("click",function(){i.eBV(t);const r=i.XpG();return i.Njj(r.closeMobileNav())}),i.k0s()}}let ut=(()=>{class a{constructor(t,s,r,g){this.router=t,this.navService=s,this.auth=r,this.themeService=g,this.drawerOpened=!0,this.isMobileNavOpen=!1,this.isMobileView=!1,this.isDarkMode=!1,this.menu=[]}ngOnInit(){this.checkScreenSize(),this.loadNavigationItems(),this.routerSub=this.router.events.pipe((0,o.p)(t=>t instanceof F.wF)).subscribe(()=>{this.updateActiveMenu(this.menu,this.router.url),this.closeMobileNav()}),this.themeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}ngOnDestroy(){this.routerSub?.unsubscribe()}checkScreenSize(){this.isMobileView=window.innerWidth<=768,this.isMobileView&&(this.drawerOpened=!0)}loadNavigationItems(){this.currentUser=this.auth.currentUser||JSON.parse(localStorage.getItem("user")||"{}"),this.isAdminUser()?this.loadAllNavigationItems():this.loadUserSpecificNavigation()}isAdminUser(){return this.currentUser?.roles?.some(t=>"admin"===t.name.toLowerCase()||"superadmin"===t.name.toLowerCase())||!1}loadAllNavigationItems(){this.navService.getNavigationItems().subscribe({next:t=>{let s=t.data||t.navigation_items||[];s=s.filter(r=>r.is_enabled),this.menu=this.buildMenuTree(s),this.updateActiveMenu(this.menu,this.router.url)},error:t=>console.error("Failed to load navigation items",t)})}loadUserSpecificNavigation(){const t=this.currentUser?.id,s=this.currentUser?.roles?.map(r=>r.id)||[];t&&s.length>0?this.navService.getUserNavigation(t,s).subscribe({next:r=>{this.menu=this.buildMenuTree(r),this.updateActiveMenu(this.menu,this.router.url)},error:r=>{console.error("Failed to load user navigation, falling back to general navigation",r),this.fallbackToGeneralNavigation()}}):this.fallbackToGeneralNavigation()}fallbackToGeneralNavigation(){this.navService.getNavigationItems().subscribe({next:t=>{let s=t.data||t.navigation_items||[];s=this.filterItemsByPermission(s),this.menu=this.buildMenuTree(s),this.updateActiveMenu(this.menu,this.router.url)},error:t=>console.error("Failed to load fallback navigation",t)})}filterItemsByPermission(t){const s=this.currentUser?.permissions||[];return t.filter(r=>{const g=!r.permission_code||s.includes(r.permission_code);return r.children&&(r.children=this.filterItemsByPermission(r.children)),g||r.children&&r.children.length>0})}buildMenuTree(t){const s={},r=[];return t.forEach(g=>{s[g.id]={id:g.id,name:g.name||g.description,route:g.route||g.nav_routerlink,icon:g.iconsCls?.replace("fa ",""),permission_code:g.permission_code,children:[],isOpen:!1,isActive:!1}}),t.forEach(g=>{g.parent_id&&s[g.parent_id]?s[g.parent_id].children.push(s[g.id]):r.push(s[g.id])}),this.autoOpenActiveParents(r),r}autoOpenActiveParents(t){t.forEach(s=>{s.children?.length&&(this.autoOpenActiveParents(s.children),s.isOpen=s.children.some(r=>r.isActive||r.isOpen))})}handleItemClick(t){t.children?.length?this.toggleItem(t):t.route&&this.navigate(t.route)}toggleItem(t){t.isOpen=!t.isOpen}toggleDrawer(){this.isMobileView?this.toggleMobileNav():this.drawerOpened=!this.drawerOpened}toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen}closeMobileNav(){this.isMobileNavOpen=!1}navigate(t){t&&(this.router.navigate([t]),this.isMobileView&&this.closeMobileNav())}updateActiveMenu(t,s){t.forEach(r=>{r.isActive=r.route===s,r.children?.length&&(this.updateActiveMenu(r.children,s),r.isOpen=r.children.some(g=>g.isActive))})}static{this.\u0275fac=function(s){return new(s||a)(i.rXU(F.Ix),i.rXU(B),i.rXU(u.u),i.rXU(Y.F))}}static{this.\u0275cmp=i.VBU({type:a,selectors:[["app-admin-navigation"]],hostBindings:function(s,r){1&s&&i.bIt("resize",function(){return r.checkScreenSize()},!1,i.tSv)},decls:11,vars:13,consts:[[1,"sidebar",3,"ngClass"],[1,"sidebar-header","d-flex","align-items-center","justify-content-between"],["class","logo-text",4,"ngIf"],["aria-label","Toggle Sidebar",1,"toggle-btn",3,"click"],[1,"fas",3,"ngClass"],[1,"sidebar-logo"],[1,"dx-icon-shoppingcart","my-shopping-cart-icon"],[1,"sidebar-scroll"],[1,"menu-list"],[4,"ngFor","ngForOf"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"logo-text"],[1,"menu-item",3,"click"],[1,"menu-item-content"],[3,"class",4,"ngIf"],[4,"ngIf"],["class","fas chevron",3,"ngClass",4,"ngIf"],["class","submenu",4,"ngIf"],[1,"fas","chevron",3,"ngClass"],[1,"submenu"],["class","submenu-item",3,"active","click",4,"ngFor","ngForOf"],[1,"submenu-item",3,"click"],[1,"mobile-overlay",3,"click"]],template:function(s,r){1&s&&(i.j41(0,"aside",0)(1,"div",1),i.DNE(2,K,2,0,"h3",2),i.j41(3,"button",3),i.bIt("click",function(){return r.toggleDrawer()}),i.nrm(4,"i",4),i.k0s()(),i.j41(5,"div",5),i.nrm(6,"i",6),i.k0s(),i.j41(7,"div",7)(8,"ul",8),i.DNE(9,pt,8,8,"ng-container",9),i.k0s()()(),i.DNE(10,_t,1,0,"div",10)),2&s&&(i.Y8G("ngClass",i.sMw(5,tt,r.isDarkMode,!r.drawerOpened&&!r.isMobileView,r.isMobileNavOpen)),i.R7$(2),i.Y8G("ngIf",r.drawerOpened||r.isMobileView),i.R7$(2),i.Y8G("ngClass",i.sMw(9,S,r.drawerOpened&&!r.isMobileView,!r.drawerOpened&&!r.isMobileView,r.isMobileView&&r.isMobileNavOpen)),i.R7$(5),i.Y8G("ngForOf",r.menu),i.R7$(),i.Y8G("ngIf",r.isMobileNavOpen))},dependencies:[d.YU,d.Sq,d.bT],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;left:0;height:calc(100vh - 60px);width:240px;background:#1b4332;color:#f1f8e9;overflow-y:auto;transition:all .3s ease-in-out;box-shadow:2px 0 6px #00000026;z-index:1040}.sidebar.closed[_ngcontent-%COMP%]{width:70px}.sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#2e7d32;color:#fff;padding:12px 16px;font-weight:600;border-bottom:1px solid #1b5e20}.logo-text[_ngcontent-%COMP%]{font-size:1rem;margin:0;white-space:nowrap}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;transition:transform .2s ease;padding:4px;border-radius:4px}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;cursor:pointer;color:#f1f8e9;transition:all .2s ease;border-left:4px solid transparent;text-decoration:none}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:18px;text-align:center;color:#c8e6c9}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left:4px solid #81c784}li.active[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]{background:#81c78433;border-left:4px solid #81c784;font-weight:600;color:#fff}.chevron[_ngcontent-%COMP%]{font-size:12px;color:#a5d6a7;transition:transform .3s ease}.submenu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;background:#214d3b;border-left:3px solid #81c784;animation:_ngcontent-%COMP%_slideDown .3s ease;overflow:hidden}.submenu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px 10px 44px;color:#c8e6c9;cursor:pointer;transition:all .2s ease;border-bottom:1px solid rgba(255,255,255,.05);text-decoration:none}.submenu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.submenu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.submenu-item.active[_ngcontent-%COMP%]{background:#81c7844d;color:#fff;font-weight:600}.submenu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:16px;text-align:center;color:#a5d6a7}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:200px}}.sidebar-scroll[_ngcontent-%COMP%]{height:calc(100vh - 120px);overflow-y:auto;padding-bottom:20px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#388e3c;border-radius:4px}.sidebar-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1b4332}.has-children[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]{background:#ffffff0d}.has-children[_ngcontent-%COMP%] > .menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%], .sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-angle-left[_ngcontent-%COMP%]{color:#fff}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fcc}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;left:-260px;width:240px;transition:left .3s ease}.sidebar.mobile-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:6px;border-radius:8px;background:#ffffff1a}.sidebar-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;color:#fff}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;inset:60px 0 0;background:#0000008c;z-index:1030}}"]})}}return a})();var D=p(5993),q=p(5794);function f(a,n){if(1&a&&(i.j41(0,"span",18),i.EFF(1),i.k0s()),2&a){const t=i.XpG();i.R7$(),i.SpI(" ",t.lowStockProducts.length," ")}}function w(a,n){if(1&a&&(i.j41(0,"li"),i.EFF(1),i.k0s()),2&a){const t=n.$implicit;i.R7$(),i.Lme(" ",t.name," - ",t.stock_quantity," left ")}}function _(a,n){1&a&&(i.j41(0,"li"),i.EFF(1," No low stock products "),i.k0s())}let A=(()=>{class a{constructor(t,s,r,g,m){this.auth=t,this.router=s,this.inventoryService=r,this.toastr=g,this.themeService=m,this.toggleSidebar=new i.bkB,this.userName=null,this.lowStockProducts=[],this.showNotifications=!1,this.loadingLowStock=!1,this.isDarkMode=!1,this.auth.user$.subscribe(E=>{this.userName=E?.name??"Admin"})}ngOnInit(){this.themeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.fetchLowStockProducts()}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.auth.logout().subscribe({next:()=>this.router.navigate(["/login"]),error:()=>this.router.navigate(["/login"])})}toggleNotifications(){this.showNotifications=!this.showNotifications}fetchLowStockProducts(){this.loadingLowStock=!0,this.inventoryService.lowStockProducts().subscribe({next:t=>{this.lowStockProducts=t,this.loadingLowStock=!1},error:()=>{this.toastr.error("Failed to fetch low stock products"),this.loadingLowStock=!1}})}toggleDarkMode(){this.themeService.toggleDarkMode()}static{this.\u0275fac=function(s){return new(s||a)(i.rXU(u.u),i.rXU(F.Ix),i.rXU(D.c),i.rXU(q.tw),i.rXU(Y.F))}}static{this.\u0275cmp=i.VBU({type:a,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},decls:28,vars:8,consts:[[1,"top-navbar"],[1,"left-section"],[1,"toggle-btn","toggle-visible",3,"click"],[1,"fas","fa-bars"],[1,"brand-name"],[1,"fas","fa-leaf"],[1,"right-section"],[1,"notification-wrapper",3,"click"],[1,"fas","fa-bell","notification-icon"],["class","notification-count",4,"ngIf"],[1,"notification-dropdown"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dark-mode-btn",3,"click"],[1,"user-info"],[1,"fas","fa-user-circle"],[1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"notification-count"]],template:function(s,r){1&s&&(i.j41(0,"nav",0)(1,"div",1)(2,"button",2),i.bIt("click",function(){return r.onToggleSidebar()}),i.nrm(3,"i",3),i.k0s(),i.j41(4,"div",4),i.nrm(5,"i",5),i.j41(6,"span"),i.EFF(7,"Vet-Dommie AgroVet POS"),i.k0s()()(),i.j41(8,"div",6)(9,"div",7),i.bIt("click",function(){return r.toggleNotifications()}),i.nrm(10,"i",8),i.DNE(11,f,2,1,"span",9),i.j41(12,"div",10)(13,"h4"),i.EFF(14,"Low Stock Alerts"),i.k0s(),i.j41(15,"ul"),i.DNE(16,w,2,2,"li",11)(17,_,2,0,"li",12),i.k0s()()(),i.j41(18,"button",13),i.bIt("click",function(){return r.toggleDarkMode()}),i.nrm(19,"i"),i.k0s(),i.j41(20,"div",14),i.nrm(21,"i",15),i.j41(22,"span"),i.EFF(23),i.k0s()(),i.j41(24,"button",16),i.bIt("click",function(){return r.logout()}),i.nrm(25,"i",17),i.j41(26,"span"),i.EFF(27,"Logout"),i.k0s()()()()),2&s&&(i.R7$(11),i.Y8G("ngIf",r.lowStockProducts.length>0),i.R7$(),i.AVh("show",r.showNotifications),i.R7$(4),i.Y8G("ngForOf",r.lowStockProducts),i.R7$(),i.Y8G("ngIf",0===r.lowStockProducts.length),i.R7$(2),i.HbH(r.isDarkMode?"fas fa-sun":"fas fa-moon"),i.R7$(4),i.JRh(r.userName))},dependencies:[d.Sq,d.bT],styles:[".top-navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;height:60px;width:100%;background:linear-gradient(90deg,#2e7d32,#66bb6a);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 20px;box-shadow:0 2px 8px #00000026;margin-bottom:1px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.brand-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;display:flex;align-items:center;gap:6px}.brand-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#b2fab4}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:22px;cursor:pointer;transition:all .3s ease}.toggle-btn[_ngcontent-%COMP%]:hover{color:#c8e6c9;transform:scale(1.1)}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:500}.logout-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.5);color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s ease,transform .2s ease}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:scale(1.03)}.toggle-visible[_ngcontent-%COMP%]{display:none}.top-navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#4f46e5;color:#fff;padding:10px 20px;position:relative;z-index:10}.left-section[_ngcontent-%COMP%], .right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.brand-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;background-color:transparent;color:#fff;border:none;cursor:pointer;font-weight:600;transition:color .2s}.logout-btn[_ngcontent-%COMP%]:hover{color:#ff4d4f}.notification-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.notification-icon[_ngcontent-%COMP%]{font-size:20px}.notification-count[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background-color:#ef4444;color:#fff;font-size:12px;font-weight:700;width:18px;height:18px;border-radius:50%;display:flex;justify-content:center;align-items:center}.notification-dropdown[_ngcontent-%COMP%]{position:absolute;top:28px;right:0;width:220px;max-height:250px;background-color:#fff;color:#333;border-radius:8px;box-shadow:0 4px 12px #00000026;overflow-y:auto;display:none;flex-direction:column;padding:10px;font-size:14px;z-index:100}.notification-dropdown.show[_ngcontent-%COMP%]{display:flex}.notification-dropdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600}.notification-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 0;border-bottom:1px solid #eee}.notification-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}body.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .top-navbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1b1b1b,#333);color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f5f5f5}body.dark-mode[_ngcontent-%COMP%]   .notification-dropdown[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#fff;border:1px solid #444}.dark-mode-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;transition:transform .3s ease,color .3s ease}.dark-mode-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#ffd54f}@media (max-width: 768px){.toggle-visible[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;background:#ffffff26;border-radius:10px;color:#fff;border:none;cursor:pointer;transition:background .3s ease,transform .2s ease}.toggle-visible[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.toggle-visible[_ngcontent-%COMP%]:hover{background:#ffffff40;color:#a7ff83;transform:scale(1.05)}}.toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){.brand-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.toggle-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;background:#ffffff26;border-radius:10px}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;color:#a7ff83}.right-section[_ngcontent-%COMP%]{gap:10px}.logout-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}"]})}}return a})();const b=["sidebar"],U=[{path:"",canActivate:[y],canActivateChild:[y],component:(()=>{class a{constructor(){this.isMobileView=!1}ngOnInit(){this.checkScreenSize()}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobileView=window.innerWidth<=768}onToggleSidebar(){this.sidebar.toggleDrawer()}static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275cmp=i.VBU({type:a,selectors:[["app-admin-layout"]],viewQuery:function(s,r){if(1&s&&i.GBs(b,5),2&s){let g;i.mGM(g=i.lsd())&&(r.sidebar=g.first)}},hostBindings:function(s,r){1&s&&i.bIt("resize",function(){return r.onResize()},!1,i.tSv)},decls:6,vars:0,consts:[["sidebar",""],[3,"toggleSidebar"],[1,"admin-layout"],[1,"sidebar"],[1,"app-main-content"]],template:function(s,r){if(1&s){const g=i.RV6();i.j41(0,"app-header",1),i.bIt("toggleSidebar",function(){return i.eBV(g),i.Njj(r.onToggleSidebar())}),i.k0s(),i.j41(1,"div",2),i.nrm(2,"app-admin-navigation",3,0),i.j41(4,"main",4),i.nrm(5,"router-outlet"),i.k0s()()}},dependencies:[F.n3,ut,A],styles:[".admin-layout[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 60px);background:#fafafa}app-admin-navigation[_ngcontent-%COMP%]{width:240px;transition:width .3s ease}.sidebar.closed[_ngcontent-%COMP%]   app-admin-navigation[_ngcontent-%COMP%]{width:70px}.app-main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:240px;transition:margin-left .3s ease}@media (max-width: 768px){app-admin-navigation[_ngcontent-%COMP%]{width:0}.app-main-content[_ngcontent-%COMP%]{margin-left:0;padding:15px}}"]})}}return a})(),children:[{path:"dashboard",component:G},{path:"sales",loadChildren:()=>Promise.all([p.e(747),p.e(840),p.e(46),p.e(76),p.e(941)]).then(p.bind(p,1941)).then(a=>a.SalesModule)},{path:"inventory",loadChildren:()=>Promise.all([p.e(747),p.e(840),p.e(46),p.e(951),p.e(525)]).then(p.bind(p,8525)).then(a=>a.InventoryModule)},{path:"reports",loadChildren:()=>Promise.resolve().then(p.bind(p,5955)).then(a=>a.ReportsModule)},{path:"users-roles",loadChildren:()=>Promise.all([p.e(747),p.e(840),p.e(951),p.e(86)]).then(p.bind(p,9086)).then(a=>a.UsersRolesModule)}]}];let st=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=i.$C({type:a})}static{this.\u0275inj=i.G2t({imports:[F.iI.forChild(U),F.iI]})}}return a})();var V=p(5506),v=p(6382),c=p(8600),T=p(308),l=p(2290),P=p(8168),e=p(8189),h=p(8708),I=p(5632),C=p(7184),$=p(2463),ft=p(2236);function yt(a,n,t){const s=r=>{const g=r?t:n;g?.()};(0,$.yL)(a)?a.then(s).catch(n):s(!!a)}var gt=p(3150),Et=p(9402);class Pt extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{contentAlignment:"center",icon:"",showBackground:!0,text:"",type:"error"})}_initMarkup(){const{showBackground:n}=this.option();this.$element().addClass("dx-informer"),this.$element().toggleClass("dx-informer-bg",n),this._setAlignmentClass(),this._setTypeClass(),super._initMarkup(),this._renderIcon(),this._renderText()}_setAlignmentClass(){this.$element().removeClass("dx-informer-alignment-start").removeClass("dx-informer-alignment-center").removeClass("dx-informer-alignment-end");const{contentAlignment:n}=this.option();switch(n){case"start":this.$element().addClass("dx-informer-alignment-start");break;case"end":this.$element().addClass("dx-informer-alignment-end");break;default:this.$element().addClass("dx-informer-alignment-center")}}_setTypeClass(){this.$element().removeClass("dx-informer-error").removeClass("dx-informer-info");const{type:n}=this.option();"info"===n?this.$element().addClass("dx-informer-info"):this.$element().addClass("dx-informer-error")}_renderIcon(){var n;null===(n=this._$icon)||void 0===n||n.remove();const{icon:t}=this.option(),s=(0,Et.NJ)(t);s&&(this._$icon=(0,C.A)("<div>").addClass("dx-informer-icon").prependTo(this.$element()).append(s))}_renderText(){const{text:n=""}=this.option();this._$text=(0,C.A)("<div>").addClass("dx-informer-text").appendTo(this.$element()).text(n)}_updateText(){const{text:n=""}=this.option();this._$text.text(n)}_optionChanged(n){const{name:t,value:s}=n;switch(t){case"icon":this._renderIcon();break;case"contentAlignment":this._setAlignmentClass();break;case"showBackground":this.$element().toggleClass("dx-informer-bg",s);break;case"text":this._updateText();break;case"type":this._setTypeClass();break;default:super._optionChanged(n)}}}(0,I.A)("dxInformer",Pt);const ee=Pt,ie=class ne extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{items:[]})}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-alertlist"),super._initMarkup();const{items:n}=this.option();this._renderItems(n),this._updateAria()}_renderItems(n){this._informersInstances=[],null!=n&&n.length&&n.forEach(t=>{this._renderItem(t)})}_renderItem(n){const t=(0,C.A)("<div>").addClass("dx-chat-alertlist-error");this.$element().append(t);const s=this._createComponent(t,ee,{text:n?.message??"",icon:"errorcircle",showBackground:!1});this._informersInstances.push(s)}_cleanItems(){this._informersInstances.forEach(n=>{n.dispose()})}_updateAria(){const n={role:"log",atomic:"false",label:h.A.format("dxChat-alertListAriaLabel"),live:"polite",relevant:"additions"};this.setAria(n)}_clean(){this._cleanItems(),super._clean()}_optionChanged(n){const{name:t}=n;"items"===t?this._invalidate():super._optionChanged(n)}};var se=p(8587),oe=p(6676),ae=p(3992),re=p(8758),de=p(5110),le=p(3550);const he=["onApplyButtonClick","onCancelButtonClick"],ge=class ce{constructor(n,t){this._$container=n;const s=t??{},{onApplyButtonClick:r,onCancelButtonClick:g}=s,m=(0,se.A)(s,he);this._actions={onApplyButtonClick:r,onCancelButtonClick:g},this._popupConfig=m,this._renderPopup()}_renderPopup(){const n=(0,C.A)("<div>").appendTo(this._$container);this._popup=new de.A(n.get(0),this._getPopupConfig())}_getPopupConfig(){const n=(new ae.A).toString(),t=(0,C.A)("<div>").text(h.A.format("dxChat-editingDeleteConfirmText")).attr("id",n);return(0,re.X)((0,P.A)({width:240,height:"auto",showTitle:!1,showCloseButton:!1,shading:!0,dragEnabled:!1,hideOnOutsideClick:!0,toolbarItems:this._getToolbarItems(),onContentReady(s){s.component.$content().append(t),s.component.$overlayContent().attr("aria-labelledby",n)},onShown:s=>{const r=s.component.bottomToolbar().find(`.${le.aT}`).first();oe.A.trigger(r,"focus")},wrapperAttr:{class:"dx-chat-confirmation-popup-wrapper"},focusStateEnabled:!0,position:{my:"center",at:"center",of:this._$container}},this._popupConfig))}_getApplyButtonConfig(){return{widget:"dxButton",toolbar:"bottom",location:"before",options:{text:h.A.format("Yes"),type:"default",stylingMode:"contained",onClick:()=>{var n,t;null===(n=this._actions)||void 0===n||null===(t=n.onApplyButtonClick)||void 0===t||t.call(n),this._popup.hide()}}}}_getCancelButtonConfig(){return{widget:"dxButton",toolbar:"bottom",location:"after",options:{text:h.A.format("No"),type:"normal",stylingMode:"outlined",onClick:()=>{var n,t;null===(n=this._actions)||void 0===n||null===(t=n.onCancelButtonClick)||void 0===t||t.call(n),this._popup.hide()}}}}_getToolbarItems(){return[this._getApplyButtonConfig(),this._getCancelButtonConfig()]}show(){this._popup.show()}dispose(){this._popup.dispose()}};var pe=p(4040),Ft=p(3175),St=p(6661);const me=class ue extends St.A{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,text:"",onCancel:void 0})}_init(){super._init(),(0,C.A)(this.element()).addClass("dx-chat-editing-preview")}_initMarkup(){super._initMarkup();const{text:n}=this.option();n?this._renderContent():this._cleanContent()}_renderContent(){this._renderMessagePreview(),this._updateText(),this._renderCloseButton()}_renderMessagePreview(){const n=(0,C.A)("<div>").addClass("dx-chat-editing-preview-content").appendTo(this.element());(0,C.A)("<div>").addClass("dx-chat-editing-preview-caption").text(h.A.format("dxChat-editingMessageCaption")).appendTo(n),this._$messageText=(0,C.A)("<div>").addClass("dx-chat-editing-preview-text").appendTo(n)}_updateText(){const{text:n=""}=this.option();this._$messageText.text(n)}_renderCloseButton(){const{onCancel:n,activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r}=this.option(),g=(0,C.A)("<div>").addClass("dx-chat-editing-preview-cancel-button").appendTo(this.element());this._closeButton=this._createComponent(g,Ft.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r,icon:"remove",type:"normal",stylingMode:"text",elementAttr:{"aria-label":h.A.format("dxChat-cancelEditingButtonAriaLabel")},onClick:m=>{n?.(m)}})}_processTextUpdate(n){const{text:t=""}=this.option();n&&t?this._updateText():t?this._renderContent():(this.$element().get(0).addEventListener("animationend",()=>{this._cleanContent()},{once:!0}),this.$element().addClass("dx-chat-editing-preview-hiding"))}_cleanContent(){super._dispose(),this.$element().remove()}_optionChanged(n){const{name:t,value:s,previousValue:r}=n;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":this._closeButton.option(t,s);break;case"text":this._processTextUpdate(r);break;case"onCancel":this._closeButton.option("onClick",s);break;default:super._optionChanged(n)}}};var _e=p(7297);const kt=()=>"desktop"!==pe.A.current().deviceType,Ce=class fe extends St.A{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,onMessageEntered:void 0,onTypingStart:void 0,onTypingEnd:void 0,onMessageEditCanceled:void 0,onMessageUpdating:void 0,text:""})}_init(){super._init(),this._createMessageEnteredAction(),this._createTypingStartAction(),this._createTypingEndAction()}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-messagebox"),super._initMarkup(),this.option("text")&&this._renderEditingPreview(),this._renderInputContainer()}_renderInputContainer(){const n=(0,C.A)("<div>").addClass("dx-chat-messagebox-input-container").appendTo(this.element());this._renderTextArea(n),this._renderButton(n)}_cancelMessageEdit(){const{onMessageEditCanceled:n}=this.option();this.option("text",""),this._textArea.focus(),n?.()}_renderEditingPreview(){const n=(0,C.A)("<div>").prependTo(this.element()),{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r,text:g}=this.option();this._editingPreview=this._createComponent(n,me,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r,text:g,onCancel:()=>this._cancelMessageEdit()})}_renderTextArea(n){const{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r}=this.option(),g=(0,C.A)("<div>").addClass("dx-chat-messagebox-textarea");n.append(g),this._textArea=this._createComponent(g,_e.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r,stylingMode:"outlined",placeholder:h.A.format("dxChat-textareaPlaceholder"),autoResizeEnabled:!0,valueChangeEvent:"input",maxHeight:"8em",onInput:m=>{const E=!this._isValuableTextEntered();this._toggleButtonDisableState(E),this._triggerTypingStartAction(m),this._updateTypingEndTimeout()},onEnterKey:m=>{var E;kt()||null!==(E=m.event)&&void 0!==E&&E.shiftKey||this._sendHandler(m)}}),this._textArea.registerKeyHandler("enter",m=>{!m.shiftKey&&this._isValuableTextEntered()&&!kt()&&m.preventDefault()}),this._textArea.registerKeyHandler("escape",()=>{this.option("text")&&this._cancelMessageEdit()})}_renderButton(n){const{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r}=this.option(),g=(0,C.A)("<div>").addClass("dx-chat-messagebox-button");n.append(g),this._button=this._createComponent(g,Ft.A,{activeStateEnabled:t,focusStateEnabled:s,hoverStateEnabled:r,icon:"sendfilled",type:"default",stylingMode:"text",disabled:!0,elementAttr:{"aria-label":h.A.format("dxChat-sendButtonAriaLabel")},onClick:m=>{this._sendHandler(m)}})}_createMessageEnteredAction(){this._messageEnteredAction=this._createActionByOption("onMessageEntered",{excludeValidators:["disabled"]})}_createTypingStartAction(){this._typingStartAction=this._createActionByOption("onTypingStart",{excludeValidators:["disabled"]})}_createTypingEndAction(){this._typingEndAction=this._createActionByOption("onTypingEnd",{excludeValidators:["disabled"]})}_triggerTypingStartAction(n){var t;this._typingEndTimeoutId||null===(t=this._typingStartAction)||void 0===t||t.call(this,{event:n.event})}_updateTypingEndTimeout(){clearTimeout(this._typingEndTimeoutId),this._typingEndTimeoutId=setTimeout(()=>{var n;null===(n=this._typingEndAction)||void 0===n||n.call(this),this._clearTypingEndTimeout()},2e3)}_clearTypingEndTimeout(){clearTimeout(this._typingEndTimeoutId),this._typingEndTimeoutId=void 0}_sendHandler(n){var t,s;if(!this._isValuableTextEntered())return;this._clearTypingEndTimeout(),null===(t=this._typingEndAction)||void 0===t||t.call(this);const{text:r=""}=this._textArea.option(),{text:g}=this.option();if(g){const{onMessageUpdating:m}=this.option();m?.({text:r})}else this._textArea.reset(),this._toggleButtonDisableState(!0),null===(s=this._messageEnteredAction)||void 0===s||s.call(this,{text:r,event:n.event})}_toggleButtonDisableState(n){this._button.option("disabled",n)}_isValuableTextEntered(){const{text:n}=this._textArea.option();return!(null==n||!n.trim())}_optionChanged(n){const{name:t,value:s}=n;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":var r;this._button.option(t,s),this._textArea.option(t,s),null===(r=this._editingPreview)||void 0===r||r.option(t,s);break;case"onMessageEntered":this._createMessageEnteredAction();break;case"onTypingStart":this._createTypingStartAction();break;case"onTypingEnd":this._createTypingEndAction();break;case"text":this._updateEditingPreview(s),this._updateInputContainer(s);break;default:super._optionChanged(n)}}_clean(){this._clearTypingEndTimeout(),super._clean()}updateInputAria(n){this._textArea.option({inputAttr:{"aria-labelledby":n}})}_updateEditingPreview(n){this._editingPreview?(this._editingPreview.option("text",n),n||(this._editingPreview=null)):this._renderEditingPreview()}_updateInputContainer(n){this._textArea.option("value",n);const t=!this._isValuableTextEntered();this._toggleButtonDisableState(t)}};var Rt=p(2206),Ht=p(1341),ve=p(5042),Dt=p(7693),Ot=p(239),Oe=p(7963),Bt=p(2126),ye=p(7719),be=p(9180),xe=p(6657);p(8812),p(5327);var Ie=p(9489);const At="dx-chat-messagebubble",Pe=`${Et.T0}-cursorprohibition`,Lt="dxMessageData",Vt=class Fe extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{isDeleted:!1,isEdited:!1,text:"",template:null})}_initMarkup(){const n=(0,C.A)(this.element());n.addClass("dx-chat-messagebubble"),(0,C.A)("<div>").addClass("dx-chat-messagebubble-content").appendTo(n),super._initMarkup(),this._updateContent()}_updateContent(){const{template:n,type:t,text:s,src:r,alt:g,isDeleted:m=!1}=this.option();this.$element().removeClass("dx-chat-messagebubble-deleted");const E=(0,C.A)(this.element()).find(".dx-chat-messagebubble-content");if(E.empty(),n)n({type:t,text:s,src:r,alt:g},(0,Ie.cc)(E));else if(m){this.$element().addClass("dx-chat-messagebubble-deleted");const x=(0,C.A)("<div>").addClass(Et.T0).addClass(Pe),N=(0,C.A)("<div>").text(h.A.format("dxChat-deletedMessageText"));E.append(x).append(N)}else"image"===t?(this.$element().addClass("dx-has-image"),(0,C.A)("<img>").attr("src",r??"").attr("alt",g??h.A.format("dxChat-defaultImageAlt")).addClass("dx-chat-messagebubble-image").appendTo(E)):E.text(s??"")}_updateMessageData(n,t){const s=this.$element().data("dxMessageData")||{};s[n]=t,this.$element().data("dxMessageData",s)}_optionChanged(n){const{name:t,value:s}=n;switch(t){case"text":case"src":case"alt":case"isDeleted":this._updateMessageData(t,s),this._updateContent();break;case"template":this._updateContent();break;case"isEdited":this._updateMessageData(t,s);break;default:super._optionChanged(n)}}},Re=class ke extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{name:"Unknown User",url:"",alt:""})}_initMarkup(){(0,C.A)(this.element()).addClass("dx-avatar"),super._initMarkup(),this._renderAvatarContent()}_renderAvatarContent(){var n;null===(n=this._$content)||void 0===n||n.remove(),this._isValuableUrl()?this._renderImage():this._renderInitials()}_renderImage(){this._renderImageElement(),this._updateUrl(),this._updateAlt()}_renderInitials(){this._renderInitialsElement(),this._updateInitials()}_renderImageElement(){this._$content=(0,C.A)("<img>").addClass("dx-avatar-image").appendTo(this.element())}_renderInitialsElement(){this._$content=(0,C.A)("<div>").addClass("dx-avatar-initials").appendTo(this.element())}_updateInitials(){var n;const{name:t}=this.option();null===(n=this._$content)||void 0===n||n.text(this._getInitials(t))}_updateUrl(){var n;const{url:t}=this.option();null===(n=this._$content)||void 0===n||n.attr("src",t??"")}_updateAlt(){var n;const{alt:t,name:s}=this.option(),r=t||s||h.A.format("dxAvatar-defaultImageAlt");null===(n=this._$content)||void 0===n||n.attr("alt",r)}_isValuableUrl(){var n;const{url:t}=this.option();return!(null==t||null===(n=t.trim)||void 0===n||!n.call(t))}_getInitials(n){if((0,$.O9)(n)){const t=String(n).trim().split(/\s+/);return`${this._getFirstChar(t[0])}${this._getFirstChar(t[1])}`}return""}_getFirstChar(n){return n?.charAt(0).toUpperCase()??""}_optionChanged(n){const{name:t}=n;switch(t){case"alt":case"name":case"url":this._renderAvatarContent();break;default:super._optionChanged(n)}}},Tt="dx-chat-messagegroup",Gt="dx-chat-messagegroup-alignment-end",Mt=class Be extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{items:[],alignment:"start",showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,messageTemplate:null,messageTimestampFormat:"shorttime"})}_updateAlignmentClass(){(0,C.A)(this.element()).removeClass("dx-chat-messagegroup-alignment-start").removeClass("dx-chat-messagegroup-alignment-end");const n=this._isAlignmentStart()?"dx-chat-messagegroup-alignment-start":"dx-chat-messagegroup-alignment-end";(0,C.A)(this.element()).addClass(n)}_initMarkup(){const{items:n,showAvatar:t}=this.option();(0,C.A)(this.element()).addClass("dx-chat-messagegroup"),this._updateAlignmentClass(),super._initMarkup(),0!==n.length&&(t&&this._isAlignmentStart()&&this._renderAvatar(),this._renderMessageGroupInformation(n?.[0]),this._renderMessageBubbles(n))}_renderAvatar(){const n=(0,C.A)("<div>").appendTo(this.element()),{items:t}=this.option(),{author:s}=t[0],r=s?.name,g=s?.avatarUrl,m=s?.avatarAlt;this._avatar=this._createComponent(n,Re,{name:r,url:g,alt:m})}_renderMessageBubble(n){const t=(0,C.A)("<div>").data(Lt,n).appendTo(this._$messageBubbleContainer);this._createComponent(t,Vt,this._getMessageBubbleOptions(n))}_getMessageBubbleOptions(n){const t={isDeleted:n.isDeleted,type:n.type},{messageTemplate:s}=this.option();return"image"===n.type?(t.alt=n.alt,t.src=n.src):t.text=n.text,s&&(t.template=(r,g)=>{s((0,P.A)({},n,r),g)}),t}_renderMessageBubbles(n){this._$messageBubbleContainer=(0,C.A)("<div>").addClass("dx-chat-messagegroup-content").appendTo(this.element()),n.forEach((t,s)=>{0!==s&&"image"!==t.type&&!0===t.isEdited&&!t.isDeleted&&this._createEditedElement().appendTo(this._$messageBubbleContainer),this._renderMessageBubble(t)})}_renderMessageGroupInformation(n,t){const{showUserName:s,showMessageTimestamp:r}=this.option(),{timestamp:g,author:m}=n,E=(0,$.O9)(t)?t:"image"!==n.type&&n.isEdited,x=this._isAlignmentStart();this.$element().find(".dx-chat-messagegroup-information").remove();const N=(0,C.A)("<div>").addClass("dx-chat-messagegroup-information");if(s){const X=m?.name??h.A.format("dxChat-defaultUserName"),z=x?X:"";(0,C.A)("<div>").addClass("dx-chat-messagegroup-author-name").text(z).appendTo(N)}if(E&&!x&&N.append(this._createEditedElement()),r){const X=(0,C.A)("<div>").addClass("dx-chat-messagegroup-time").appendTo(N);if(this._shouldAddTimeValue(g)){const ot=this._getTimeValue(g);X.text(ot)}}E&&x&&N.append(this._createEditedElement()),N.appendTo(this.element())}_createEditedElement(){const n=(0,C.A)("<div>").addClass("dx-chat-message-edited");(0,C.A)("<div>").addClass("dx-chat-message-edited-icon").appendTo(n);const t=h.A.format("dxChat-editedMessageText");return(0,C.A)("<div>").addClass("dx-chat-message-edited-text").text(t).appendTo(n),n}_updateMessageEditedText(n){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this._$messageBubbleContainer.find(`.${At}`).first(),r=m=>{m.get(0).addEventListener("animationend",()=>{m.remove()},{once:!0}),m.addClass("dx-chat-message-edited-hiding")};if(n.is(s)){const m=this.option("items"),x=this.$element().find(".dx-chat-messagegroup-information").find(".dx-chat-message-edited");if(x.length&&t)return;return x.length&&!t?void r(x):void(t&&this._renderMessageGroupInformation(m[0],!0))}const g=n.prev();g.hasClass("dx-chat-message-edited")?t||r(g):t&&this._createEditedElement().insertBefore(n)}_isAlignmentStart(){const{alignment:n}=this.option();return"start"===n}_shouldAddTimeValue(n){const t=Ot.A.deserializeDate(n);return(0,$.$P)(t)&&!isNaN(t.getTime())}_getTimeValue(n){const t=Ot.A.deserializeDate(n),{messageTimestampFormat:s}=this.option();return Rt.A.format(t,s)}_optionChanged(n){const{name:t}=n;switch(t){case"items":case"alignment":case"showAvatar":case"showUserName":case"showMessageTimestamp":case"messageTemplate":case"messageTimestampFormat":this._invalidate();break;default:super._optionChanged(n)}}renderMessage(n){const{items:t}=this.option(),s=[...t,n];this._setOptionWithoutOptionChange("items",s),this._renderMessageBubble(n)}},$e=class Ue extends St.A{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{typingUsers:[]})}_init(){super._init(),(0,C.A)(this.element()).addClass("dx-chat-typingindicator")}_initMarkup(){super._initMarkup();const{typingUsers:n}=this.option();null!=n&&n.length&&this._renderContent()}_renderContent(){this._renderContentElement(),this._renderTextElement(),this._updateText(),this._renderBubble()}_renderContentElement(){this._$content=(0,C.A)("<div>").addClass("dx-chat-typingindicator-content").appendTo(this.element())}_renderTextElement(){this._$content&&(this._$text=(0,C.A)("<div>").addClass("dx-chat-typingindicator-text").appendTo(this._$content))}_renderBubble(){if(this._$content){const n=(0,C.A)("<div>").addClass("dx-chat-typingindicator-bubble");new Array(3).fill(0).forEach(()=>{(0,C.A)("<div>").addClass("dx-chat-typingindicator-circle").appendTo(n)}),n.appendTo(this._$content)}}_getText(){const{typingUsers:n}=this.option(),t=n?.map(r=>{var g;return(null===(g=r.name)||void 0===g?void 0:g.trim())||h.A.format("dxChat-defaultUserName")});if(1===t?.length)return h.A.format("dxChat-typingMessageSingleUser",t[0]);if(2===t?.length){const[r,g]=t;return h.A.format("dxChat-typingMessageTwoUsers",r,g)}if(3===t?.length){const[r,g,m]=t;return h.A.format("dxChat-typingMessageThreeUsers",r,g,m)}const s=t.slice(0,3).join(", ");return h.A.format("dxChat-typingMessageMultipleUsers",s)}_updateText(){var n;const t=this._getText();null===(n=this._$text)||void 0===n||n.text(t)}_processTypingUsersUpdating(n){const{typingUsers:t}=this.option();null!=n&&n.length&&null!=t&&t.length?this._updateText():null!=t&&t.length?this._renderContent():this._cleanContent()}_cleanContent(){this.$element().empty()}_optionChanged(n){const{name:t,previousValue:s}=n;"typingUsers"===t?this._processTypingUsersUpdating(s??[]):super._optionChanged(n)}},Ne=`.${Gt} .${At}`,Ve=class Le extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{allowUpdating:()=>!1,allowDeleting:()=>!1,isEditActionDisabled:()=>!1,items:[],currentUserId:"",showDayHeaders:!0,dayHeaderFormat:"shortdate",messageTimestampFormat:"shorttime",typingUsers:[],isLoading:!1,showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,messageTemplate:null})}_init(){super._init(),this._lastMessageDate=null}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat-messagelist"),super._initMarkup(),this._renderScrollView(),this._renderMessageListContent(),this._toggleEmptyView(),this._renderMessageGroups(),this._renderTypingIndicator(),this._renderContextMenu(),this._updateAria(),this._scrollDownContent()}_renderContentImpl(){super._renderContentImpl(),this._attachResizeObserverSubscription()}_attachResizeObserverSubscription(){const n=this.$element().get(0);Ht.A.unobserve(n),Ht.A.observe(n,t=>this._resizeHandler(t))}_resizeHandler(n){let{contentRect:t,target:s}=n;if(!(0,Oe.A1)((0,C.A)(s))||!function we(a){var n;return!!a&&!!(a.offsetWidth||a.offsetHeight||null!==(n=a.getClientRects)&&void 0!==n&&n.call(a).length)}(s))return;const r=!(0,$.O9)(this._containerClientHeight),g=t.height;if(r)this._scrollDownContent();else{const m=this._containerClientHeight-g,E=m>0;let x=this._scrollView.scrollTop();E&&(x+=m,this._scrollView.scrollTo({top:x}))}this._containerClientHeight=g}_renderEmptyViewContent(){const n=(0,C.A)("<div>").addClass("dx-chat-messagelist-empty-view").attr("id",`dx-${new e.qM}`);(0,C.A)("<div>").appendTo(n).addClass("dx-chat-messagelist-empty-image");const t=h.A.format("dxChat-emptyListMessage");(0,C.A)("<div>").appendTo(n).addClass("dx-chat-messagelist-empty-message").text(t);const s=h.A.format("dxChat-emptyListPrompt");(0,C.A)("<div>").appendTo(n).addClass("dx-chat-messagelist-empty-prompt").text(s),n.appendTo(this._$content)}_renderTypingIndicator(){const{typingUsers:n}=this.option(),t=(0,C.A)("<div>").appendTo(this._$scrollViewContent());this._typingIndicator=this._createComponent(t,$e,{typingUsers:n})}_isEmpty(){const{items:n}=this.option();return 0===n.length}_isCurrentUser(n){const{currentUserId:t}=this.option();return t===n}_messageGroupAlignment(n){return this._isCurrentUser(n)?"end":"start"}_createMessageGroupComponent(n,t){const{showAvatar:s,showUserName:r,showMessageTimestamp:g,messageTemplate:m,messageTimestampFormat:E}=this.option(),x=(0,C.A)("<div>").appendTo(this._$content);this._createComponent(x,Mt,{items:n,alignment:this._messageGroupAlignment(t),showAvatar:s,showUserName:r,showMessageTimestamp:g,messageTemplate:m,messageTimestampFormat:E})}_getContextMenuButtons(n){const{allowUpdating:t,allowDeleting:s,isEditActionDisabled:r,onMessageEditingStart:g,onMessageDeleting:m}=this.option(),E=h.A.format("dxChat-editingEditMessage"),x=h.A.format("dxChat-editingDeleteMessage"),N=[];return t(n)&&"image"!==n.type&&N.push({icon:"edit",text:E,disabled:r(n),onClick:X=>{const z=g?.({event:X.event,message:n}),ot=()=>{this._contextMenu.off("hidden",ot),z?.()};this._contextMenu.on("hidden",ot)}}),s(n)&&N.push({icon:"trash",text:x,onClick(X){m?.({event:X.event,message:n})}}),N}_renderContextMenu(){const n=(0,C.A)("<div>");this._contextMenu=this._createComponent(n,ye.Ay,{target:Ne,onShowing:t=>{this._onContextMenuShowing(t)},elementAttr:{class:"dx-messagelist-context-menu"},cssClass:"dx-messagelist-context-menu-content",hideOnParentScroll:!1,overlayContainer:this._scrollView.container(),visualContainer:this._scrollView.container(),boundaryOffset:{h:16}}),this._contextMenu.registerKeyHandler("escape",t=>{this._contextMenu.hide();const{onEscapeKeyPressed:s}=this.option();s?.(t)}),n.appendTo(this.$element())}_onContextMenuShowing(n){const{jQEvent:t}=n;if(!(0,$.O9)(t))return void(n.cancel=!0);const{currentTarget:s}=t,r=this._getMessageData(s);if(null!=r&&r.isDeleted)return void(n.cancel=!0);const g=this._getContextMenuButtons(r);g.length?(n.component.option("items",g),n.element.focus()):n.cancel=!0}_renderScrollView(){const n=(0,C.A)("<div>").appendTo(this.$element());this._scrollView=this._createComponent(n,be.Ay,{useKeyboard:!1,bounceEnabled:!1,reachBottomText:"",onReachBottom:ve.lQ})}_shouldAddDayHeader(n){const{showDayHeaders:t}=this.option();if(!t)return!1;const s=Ot.A.deserializeDate(n);return!(!(0,$.$P)(s)||isNaN(s.getTime())||Dt.A.sameDate(this._lastMessageDate,s))}_createDayHeader(n){const t=Ot.A.deserializeDate(n),s=new Date,r=new Date((new Date).setDate(s.getDate()-1)),{dayHeaderFormat:g}=this.option();this._lastMessageDate=t;let m=Rt.A.format(t,g);Dt.A.sameDate(t,s)&&(m=`${h.A.format("Today")} ${m}`),Dt.A.sameDate(t,r)&&(m=`${h.A.format("Yesterday")} ${m}`),(0,C.A)("<div>").addClass("dx-chat-messagelist-day-header").text(m).appendTo(this._$content)}_updateLoadingState(n){this._scrollView&&(this.$element().toggleClass("dx-chat-messagelist-empty-loading",this._isEmpty()&&n),this._scrollView.release(!n))}_renderMessageListContent(){this._$content=(0,C.A)("<div>").addClass("dx-chat-messagelist-content").appendTo(this._$scrollViewContent())}_toggleEmptyView(){this._getEmptyView().remove();const{isLoading:n}=this.option();this.$element().toggleClass("dx-chat-messagelist-empty",this._isEmpty()&&!n).toggleClass("dx-chat-messagelist-empty-loading",this._isEmpty()&&n),this._isEmpty()&&!n&&(this._renderEmptyViewContent(),this._updateLoadingState(!1))}_renderMessageGroups(){var n;const{isLoading:t,items:s}=this.option();if(this._isEmpty()&&!t)return;let r=null===(n=s[0])||void 0===n||null===(n=n.author)||void 0===n?void 0:n.id,g=[];s.forEach((m,E)=>{var x;const N=m??{},X=null===(x=N.author)||void 0===x?void 0:x.id,z=this._shouldAddDayHeader(N.timestamp),ot=this._isTimeoutExceeded(g[g.length-1]??{},m);(z&&g.length||ot||X!==r)&&(this._createMessageGroupComponent(g,r),r=X,g=[]),g.push(N),z&&this._createDayHeader(m?.timestamp),s.length-1===E&&this._createMessageGroupComponent(g,r)}),this._setLastMessageGroupClasses(),this._updateLoadingState(t)}_setLastMessageGroupClasses(){this._$content.find(".dx-chat-last-messagegroup-alignment-start").removeClass("dx-chat-last-messagegroup-alignment-start"),this._$content.find(".dx-chat-last-messagegroup-alignment-end").removeClass("dx-chat-last-messagegroup-alignment-end");const n=this._$content.find(".dx-chat-messagegroup-alignment-start").last(),t=this._$content.find(`.${Gt}`).last();n.addClass("dx-chat-last-messagegroup-alignment-start"),t.addClass("dx-chat-last-messagegroup-alignment-end")}_getLastMessageGroup(){const n=this._$content.find(`.${Tt}`).last();if(n.length)return Mt.getInstance(n)}_renderMessage(n){const{timestamp:t}=n;if(this._shouldAddDayHeader(t))return this._createDayHeader(t),void this._renderMessageIntoGroup(n);const r=this._getLastMessageGroup();if(!r)return void this._renderMessageIntoGroup(n);const g=this._getLastMessageGroupItem(r),m=this._isTimeoutExceeded(g,n);!this._isSameAuthor(n,g)||m?this._renderMessageIntoGroup(n):this._renderMessageIntoGroup(n,r)}_getLastMessageGroupItem(n){const{items:t}=n.option();return t[t.length-1]}_isSameAuthor(n,t){var s,r;return(null===(s=n.author)||void 0===s?void 0:s.id)===(null===(r=t.author)||void 0===r?void 0:r.id)}_renderMessageIntoGroup(n,t){const{author:s}=n;this._setIsReachedBottom(),t?t.renderMessage(n):(this._createMessageGroupComponent([n],s?.id),this._setLastMessageGroupClasses()),this._processScrollDownContent(this._isCurrentUser(s?.id))}_getMessageData(n){return(0,C.A)(n).data(Lt)}_findMessageElementByKey(n){const t=this.$element().find(`.${At}`);let s=(0,C.A)();return t.each((r,g)=>this._getMessageData(g).id!==n||(s=(0,C.A)(g),!1)),s}_getMessageGroupByBubbleElement(n){const t=n.closest(`.${Tt}`);return Mt.getInstance(t)}_updateMessageByKey(n,t){if((0,$.O9)(n)){const s=this._findMessageElementByKey(n);if(Vt.getInstance(s).option(t),"image"!==t.type){const g=s.closest(`.${Tt}`);Mt.getInstance(g)._updateMessageEditedText(s,!0===t.isEdited&&!t.isDeleted)}}}_removeMessageByKey(n){if(!n)return;const t=this._findMessageElementByKey(n);if(!t.length)return;const s=this._getMessageGroupByBubbleElement(t),{items:r}=s.option(),g=r.filter(m=>m.id!==n);if(0===g.length){const{showDayHeaders:m}=this.option();if(m){const E=s.$element().prev(),x=s.$element().next();E.length&&E.hasClass("dx-chat-messagelist-day-header")&&(x.length&&x.hasClass("dx-chat-messagelist-day-header")||!x.length)&&E.remove()}s.$element().remove()}else s.option("items",g);this._setLastMessageGroupClasses()}_scrollDownContent(){this._scrollView.scrollTo({top:(0,xe.p)(this._scrollableContainer())})}_scrollableContainer(){return(0,C.A)(this._scrollView.element()).find(".dx-scrollable-container").get(0)}_isMessageAddedToEnd(n,t){const s=n.length,r=t.length;return 0!==s&&(0===r?1===s:n[s-1]!==t[r-1]&&s-r==1)}_processItemsUpdating(n,t){this._isMessageAddedToEnd(n,t)?(this._toggleEmptyView(),this._renderMessage(n[n.length-1]??{})):this._invalidate()}_isTimeoutExceeded(n,t){const s=n?.timestamp,r=t?.timestamp;if(!s||!r)return!1;const g=Ot.A.deserializeDate(s);return Ot.A.deserializeDate(r)-g>3e5}_updateAria(){const n={role:"log",atomic:"false",label:h.A.format("dxChat-messageListAriaLabel"),live:"polite",relevant:"additions text"};this.setAria(n)}_setIsReachedBottom(){this._isBottomReached=!this._isContentOverflowing()||this._scrollView.isBottomReached()}_isContentOverflowing(){return(0,Bt.Oq)(this._scrollView.content())>(0,Bt.Oq)(this._scrollView.container())}_processScrollDownContent(){(this._isBottomReached||arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this._scrollDownContent(),this._isBottomReached=!1}_$scrollViewContent(){return(0,C.A)(this._scrollView.content())}_getEmptyView(){return this._$content.find(".dx-chat-messagelist-empty-view")}_dimensionChanged(){var n;null===(n=this._contextMenu)||void 0===n||n.hide()}_clean(){this._lastMessageDate=null,super._clean()}_modifyByChanges(n){n.forEach(t=>{switch(t.type){case"update":this._updateMessageByKey(t.key,t.data??{});break;case"insert":{const{items:s}=this.option();this.option("items",[...s,t.data??{}]);break}case"remove":this._removeMessageByKey(t.key)}})}_optionChanged(n){const{name:t,value:s,previousValue:r}=n;switch(t){case"currentUserId":case"showDayHeaders":case"showAvatar":case"showUserName":case"showMessageTimestamp":case"messageTemplate":case"dayHeaderFormat":case"messageTimestampFormat":this._invalidate();break;case"items":this._processItemsUpdating(s??[],r??[]);break;case"typingUsers":this._setIsReachedBottom(),this._typingIndicator.option(t,s),this._processScrollDownContent();break;case"isLoading":this._updateLoadingState(!!s);break;default:super._optionChanged(n)}}getEmptyViewId(){return this._isEmpty()?this._getEmptyView().attr("id")??null:null}};class wt extends gt.Ay{_getDefaultOptions(){return(0,P.A)({},super._getDefaultOptions(),{showDayHeaders:!0,activeStateEnabled:!0,editing:{allowUpdating:!1,allowDeleting:!1},focusStateEnabled:!0,hoverStateEnabled:!0,items:[],dataSource:null,user:{id:(new e.qM).toString()},dayHeaderFormat:"shortdate",messageTemplate:null,messageTimestampFormat:"shorttime",alerts:[],showAvatar:!0,showUserName:!0,showMessageTimestamp:!0,typingUsers:[],onMessageEntered:void 0,reloadOnChange:!0,onTypingStart:void 0,onTypingEnd:void 0,onMessageEditingStart:void 0,onMessageEditCanceled:void 0,onMessageDeleting:void 0,onMessageDeleted:void 0})}_init(){super._init(),this._initDataController(),this._refreshDataSource(),this._createMessageEnteredAction(),this._createMessageEditingStartAction(),this._createMessageEditCanceledAction(),this._createMessageDeletingAction(),this._createMessageDeletedAction(),this._createMessageUpdatingAction(),this._createMessageUpdatedAction(),this._createTypingStartAction(),this._createTypingEndAction()}_dataSourceLoadErrorHandler(){this.option("items",[])}_dataSourceChangedHandler(n,t){null!=t&&t.changes?(this._messageList._modifyByChanges(t.changes),this._setOptionWithoutOptionChange("items",n.slice()),this._messageList._setOptionWithoutOptionChange("items",n.slice()),this._messageList._toggleEmptyView()):this.option("items",n.slice())}_dataSourceLoadingChangedHandler(n){var t;null===(t=this._messageList)||void 0===t||t.option("isLoading",n)}_dataSourceOptions(){return{paginate:!1}}_initMarkup(){(0,C.A)(this.element()).addClass("dx-chat"),super._initMarkup(),this._renderMessageList(),this._renderAlertList(),this._renderMessageBox(),this._updateRootAria(),this._updateMessageBoxAria()}_renderMessageList(){const n=(0,C.A)("<div>");this.$element().append(n),this._messageList=this._createComponent(n,Ve,this._getMessageListOptions())}_getMessageListOptions(){const{items:n=[],user:t,showDayHeaders:s=!1,showAvatar:r=!1,showUserName:g=!1,showMessageTimestamp:m=!1,dayHeaderFormat:E,messageTimestampFormat:x,typingUsers:N=[]}=this.option(),X=this._dataController.isLoading(),z=t?.id;return{items:n,currentUserId:z,allowUpdating:Q=>this._allowEditAction(Q),allowDeleting:Q=>this._allowDeleteAction(Q),isEditActionDisabled:Q=>this._messageToEdit===Q,messageTemplate:this._getMessageTemplate(),showDayHeaders:s,showAvatar:r,showUserName:g,showMessageTimestamp:m,dayHeaderFormat:E,messageTimestampFormat:x,typingUsers:N,isLoading:X,onMessageEditingStart:Q=>(this._messageEditingStartHandler(Q),()=>this.focus()),onMessageDeleting:Q=>{this._messageDeletingHandler(Q)},onEscapeKeyPressed:()=>{this.focus()}}}_allowEditAction(n){const{editing:t}=this.option();if(!t)return!1;const{allowUpdating:s}=t;return"function"==typeof s?s({component:this,message:n}):s??!1}_allowDeleteAction(n){const{editing:t}=this.option();if(!t)return!1;const{allowDeleting:s}=t;return"function"==typeof s?s({component:this,message:n}):s??!1}_getMessageTemplate(){const{messageTemplate:n}=this.option();return n?(t,s)=>{this._getTemplateByOption("messageTemplate").render({container:s,model:{component:this,message:t}})}:null}_messageEditingStartHandler(n){var t,s;this._messageToEdit&&(null===(s=this._messageEditCanceledAction)||void 0===s||s.call(this,{message:this._messageToEdit}));const r={message:n.message,cancel:!1};null===(t=this._messageEditingStartAction)||void 0===t||t.call(this,r),yt(r.cancel,()=>{this._messageBox.option("text",n.message.text),this._messageToEdit=n.message})}_messageEditCanceledHandler(){var n;this._messageToEdit&&(null===(n=this._messageEditCanceledAction)||void 0===n||n.call(this,{message:this._messageToEdit}),this._messageToEdit=void 0)}_showDeleteConfirmationPopup(n){this._messageToDelete=n.message,this._deleteConfirmationPopup||(this._deleteConfirmationPopup=new ge(this.$element(),{onApplyButtonClick:()=>{var t,s;this._messageToEdit===this._messageToDelete&&(this._messageBox.option("text",""),null===(s=this._messageEditCanceledAction)||void 0===s||s.call(this,{message:this._messageToEdit}),this._messageToEdit=void 0),null===(t=this._messageDeletedAction)||void 0===t||t.call(this,{message:this._messageToDelete})},rtlEnabled:this.option().rtlEnabled,onHidden:()=>{this._messageToDelete=void 0,this._focusTarget()[0].focus()}})),this._deleteConfirmationPopup.show()}_messageDeletingHandler(n){var t;const{message:s}=n,r={message:s,cancel:!1};null===(t=this._messageDeletingAction)||void 0===t||t.call(this,r),yt(r.cancel,()=>{this._showDeleteConfirmationPopup(r)})}_messageUpdatingHandler(n){var t;const{text:s}=n,r={message:this._messageToEdit,text:s,cancel:!1};null===(t=this._messageUpdatingAction)||void 0===t||t.call(this,r),yt(r.cancel,()=>{var g;this._messageBox.option("text",""),null===(g=this._messageUpdatedAction)||void 0===g||g.call(this,r),this._messageToEdit=void 0})}_renderAlertList(){const n=(0,C.A)("<div>");this.$element().append(n);const{alerts:t=[]}=this.option();this._alertList=this._createComponent(n,ie,{items:t})}_renderMessageBox(){const{activeStateEnabled:n,focusStateEnabled:t,hoverStateEnabled:s}=this.option(),r=(0,C.A)("<div>");this.$element().append(r),this._messageBox=this._createComponent(r,Ce,{activeStateEnabled:n,focusStateEnabled:t,hoverStateEnabled:s,onMessageEntered:m=>{this._messageEnteredHandler(m)},onTypingStart:m=>{this._typingStartHandler(m)},onTypingEnd:()=>{this._typingEndHandler()},onMessageEditCanceled:()=>{this._messageEditCanceledHandler()},onMessageUpdating:m=>{this._messageUpdatingHandler(m)}})}_updateRootAria(){const n={role:"group",label:h.A.format("dxChat-elementAriaLabel")};this.setAria(n,this.$element())}_updateMessageBoxAria(){const n=this._messageList.getEmptyViewId();this._messageBox.updateInputAria(n)}_createMessageEnteredAction(){this._messageEnteredAction=this._createActionByOption("onMessageEntered",{excludeValidators:["disabled"]})}_createMessageEditingStartAction(){this._messageEditingStartAction=this._createActionByOption("onMessageEditingStart",{excludeValidators:["disabled"]})}_createMessageEditCanceledAction(){this._messageEditCanceledAction=this._createActionByOption("onMessageEditCanceled",{excludeValidators:["disabled"]})}_createMessageDeletingAction(){this._messageDeletingAction=this._createActionByOption("onMessageDeleting",{excludeValidators:["disabled"]})}_createMessageDeletedAction(){this._messageDeletedAction=this._createActionByOption("onMessageDeleted",{excludeValidators:["disabled"]})}_createMessageUpdatingAction(){this._messageUpdatingAction=this._createActionByOption("onMessageUpdating",{excludeValidators:["disabled"]})}_createMessageUpdatedAction(){this._messageUpdatedAction=this._createActionByOption("onMessageUpdated",{excludeValidators:["disabled"]})}_createTypingStartAction(){this._typingStartAction=this._createActionByOption("onTypingStart",{excludeValidators:["disabled"]})}_createTypingEndAction(){this._typingEndAction=this._createActionByOption("onTypingEnd",{excludeValidators:["disabled"]})}_messageEnteredHandler(n){var t;const{text:s,event:r}=n,{user:g}=this.option(),m={timestamp:new Date,author:g,text:s},E=this.getDataSource();(0,$.O9)(E)&&E.store().insert(m).done(()=>{const{reloadOnChange:x}=this.option();x&&E.reload()}),null===(t=this._messageEnteredAction)||void 0===t||t.call(this,{message:m,event:r})}_typingStartHandler(n){var t;const{event:s}=n,{user:r}=this.option();null===(t=this._typingStartAction)||void 0===t||t.call(this,{user:r,event:s})}_typingEndHandler(){var n;const{user:t}=this.option();null===(n=this._typingEndAction)||void 0===n||n.call(this,{user:t})}_focusTarget(){return(0,C.A)(this.element()).find(".dx-texteditor-input")}_optionChanged(n){const{name:t,value:s}=n;switch(t){case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":this._messageBox.option(t,s);break;case"user":{const r=s;this._messageList.option("currentUserId",r?.id);break}case"editing":case"reloadOnChange":break;case"items":this._messageList.option(t,this.option("items")),this._updateMessageBoxAria();break;case"dataSource":this._refreshDataSource();break;case"alerts":this._alertList.option("items",s??[]);break;case"onMessageEntered":this._createMessageEnteredAction();break;case"onMessageUpdating":case"onMessageUpdated":case"onMessageEditCanceled":this._createMessageEditCanceledAction();break;case"onMessageEditingStart":this._createMessageEditingStartAction();break;case"onMessageDeleting":this._createMessageDeletingAction();break;case"onMessageDeleted":this._createMessageDeletedAction();break;case"onTypingStart":this._createTypingStartAction();break;case"onTypingEnd":this._createTypingEndAction();break;case"showDayHeaders":case"showAvatar":case"showUserName":case"showMessageTimestamp":this._messageList.option(t,!!s);break;case"dayHeaderFormat":case"messageTimestampFormat":case"typingUsers":this._messageList.option(t,s);break;case"messageTemplate":this._messageList.option(t,this._getMessageTemplate());break;default:super._optionChanged(n)}}_insertNewItem(n){const{items:t}=this.option(),s=[...t??[],n];this.option("items",s)}renderMessage(){this._insertNewItem(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}_dispose(){var n;null===(n=this._deleteConfirmationPopup)||void 0===n||n.dispose(),super._dispose()}}wt.include(ft.A),(0,I.A)("dxChat",wt);const Ge=wt;var M=p(5245);let zt=(()=>{class a extends M.l9{get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get message(){return this._getOption("message")}set message(t){this._setOption("message",t)}get _optionPath(){return"alerts"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxi-chat-alert"]],inputs:{id:"id",message:"message"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),jt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[zt]})}return a})(),ze=(()=>{class a extends M.t${get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"author"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxo-chat-author"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),Kt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[ze]})}return a})(),je=(()=>{class a extends M.t${get currency(){return this._getOption("currency")}set currency(t){this._setOption("currency",t)}get formatter(){return this._getOption("formatter")}set formatter(t){this._setOption("formatter",t)}get parser(){return this._getOption("parser")}set parser(t){this._setOption("parser",t)}get precision(){return this._getOption("precision")}set precision(t){this._setOption("precision",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(t){this._setOption("useCurrencyAccountingStyle",t)}get _optionPath(){return"dayHeaderFormat"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxo-chat-day-header-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),Xt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[je]})}return a})(),Ke=(()=>{class a extends M.t${get allowDeleting(){return this._getOption("allowDeleting")}set allowDeleting(t){this._setOption("allowDeleting",t)}get allowUpdating(){return this._getOption("allowUpdating")}set allowUpdating(t){this._setOption("allowUpdating",t)}get _optionPath(){return"editing"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxo-chat-editing"]],inputs:{allowDeleting:"allowDeleting",allowUpdating:"allowUpdating"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),Wt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[Ke]})}return a})(),Yt=(()=>{class a extends M.l9{get alt(){return this._getOption("alt")}set alt(t){this._setOption("alt",t)}get author(){return this._getOption("author")}set author(t){this._setOption("author",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get isDeleted(){return this._getOption("isDeleted")}set isDeleted(t){this._setOption("isDeleted",t)}get isEdited(){return this._getOption("isEdited")}set isEdited(t){this._setOption("isEdited",t)}get src(){return this._getOption("src")}set src(t){this._setOption("src",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get timestamp(){return this._getOption("timestamp")}set timestamp(t){this._setOption("timestamp",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get _optionPath(){return"items"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxi-chat-item"]],inputs:{alt:"alt",author:"author",id:"id",isDeleted:"isDeleted",isEdited:"isEdited",src:"src",text:"text",timestamp:"timestamp",type:"type"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),Jt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[Yt]})}return a})(),Xe=(()=>{class a extends M.t${get currency(){return this._getOption("currency")}set currency(t){this._setOption("currency",t)}get formatter(){return this._getOption("formatter")}set formatter(t){this._setOption("formatter",t)}get parser(){return this._getOption("parser")}set parser(t){this._setOption("parser",t)}get precision(){return this._getOption("precision")}set precision(t){this._setOption("precision",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(t){this._setOption("useCurrencyAccountingStyle",t)}get _optionPath(){return"messageTimestampFormat"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxo-chat-message-timestamp-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),Qt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[Xe]})}return a})(),Zt=(()=>{class a extends M.l9{get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"typingUsers"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxi-chat-typing-user"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),qt=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[Zt]})}return a})(),We=(()=>{class a extends M.t${get avatarAlt(){return this._getOption("avatarAlt")}set avatarAlt(t){this._setOption("avatarAlt",t)}get avatarUrl(){return this._getOption("avatarUrl")}set avatarUrl(t){this._setOption("avatarUrl",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get _optionPath(){return"user"}constructor(t,s){super(),t.setNestedOption(this),s.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(s){return new(s||a)(i.rXU(M.fH,5),i.rXU(M.fH,1))};static \u0275cmp=i.VBU({type:a,selectors:[["dxo-chat-user"]],inputs:{avatarAlt:"avatarAlt",avatarUrl:"avatarUrl",id:"id",name:"name"},standalone:!0,features:[i.Jv_([M.fH]),i.Vt3,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_]})}return a})(),te=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[We]})}return a})(),Ye=(()=>{class a extends M.ic{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get alerts(){return this._getOption("alerts")}set alerts(t){this._setOption("alerts",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get dayHeaderFormat(){return this._getOption("dayHeaderFormat")}set dayHeaderFormat(t){this._setOption("dayHeaderFormat",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get editing(){return this._getOption("editing")}set editing(t){this._setOption("editing",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get messageTemplate(){return this._getOption("messageTemplate")}set messageTemplate(t){this._setOption("messageTemplate",t)}get messageTimestampFormat(){return this._getOption("messageTimestampFormat")}set messageTimestampFormat(t){this._setOption("messageTimestampFormat",t)}get reloadOnChange(){return this._getOption("reloadOnChange")}set reloadOnChange(t){this._setOption("reloadOnChange",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get showAvatar(){return this._getOption("showAvatar")}set showAvatar(t){this._setOption("showAvatar",t)}get showDayHeaders(){return this._getOption("showDayHeaders")}set showDayHeaders(t){this._setOption("showDayHeaders",t)}get showMessageTimestamp(){return this._getOption("showMessageTimestamp")}set showMessageTimestamp(t){this._setOption("showMessageTimestamp",t)}get showUserName(){return this._getOption("showUserName")}set showUserName(t){this._setOption("showUserName",t)}get typingUsers(){return this._getOption("typingUsers")}set typingUsers(t){this._setOption("typingUsers",t)}get user(){return this._getOption("user")}set user(t){this._setOption("user",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}onDisposing;onInitialized;onMessageDeleted;onMessageDeleting;onMessageEditCanceled;onMessageEditingStart;onMessageEntered;onMessageUpdated;onMessageUpdating;onOptionChanged;onTypingEnd;onTypingStart;accessKeyChange;activeStateEnabledChange;alertsChange;dataSourceChange;dayHeaderFormatChange;disabledChange;editingChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;itemsChange;messageTemplateChange;messageTimestampFormatChange;reloadOnChangeChange;rtlEnabledChange;showAvatarChange;showDayHeadersChange;showMessageTimestampChange;showUserNameChange;typingUsersChange;userChange;visibleChange;widthChange;get alertsChildren(){return this._getOption("alerts")}set alertsChildren(t){this._setChildren("alerts",t,"DxiChatAlertComponent")}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this._setChildren("items",t,"DxiChatItemComponent")}get typingUsersChildren(){return this._getOption("typingUsers")}set typingUsersChildren(t){this._setChildren("typingUsers",t,"DxiChatTypingUserComponent")}get alertsLegacyChildren(){return this._getOption("alerts")}set alertsLegacyChildren(t){this._setChildren("alerts",t,"DxiAlertComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(t){this._setChildren("items",t,"DxiItemComponent")}get typingUsersLegacyChildren(){return this._getOption("typingUsers")}set typingUsersLegacyChildren(t){this._setChildren("typingUsers",t,"DxiTypingUserComponent")}constructor(t,s,r,g,m,E,x,N){super(t,s,r,g,x,N),this._watcherHelper=g,this._idh=m,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"messageDeleted",emit:"onMessageDeleted"},{subscribe:"messageDeleting",emit:"onMessageDeleting"},{subscribe:"messageEditCanceled",emit:"onMessageEditCanceled"},{subscribe:"messageEditingStart",emit:"onMessageEditingStart"},{subscribe:"messageEntered",emit:"onMessageEntered"},{subscribe:"messageUpdated",emit:"onMessageUpdated"},{subscribe:"messageUpdating",emit:"onMessageUpdating"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"typingEnd",emit:"onTypingEnd"},{subscribe:"typingStart",emit:"onTypingStart"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"alertsChange"},{emit:"dataSourceChange"},{emit:"dayHeaderFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemsChange"},{emit:"messageTemplateChange"},{emit:"messageTimestampFormatChange"},{emit:"reloadOnChangeChange"},{emit:"rtlEnabledChange"},{emit:"showAvatarChange"},{emit:"showDayHeadersChange"},{emit:"showMessageTimestampChange"},{emit:"showUserNameChange"},{emit:"typingUsersChange"},{emit:"userChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),E.setHost(this)}_createInstance(t,s){return new Ge(t,s)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("alerts",t),this.setupChanges("dataSource",t),this.setupChanges("items",t),this.setupChanges("typingUsers",t)}setupChanges(t,s){t in this._optionsToUpdate||this._idh.setup(t,s)}ngDoCheck(){this._idh.doCheck("alerts"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("typingUsers"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,s){let r=this._idh.setupSingle(t,s),g=null!==this._idh.getChanges(t,s);(r||g)&&super._setOption(t,s)}static \u0275fac=function(s){return new(s||a)(i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(M.zF),i.rXU(M.jS),i.rXU(M.$M),i.rXU(M.fH),i.rXU(i.pJN),i.rXU(i.Agw))};static \u0275cmp=i.VBU({type:a,selectors:[["dx-chat"]],contentQueries:function(s,r,g){if(1&s&&(i.wni(g,zt,4),i.wni(g,Yt,4),i.wni(g,Zt,4),i.wni(g,O.Lh0,4),i.wni(g,O.CVf,4),i.wni(g,O.PcF,4)),2&s){let m;i.mGM(m=i.lsd())&&(r.alertsChildren=m),i.mGM(m=i.lsd())&&(r.itemsChildren=m),i.mGM(m=i.lsd())&&(r.typingUsersChildren=m),i.mGM(m=i.lsd())&&(r.alertsLegacyChildren=m),i.mGM(m=i.lsd())&&(r.itemsLegacyChildren=m),i.mGM(m=i.lsd())&&(r.typingUsersLegacyChildren=m)}},hostAttrs:["ngSkipHydration","true"],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",alerts:"alerts",dataSource:"dataSource",dayHeaderFormat:"dayHeaderFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",items:"items",messageTemplate:"messageTemplate",messageTimestampFormat:"messageTimestampFormat",reloadOnChange:"reloadOnChange",rtlEnabled:"rtlEnabled",showAvatar:"showAvatar",showDayHeaders:"showDayHeaders",showMessageTimestamp:"showMessageTimestamp",showUserName:"showUserName",typingUsers:"typingUsers",user:"user",visible:"visible",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onMessageDeleted:"onMessageDeleted",onMessageDeleting:"onMessageDeleting",onMessageEditCanceled:"onMessageEditCanceled",onMessageEditingStart:"onMessageEditingStart",onMessageEntered:"onMessageEntered",onMessageUpdated:"onMessageUpdated",onMessageUpdating:"onMessageUpdating",onOptionChanged:"onOptionChanged",onTypingEnd:"onTypingEnd",onTypingStart:"onTypingStart",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",alertsChange:"alertsChange",dataSourceChange:"dataSourceChange",dayHeaderFormatChange:"dayHeaderFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemsChange:"itemsChange",messageTemplateChange:"messageTemplateChange",messageTimestampFormatChange:"messageTimestampFormatChange",reloadOnChangeChange:"reloadOnChangeChange",rtlEnabledChange:"rtlEnabledChange",showAvatarChange:"showAvatarChange",showDayHeadersChange:"showDayHeadersChange",showMessageTimestampChange:"showMessageTimestampChange",showUserNameChange:"showUserNameChange",typingUsersChange:"typingUsersChange",userChange:"userChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[i.Jv_([M.zF,M.jS,M.fH,M.$M]),i.Vt3,i.OA$,i.aNF],decls:0,vars:0,template:function(s,r){},dependencies:[M.p_],encapsulation:2})}return a})(),Je=(()=>{class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=i.$C({type:a});static \u0275inj=i.G2t({imports:[Ye,O.a5Y,O.qBA,O.aJg,O.POb,O.hKy,O.Elh,O.qiQ,O.X9X,jt,Kt,Xt,Wt,Jt,Qt,qt,te,M.p_,M.xZ,O.a5Y,O.qBA,O.aJg,O.POb,O.hKy,O.Elh,O.qiQ,O.X9X,jt,Kt,Xt,Wt,Jt,Qt,qt,te,M.xZ]})}return a})();var Qe=p(5955),Ze=p(9417);let qe=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=i.$C({type:a})}static{this.\u0275inj=i.G2t({imports:[d.MD,st,L.N8$,V.L,v.S,c.RE,Qe.ReportsModule,T.i,l.Rg,Je,Ze.X1]})}}return a})()},5955:(mt,W,p)=>{p.r(W),p.d(W,{ReportsModule:()=>ut});var d=p(177),F=p(9417),i=p(6511),u=p(1297),y=p(5506),k=p(2517),L=p(6382),O=p(2183),H=p(7468),Z=p(7673),G=p(9437),o=p(4438),j=p(4493),J=p(5993),dt=p(5794),B=p(1063);function Y(D,q){if(1&D&&(o.j41(0,"option",37),o.EFF(1),o.k0s()),2&D){const f=q.$implicit;o.Y8G("value",f.id),o.R7$(),o.JRh(f.name)}}function tt(D,q){1&D&&(o.j41(0,"div",38)(1,"p"),o.EFF(2,"Loading reports..."),o.k0s()())}let S=(()=>{class D{constructor(f,w,_){this.salesService=f,this.inventoryService=w,this.toastr=_,this.loading=!1,this.rawDailyData=[],this.rawMonthlyData=[],this.rawTopProducts=[],this.rawLowStockProducts=[],this.rawCategorySales=[],this.rawTopCustomers=[],this.dailyData=[],this.monthlyData=[],this.topProducts=[],this.lowStockProducts=[],this.categorySales=[],this.topCustomers=[],this.categories=[],this.summary={},this.filterForm={startDate:new Date((new Date).setDate((new Date).getDate()-30)),endDate:new Date,categoryId:""}}ngOnInit(){this.loadCategories(),this.loadReports()}loadCategories(){this.inventoryService.getCategories().subscribe({next:f=>{this.categories=f.filter(w=>w.is_enabled)},error:()=>this.toastr.error("Failed to load categories")})}loadReports(){this.loading=!0,(0,H.p)({dashboard:this.salesService.getDashboardReport().pipe((0,G.W)(f=>(console.error("\u274c Failed to load dashboard report",f),(0,Z.of)({data:{dailySales:[],monthlySales:[],topProducts:[],lowStockProducts:[],categorySales:[],topCustomers:[],summary:{}}}))))}).subscribe({next:f=>{const w=f.dashboard.data;w.topProducts.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0,_.avg_selling_price=Number(_.avg_selling_price)||0,_.unit_price=Number(_.unit_price)||0,_.stock_quantity=Number(_.stock_quantity)||0,_.total_sold=Number(_.total_sold)||0}),w.lowStockProducts.forEach(_=>{_.stock_quantity=Number(_.stock_quantity)||0,_.low_stock_threshold=Number(_.low_stock_threshold)||0,_.unit_price=Number(_.unit_price)||0}),w.categorySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0,_.total_quantity_sold=Number(_.total_quantity_sold)||0}),w.dailySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0}),w.monthlySales.forEach(_=>{_.total_revenue=Number(_.total_revenue)||0,_.total_profit=Number(_.total_profit)||0}),this.rawDailyData=w.dailySales||[],this.rawMonthlyData=w.monthlySales||[],this.rawTopProducts=w.topProducts||[],this.rawLowStockProducts=w.lowStockProducts||[],this.rawCategorySales=w.categorySales||[],this.rawTopCustomers=w.topCustomers||[],this.summary=w.summary||{},this.applyFilters(),this.loading=!1},error:f=>{console.error("\u274c Error loading dashboard reports:",f),this.loading=!1}})}onFilterChange(){this.applyFilters()}applyFilters(){const f=this.filterForm.categoryId,w=new Date(this.filterForm.startDate),_=new Date(this.filterForm.endDate);this.topProducts=this.rawTopProducts.filter(A=>!f||A.category_id===+f),this.lowStockProducts=this.rawLowStockProducts.filter(A=>!f||A.category_id===+f),this.categorySales=this.rawCategorySales.filter(A=>!f||A.category_id===+f),this.topCustomers=this.rawTopCustomers,this.dailyData=this.rawDailyData.filter(A=>{const b=new Date(A.date),it=!f||(A.products||[]).some(U=>U.category_id===+f);return b>=w&&b<=_&&it}).map(A=>{if(f){const b=(A.products||[]).filter(U=>U.category_id===+f).reduce((U,st)=>U+(st.total_revenue||0),0),it=(A.products||[]).filter(U=>U.category_id===+f).reduce((U,st)=>U+(st.total_profit||0),0);return{...A,total_revenue:b,total_profit:it}}return A}),this.monthlyData=this.rawMonthlyData.filter(A=>{const b=new Date(A.month),it=!f||(A.products||[]).some(U=>U.category_id===+f);return b>=w&&b<=_&&it}).map(A=>{if(f){const b=(A.products||[]).filter(U=>U.category_id===+f).reduce((U,st)=>U+(st.total_revenue||0),0),it=(A.products||[]).filter(U=>U.category_id===+f).reduce((U,st)=>U+(st.total_profit||0),0);return{...A,total_revenue:b,total_profit:it}}return A}),this.summary.totalProducts=this.rawTopProducts.length,this.summary.totalInventoryValue=this.rawTopProducts.reduce((A,b)=>A+(b.stock_quantity||0)*(b.unit_price||0),0),this.summary.totalSales=this.rawTopProducts.reduce((A,b)=>A+(b.total_revenue||0),0),this.summary.totalProfit=this.rawTopProducts.reduce((A,b)=>A+(b.total_profit||0),0),this.summary.avgSellingPrice=this.rawTopProducts.length?this.rawTopProducts.reduce((A,b)=>A+(b.avg_selling_price||0),0)/this.rawTopProducts.length:0}formatProductWithUnit(f){return`${f.product_name} (${f.unit_name||"-"})`}exportCSV(){this.toastr.info("Export CSV functionality not implemented yet.")}exportPDF(){this.toastr.info("Export PDF functionality not implemented yet.")}static{this.\u0275fac=function(w){return new(w||D)(o.rXU(j.w),o.rXU(J.c),o.rXU(dt.tw))}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["app-reports"]],decls:103,vars:45,consts:[[1,"reports-container"],[1,"page-title"],[1,"summary-cards"],[1,"card","metric"],[1,"filters"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",3,"ngModelChange","change","ngModel"],["text","Export CSV","type","default",3,"onClick"],["text","Export PDF","type","default",3,"onClick"],[1,"table-card"],[3,"dataSource","columnAutoWidth","columnHidingEnabled","showBorders"],["caption","Product",3,"calculateDisplayValue"],["dataField","total_sold","caption","Total Sold"],["dataField","avg_selling_price","caption","Avg Price","dataType","number","format","#,##0.00"],["dataField","total_revenue","caption","Revenue","dataType","number","format","#,##0.00"],["dataField","total_profit","caption","Profit","dataType","number","format","#,##0.00"],["dataField","category_name","caption","Category"],[3,"dataSource","columnHidingEnabled","columnAutoWidth","showBorders"],["dataField","stock_quantity","caption","Quantity"],["dataField","low_stock_threshold","caption","Threshold"],["dataField","unit_price","caption","Unit Price","dataType","number","format","#,##0.00"],[3,"dataSource","columnAutoWidth","showBorders"],["dataField","total_quantity_sold","caption","Total Sold"],["dataField","customer_name","caption","Customer"],["dataField","total_orders","caption","Orders"],["dataField","total_spent","caption","Total Spent","dataType","number","format","#,##0.00"],[1,"chart-card"],[3,"dataSource"],["argumentField","date","valueField","total_revenue","type","line","name","Revenue"],["argumentField","date","valueField","total_profit","type","line","name","Profit","color","#4caf50"],["argumentType","datetime"],["location","edge",3,"enabled","shared"],["argumentField","month","valueField","total_revenue","type","bar","name","Revenue"],["argumentField","month","valueField","total_profit","type","bar","name","Profit","color","#4caf50"],["class","loading-overlay",4,"ngIf"],[3,"value"],[1,"loading-overlay"]],template:function(w,_){1&w&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"Vet-Dommie AgroVet Reports"),o.k0s(),o.j41(3,"div",2)(4,"div",3)(5,"h4"),o.EFF(6,"Total Products"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",3)(10,"h4"),o.EFF(11,"Inventory Value"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.nI1(14,"currency"),o.k0s()(),o.j41(15,"div",3)(16,"h4"),o.EFF(17,"Low Stock Items"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",3)(21,"h4"),o.EFF(22,"Total Sales"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.nI1(25,"currency"),o.k0s()(),o.j41(26,"div",3)(27,"h4"),o.EFF(28,"Total Profit"),o.k0s(),o.j41(29,"p"),o.EFF(30),o.nI1(31,"currency"),o.k0s()(),o.j41(32,"div",3)(33,"h4"),o.EFF(34,"Average Selling Price"),o.k0s(),o.j41(35,"p"),o.EFF(36),o.nI1(37,"currency"),o.k0s()()(),o.j41(38,"div",4)(39,"label"),o.EFF(40," Category: "),o.j41(41,"select",5),o.mxI("ngModelChange",function(b){return o.DH7(_.filterForm.categoryId,b)||(_.filterForm.categoryId=b),b}),o.bIt("change",function(){return _.onFilterChange()}),o.j41(42,"option",6),o.EFF(43,"All"),o.k0s(),o.DNE(44,Y,2,2,"option",7),o.k0s()(),o.j41(45,"label"),o.EFF(46," Start Date: "),o.j41(47,"input",8),o.mxI("ngModelChange",function(b){return o.DH7(_.filterForm.startDate,b)||(_.filterForm.startDate=b),b}),o.bIt("change",function(){return _.onFilterChange()}),o.k0s()(),o.j41(48,"label"),o.EFF(49," End Date: "),o.j41(50,"input",8),o.mxI("ngModelChange",function(b){return o.DH7(_.filterForm.endDate,b)||(_.filterForm.endDate=b),b}),o.bIt("change",function(){return _.onFilterChange()}),o.k0s()(),o.j41(51,"dx-button",9),o.bIt("onClick",function(){return _.exportCSV()}),o.k0s(),o.j41(52,"dx-button",10),o.bIt("onClick",function(){return _.exportPDF()}),o.k0s()(),o.j41(53,"div",11)(54,"h3"),o.EFF(55,"Top Selling Products"),o.k0s(),o.j41(56,"dx-data-grid",12),o.nrm(57,"dxi-column",13)(58,"dxi-column",14)(59,"dxi-column",15)(60,"dxi-column",16)(61,"dxi-column",17)(62,"dxi-column",18),o.k0s()(),o.j41(63,"div",11)(64,"h3"),o.EFF(65,"Low Stock Products (Below Threshold)"),o.k0s(),o.j41(66,"dx-data-grid",19),o.nrm(67,"dxi-column",13)(68,"dxi-column",20)(69,"dxi-column",21)(70,"dxi-column",22)(71,"dxi-column",18),o.k0s()(),o.j41(72,"div",11)(73,"h3"),o.EFF(74,"Sales by Category"),o.k0s(),o.j41(75,"dx-data-grid",23),o.nrm(76,"dxi-column",18)(77,"dxi-column",24)(78,"dxi-column",16)(79,"dxi-column",17),o.k0s()(),o.j41(80,"div",11)(81,"h3"),o.EFF(82,"Top Customers"),o.k0s(),o.j41(83,"dx-data-grid",23),o.nrm(84,"dxi-column",25)(85,"dxi-column",26)(86,"dxi-column",27),o.k0s()(),o.j41(87,"div",28)(88,"h3"),o.EFF(89,"Daily Sales (Last 30 Days)"),o.k0s(),o.j41(90,"dx-chart",29),o.nrm(91,"dxi-series",30)(92,"dxi-series",31)(93,"dxo-argument-axis",32)(94,"dxo-tooltip",33),o.k0s()(),o.j41(95,"div",28)(96,"h3"),o.EFF(97,"Monthly Sales (Last 12 Months)"),o.k0s(),o.j41(98,"dx-chart",29),o.nrm(99,"dxi-series",34)(100,"dxi-series",35)(101,"dxo-tooltip",33),o.k0s()(),o.DNE(102,tt,3,0,"div",36),o.k0s()),2&w&&(o.R7$(8),o.JRh(_.summary.totalProducts||0),o.R7$(5),o.JRh(o.i5U(14,33,_.summary.totalInventoryValue,"KSh.")),o.R7$(6),o.JRh(_.lowStockProducts.length||0),o.R7$(5),o.JRh(o.i5U(25,36,_.summary.totalSales,"KSh.")),o.R7$(6),o.JRh(o.i5U(31,39,_.summary.totalProfit,"KSh.")),o.R7$(6),o.JRh(o.i5U(37,42,_.summary.avgSellingPrice,"KSh.")),o.R7$(5),o.R50("ngModel",_.filterForm.categoryId),o.R7$(3),o.Y8G("ngForOf",_.categories),o.R7$(3),o.R50("ngModel",_.filterForm.startDate),o.R7$(3),o.R50("ngModel",_.filterForm.endDate),o.R7$(6),o.Y8G("dataSource",_.topProducts)("columnAutoWidth",!0)("columnHidingEnabled",!0)("showBorders",!0),o.R7$(),o.Y8G("calculateDisplayValue",_.formatProductWithUnit.bind(_)),o.R7$(9),o.Y8G("dataSource",_.lowStockProducts)("columnHidingEnabled",!0)("columnAutoWidth",!0)("showBorders",!0),o.R7$(),o.Y8G("calculateDisplayValue",_.formatProductWithUnit.bind(_)),o.R7$(8),o.Y8G("dataSource",_.categorySales)("columnAutoWidth",!0)("showBorders",!0),o.R7$(8),o.Y8G("dataSource",_.topCustomers)("columnAutoWidth",!0)("showBorders",!0),o.R7$(7),o.Y8G("dataSource",_.dailyData),o.R7$(4),o.Y8G("enabled",!0)("shared",!0),o.R7$(4),o.Y8G("dataSource",_.monthlyData),o.R7$(3),o.Y8G("enabled",!0)("shared",!0),o.R7$(),o.Y8G("ngIf",_.loading))},dependencies:[d.Sq,d.bT,F.xH,F.y7,F.me,F.wz,F.BC,F.vS,i.sjL,B.nj_,y.e,k.if6,B.XuG,B.mEX,B.Qx,d.oe],styles:[".reports-container[_ngcontent-%COMP%]{padding:1rem;margin:0 auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333}.page-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:1.5rem;color:#2e7d32;text-align:center}.summary-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;justify-content:center}.card.metric[_ngcontent-%COMP%]{flex:1 1 200px;background-color:#f1f8e9;border-radius:8px;padding:1rem;text-align:center;box-shadow:0 2px 6px #0000001a;transition:transform .2s ease}.card.metric[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.card.metric[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:#558b2f}.card.metric[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin:0}.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:2rem;justify-content:center;align-items:center}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem;color:#555}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{margin-top:.3rem;padding:.4rem .6rem;border-radius:4px;border:1px solid #ccc;font-size:.9rem}.table-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin-bottom:2rem;box-shadow:0 2px 6px #00000014}.table-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#2e7d32;margin-bottom:1rem}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin-bottom:2rem;box-shadow:0 2px 6px #00000014}.chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#2e7d32;margin-bottom:1rem}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffb3;display:flex;justify-content:center;align-items:center;font-size:1.2rem;font-weight:600;color:#2e7d32}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem}.table-card[_ngcontent-%COMP%], .chart-card[_ngcontent-%COMP%]{padding:.8rem}}"]})}}return D})();function R(D,q){1&D&&(o.j41(0,"div",8),o.nrm(1,"div",9),o.k0s())}function K(D,q){if(1&D&&(o.j41(0,"div",10)(1,"h3",11),o.EFF(2,"Daily Sales Summary"),o.k0s(),o.j41(3,"dx-data-grid",12),o.nrm(4,"dxo-paging",13)(5,"dxi-column",14)(6,"dxi-column",15)(7,"dxi-column",16)(8,"dxi-column",17),o.k0s()()),2&D){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.dailySales)("showBorders",!0)("columnAutoWidth",!0)("hoverStateEnabled",!0)("rowAlternationEnabled",!0),o.R7$(),o.Y8G("pageSize",10)}}function lt(D,q){if(1&D&&(o.j41(0,"div",18)(1,"h3",19),o.EFF(2,"Sales Trend"),o.k0s(),o.j41(3,"dx-chart",20),o.nrm(4,"dxi-series",21)(5,"dxo-tooltip",22)(6,"dxo-legend",23),o.k0s()()),2&D){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.dailySales),o.R7$(2),o.Y8G("enabled",!0),o.R7$(),o.Y8G("visible",!1)}}function rt(D,q){1&D&&(o.j41(0,"div",8),o.nrm(1,"div",9),o.k0s())}function ht(D,q){if(1&D&&(o.j41(0,"div",10)(1,"h3",11),o.EFF(2,"Monthly Sales Summary"),o.k0s(),o.j41(3,"dx-data-grid",12),o.nrm(4,"dxo-paging",13)(5,"dxi-column",14)(6,"dxi-column",15)(7,"dxi-column",16)(8,"dxi-column",17),o.k0s()()),2&D){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.monthlySales)("showBorders",!0)("columnAutoWidth",!0)("hoverStateEnabled",!0)("rowAlternationEnabled",!0),o.R7$(),o.Y8G("pageSize",10)}}function nt(D,q){if(1&D&&(o.j41(0,"div",18)(1,"h3",19),o.EFF(2,"Monthly Revenue Trend"),o.k0s(),o.j41(3,"dx-chart",20),o.nrm(4,"dxi-series",21)(5,"dxo-tooltip",22)(6,"dxo-legend",23),o.k0s()()),2&D){const f=o.XpG();o.R7$(3),o.Y8G("dataSource",f.monthlySales),o.R7$(2),o.Y8G("enabled",!0),o.R7$(),o.Y8G("visible",!1)}}const pt=[{path:"",component:S,children:[{path:"",component:S},{path:"daily",component:(()=>{class D{constructor(f){this.salesService=f,this.loading=!1,this.dailySales=[],this.startDate=new Date((new Date).setDate((new Date).getDate()-7)),this.endDate=new Date}ngOnInit(){this.loadDailySales()}loadDailySales(){this.loading=!0,this.salesService.dailyReport().pipe((0,G.W)(f=>(console.error("\u274c Failed to fetch daily sales",f),this.loading=!1,(0,Z.of)({data:[]})))).subscribe(f=>{this.dailySales=f.data||[],this.loading=!1})}onFilterChange(){this.loadDailySales()}static{this.\u0275fac=function(w){return new(w||D)(o.rXU(j.w))}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["app-daily-sales"]],decls:15,vars:5,consts:[[1,"p-4"],[1,"text-2xl","font-semibold","mb-6","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-6","bg-white","p-4","rounded-2xl","shadow","items-end"],[1,"block","text-gray-600","text-sm","mb-1"],["displayFormat","yyyy-MM-dd",3,"valueChange","onValueChanged","value"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4 mb-6",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-10","w-10","border-t-4","border-blue-500"],[1,"bg-white","rounded-2xl","shadow","p-4","mb-6"],[1,"text-lg","font-semibold","mb-3","text-gray-700"],[3,"dataSource","showBorders","columnAutoWidth","hoverStateEnabled","rowAlternationEnabled"],[3,"pageSize"],["dataField","date","caption","Date","dataType","date"],["dataField","total_sales","caption","Total Sales","format","currency"],["dataField","total_orders","caption","Orders"],["dataField","average_order_value","caption","Avg Order Value","format","currency"],[1,"bg-white","rounded-2xl","shadow","p-4"],[1,"text-lg","font-medium","mb-2","text-gray-700"],["title","Daily Revenue Trend","palette","Soft Pastel",3,"dataSource"],["argumentField","date","valueField","total_sales","type","bar","name","Total Sales"],[3,"enabled"],[3,"visible"]],template:function(w,_){1&w&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"\u{1f4c5} Daily Sales Report"),o.k0s(),o.j41(3,"div",2)(4,"div")(5,"label",3),o.EFF(6,"Start Date"),o.k0s(),o.j41(7,"dx-date-box",4),o.mxI("valueChange",function(b){return o.DH7(_.startDate,b)||(_.startDate=b),b}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()(),o.j41(8,"div")(9,"label",3),o.EFF(10,"End Date"),o.k0s(),o.j41(11,"dx-date-box",4),o.mxI("valueChange",function(b){return o.DH7(_.endDate,b)||(_.endDate=b),b}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()()(),o.DNE(12,R,2,0,"div",5)(13,K,9,6,"div",6)(14,lt,7,3,"div",7),o.k0s()),2&w&&(o.R7$(7),o.R50("value",_.startDate),o.R7$(4),o.R50("value",_.endDate),o.R7$(),o.Y8G("ngIf",_.loading),o.R7$(),o.Y8G("ngIf",!_.loading),o.R7$(),o.Y8G("ngIf",!_.loading))},dependencies:[d.bT,i.sjL,B.nj_,B.PVd,u.zZ,k.if6,B.cSM,B.mEX,B.Qx],styles:["[_nghost-%COMP%]{display:block;overflow-y:auto;height:100%;background-color:#f9fafb}.dx-datagrid[_ngcontent-%COMP%]{font-size:14px}"]})}}return D})()},{path:"monthly",component:(()=>{class D{constructor(f){this.salesService=f,this.loading=!1,this.monthlySales=[],this.startDate=new Date((new Date).setMonth((new Date).getMonth()-6)),this.endDate=new Date}ngOnInit(){this.loadMonthlySales()}loadMonthlySales(){this.loading=!0,this.salesService.monthlyReport().pipe((0,G.W)(f=>(console.error("\u274c Failed to fetch monthly sales",f),this.loading=!1,(0,Z.of)({data:[]})))).subscribe(f=>{this.monthlySales=f.data||[],this.loading=!1})}onFilterChange(){this.loadMonthlySales()}static{this.\u0275fac=function(w){return new(w||D)(o.rXU(j.w))}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["app-monthly-sales"]],decls:15,vars:5,consts:[[1,"p-4"],[1,"text-2xl","font-semibold","mb-6","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-6","bg-white","p-4","rounded-2xl","shadow","items-end"],[1,"block","text-gray-600","text-sm","mb-1"],["displayFormat","yyyy-MM","type","date",3,"valueChange","onValueChanged","value"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4 mb-6",4,"ngIf"],["class","bg-white rounded-2xl shadow p-4",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-10","w-10","border-t-4","border-blue-500"],[1,"bg-white","rounded-2xl","shadow","p-4","mb-6"],[1,"text-lg","font-semibold","mb-3","text-gray-700"],[3,"dataSource","showBorders","columnAutoWidth","hoverStateEnabled","rowAlternationEnabled"],[3,"pageSize"],["dataField","month","caption","Month"],["dataField","total_sales","caption","Total Sales","format","currency"],["dataField","total_orders","caption","Orders"],["dataField","average_order_value","caption","Avg Order Value","format","currency"],[1,"bg-white","rounded-2xl","shadow","p-4"],[1,"text-lg","font-medium","mb-2","text-gray-700"],["title","Monthly Revenue Overview","palette","Soft Pastel",3,"dataSource"],["argumentField","month","valueField","total_sales","type","line","name","Total Sales"],[3,"enabled"],[3,"visible"]],template:function(w,_){1&w&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2,"\u{1f4c6} Monthly Sales Report"),o.k0s(),o.j41(3,"div",2)(4,"div")(5,"label",3),o.EFF(6,"Start Date"),o.k0s(),o.j41(7,"dx-date-box",4),o.mxI("valueChange",function(b){return o.DH7(_.startDate,b)||(_.startDate=b),b}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()(),o.j41(8,"div")(9,"label",3),o.EFF(10,"End Date"),o.k0s(),o.j41(11,"dx-date-box",4),o.mxI("valueChange",function(b){return o.DH7(_.endDate,b)||(_.endDate=b),b}),o.bIt("onValueChanged",function(){return _.onFilterChange()}),o.k0s()()(),o.DNE(12,rt,2,0,"div",5)(13,ht,9,6,"div",6)(14,nt,7,3,"div",7),o.k0s()),2&w&&(o.R7$(7),o.R50("value",_.startDate),o.R7$(4),o.R50("value",_.endDate),o.R7$(),o.Y8G("ngIf",_.loading),o.R7$(),o.Y8G("ngIf",!_.loading),o.R7$(),o.Y8G("ngIf",!_.loading))},dependencies:[d.bT,i.sjL,B.nj_,B.PVd,u.zZ,k.if6,B.cSM,B.mEX,B.Qx],styles:["[_nghost-%COMP%]{display:block;overflow-y:auto;height:100%;background-color:#f9fafb}.dx-datagrid[_ngcontent-%COMP%]{font-size:14px}"]})}}return D})()}]}];let _t=(()=>{class D{static{this.\u0275fac=function(w){return new(w||D)}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({imports:[O.iI.forChild(pt),O.iI]})}}return D})(),ut=(()=>{class D{static{this.\u0275fac=function(w){return new(w||D)}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({imports:[d.MD,F.YN,i.N8$,u.Wt,y.L,_t,k.X0v,L.S]})}}return D})()},4081:(mt,W,p)=>{p.d(W,{F:()=>i});var d=p(4412),F=p(4438);let i=(()=>{class u{constructor(){this.darkModeSubject=new d.t(!1),this.isDarkMode$=this.darkModeSubject.asObservable();const L="dark"===localStorage.getItem("theme");this.darkModeSubject.next(L),this.applyTheme(L)}toggleDarkMode(){const L=!this.darkModeSubject.value;this.darkModeSubject.next(L),this.applyTheme(L),localStorage.setItem("theme",L?"dark":"light")}applyTheme(k){k?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}static{this.\u0275fac=function(L){return new(L||u)}}static{this.\u0275prov=F.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},4493:(mt,W,p)=>{p.d(W,{w:()=>y});var d=p(1626),F=p(7175),i=p(4438),u=p(8010);let y=(()=>{class k{constructor(O,H){this.http=O,this.auth=H,this.api=`${F.$.apiUrl}/sales`}getAuthHeaders(){const O=this.auth.getToken();if(!O)throw new Error("User not logged in");return{headers:new d.Lr({Authorization:`Bearer ${O}`})}}list(){return this.http.get(`${this.api}`,this.getAuthHeaders())}get(O){return this.http.get(`${this.api}/${O}`,this.getAuthHeaders())}create(O){return this.http.post(`${this.api}`,O,this.getAuthHeaders())}refund(O){return this.http.delete(`${this.api}/${O}/refund`,this.getAuthHeaders())}dailyReport(){return this.http.get(`${this.api}/reports/daily`,this.getAuthHeaders())}monthlyReport(){return this.http.get(`${this.api}/reports/monthly`,this.getAuthHeaders())}topProducts(){return this.http.get(`${this.api}/reports/top-products`,this.getAuthHeaders())}getSalesDetails(O){return this.http.get(`${this.api}/details/${O}`,this.getAuthHeaders())}getSaleItems(O){return this.http.get(`${this.api}/details/${O}`,this.getAuthHeaders())}getDashboardReport(){return this.http.get(`${this.api}/reports/dashboard`,this.getAuthHeaders())}static{this.\u0275fac=function(H){return new(H||k)(i.KVO(d.Qq),i.KVO(u.u))}}static{this.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},7297:(mt,W,p)=>{p.d(W,{A:()=>Y});var d=p(8168),F=p(6676),i=p(1617),u=p(5767),y=p(1349),k=p(5632),L=p(7184),O=p(5042),H=p(2126),Z=p(2463),G=p(4435),o=p(9055),j=p(8382);class B extends o.A{_getDefaultOptions(){return(0,d.A)({},super._getDefaultOptions(),{spellcheck:!0,autoResizeEnabled:!1,_shouldAttachKeyboardEvents:!1})}_shouldAttachKeyboardEvents(){const{_shouldAttachKeyboardEvents:S,readOnly:R}=this.option();return S||!R}_initMarkup(){this.$element().addClass("dx-textarea"),super._initMarkup(),this.setAria("multiline","true")}_renderContentImpl(){this._updateInputHeight(),super._renderContentImpl()}_renderInput(){super._renderInput(),this._renderScrollHandler()}_createInput(){const S=(0,L.A)("<textarea>");return this._applyInputAttributes(S,this.option("inputAttr")),this._updateInputAutoResizeAppearance(S),S}_setInputMinHeight(){}_renderScrollHandler(){this._eventY=0;const S=this._input(),R=(0,j.N)(S,!0);F.A.on(S,(0,y.b4)(i.A.init,this.NAME),R,O.lQ),F.A.on(S,(0,y.b4)(u.A.down,this.NAME),this._pointerDownHandler.bind(this)),F.A.on(S,(0,y.b4)(u.A.move,this.NAME),this._pointerMoveHandler.bind(this))}_pointerDownHandler(S){this._eventY=(0,y.rw)(S).y}_pointerMoveHandler(S){const R=(0,y.rw)(S).y,K=this._eventY-R;(0,j.f)(this._input(),K)&&(S.isScrollingEvent=!0,S.stopPropagation()),this._eventY=R}_renderDimensions(){const S=this.$element(),R=S.get(0),K=this._getOptionValue("width",R),lt=this._getOptionValue("height",R),et=this.option("minHeight"),rt=this.option("maxHeight");S.css({minHeight:void 0!==et?et:"",maxHeight:void 0!==rt?rt:"",width:K,height:lt})}_resetDimensions(){this.$element().css({height:"",minHeight:"",maxHeight:""})}_renderEvents(){this.option("autoResizeEnabled")&&F.A.on(this._input(),(0,y.b4)("input paste",this.NAME),this._updateInputHeight.bind(this)),super._renderEvents()}_refreshEvents(){F.A.off(this._input(),(0,y.b4)("input paste",this.NAME)),super._refreshEvents()}_getHeightDifference(S){return(0,H.pD)(this.$element().get(0),!1)+(0,H.pD)(this._$textEditorContainer.get(0),!1)+(0,H.pD)(this._$textEditorInputContainer.get(0),!0)+(0,H.GU)("height",(0,G.zk)().getComputedStyle(S.get(0))).margin}_updateInputHeight(){if(!(0,G.Vd)())return;const S=this._input(),R=this.option("height"),K=void 0===R&&this.option("autoResizeEnabled");if(!(K||void 0===R&&this.option("minHeight")))return void S.css("height","");this._resetDimensions(),this.$element().css("height",(0,H.P$)(this.$element())),S.css("height",0);const et=this._getHeightDifference(S);this._renderDimensions();const rt=this._getBoundaryHeight("minHeight"),ht=this._getBoundaryHeight("maxHeight");let nt=S[0].scrollHeight;if(void 0!==rt&&(nt=Math.max(nt,rt-et)),void 0!==ht){const ct=ht-et,pt=nt>ct;nt=Math.min(nt,ct),this._updateInputAutoResizeAppearance(S,!pt)}S.css("height",nt),K&&this.$element().css("height","auto")}_getBoundaryHeight(S){const R=this.option(S);if((0,Z.O9)(R))return"number"==typeof R?R:(0,H.hP)(R,this.$element().get(0).parentElement,this.$element().get(0))}_renderInputType(){}_visibilityChanged(S){S&&this._updateInputHeight()}_updateInputAutoResizeAppearance(S,R){if(S){const K=(0,O.YD)(R,this.option("autoResizeEnabled"));S.toggleClass("dx-texteditor-input-auto-resize",K)}}_dimensionChanged(){this.option("visible")&&this._updateInputHeight()}_optionChanged(S){const{name:R,value:K}=S;switch(R){case"_shouldAttachKeyboardEvents":case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),K),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":super._optionChanged(S),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":super._optionChanged(S),K&&this._updateInputHeight();break;default:super._optionChanged(S)}}}(0,k.A)("dxTextArea",B);const Y=B},8382:(mt,W,p)=>{p.d(W,{N:()=>u,f:()=>i});var d=p(1349),F=p(7184);const i=function(y,k,L){const O=(0,F.A)(y),H=L?O.scrollLeft():O.scrollTop(),Z=L?"Width":"Height",j=O.prop(`scroll${Z}`)-O.prop(`client${Z}`)-H|0;return(0!==H||0!==j)&&(!!(0===H&&k>=0||0===j&&k<=0||H>0&&j>0)||void 0)},u=function(y,k){const L=(0,F.A)(y);return{validate(O){if((0,d.X1)(O)&&(!k||(0,F.A)(O.target).is(y)))return!!i(L,-O.delta,O.shiftKey)&&(O._needSkipEvent=!0,!0)}}}},8600:(mt,W,p)=>{p.d(W,{Gm:()=>U,RE:()=>st});var d=p(4438),F=p(8168),i=p(5423),u=p(4142),y=p(6676),k=p(1349),L=p(5632),O=p(4040),H=p(7669),Z=p(9489),G=p(7184),o=p(8106),j=p(5042),J=p(9765),dt=p(6018),B=p(8461),Y=p(2126),tt=p(2463),S=p(1299),R=p(1288);class ut extends R.A{_getDefaultOptions(){return(0,F.A)({},super._getDefaultOptions(),{hoverStateEnabled:!0,itemTitleTemplate:"title",onItemTitleClick:null,selectedIndex:0,collapsible:!1,multiple:!1,animationDuration:300,deferRendering:!0,selectByClick:!0,activeStateEnabled:!0,_itemAttributes:{role:"tab"},_animationEasing:"ease"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===O.A.real().deviceType&&!O.A.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>(0,S.Nt)((0,S.ss)()),options:{animationDuration:200,_animationEasing:"cubic-bezier(0.4, 0, 0.2, 1)"}}])}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this._activeStateUnit=".dx-accordion-item";const{collapsible:v,multiple:c}=this.option();this.option("selectionRequired",!v),this.option("selectionMode",c?"multiple":"single");const T=this.$element();T.addClass("dx-accordion"),this._$container=(0,G.A)("<div>").addClass("dx-accordion-wrapper"),T.append(this._$container)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new o.U((v,c)=>{if((0,tt.Qd)(c)){const T=(0,dt.N)(c.icon);T&&v.append(T),(0,tt.O9)(c.title)&&!(0,tt.Qd)(c.title)&&v.append(H.A.createTextNode(c.title))}else(0,tt.O9)(c)&&v.text(String(c));v.wrapInner((0,G.A)("<div>").addClass("dx-accordion-item-title-caption"))},["title","icon"],this.option("integrationOptions.watchMethod"))})}_initMarkup(){this._deferredItems=[],super._initMarkup();const{multiple:v}=this.option();this.setAria({role:"tablist",multiselectable:v}),(0,j.zE)(()=>{const c=this._getSelectedItemIndices();this._renderSelection(c,[])})}_postProcessRenderItems(){this._updateItemHeights(!0)}_itemDataKey(){return"dxAccordionItemData"}_itemClass(){return"dx-accordion-item"}_itemContainer(){return this._$container}_itemTitles(){return this._itemElements().find(".dx-accordion-item-title")}_itemContents(){return this._itemElements().find(".dx-accordion-item-body")}_getItemData(v){return(0,G.A)(v).parent().data(this._itemDataKey())??super._getItemData(v)}_itemSelectHandler(v){(0,G.A)(v.target).closest(this._itemContents()).length||super._itemSelectHandler(v)}_afterItemElementDeleted(v,c){this._deferredItems.splice(c.itemIndex,1),super._afterItemElementDeleted(v,c)}_renderItemContent(v){const{itemTitleTemplate:c}=this.option(),T=super._renderItemContent((0,F.A)({},v,{contentClass:"dx-accordion-item-title",templateProperty:"titleTemplate",defaultTemplateName:c})),l=super._renderItemContent.bind(this);return T.done(P=>{this._attachItemTitleClickAction(P);const e=(0,J.cY)();(0,tt.O9)(this._deferredItems[v.index])?this._deferredItems[v.index]=e:this._deferredItems.push(e);const{deferRendering:h}=this.option();(!h||this._getSelectedItemIndices().includes(v.index))&&e.resolve(),e.done(()=>{l((0,F.A)({},v,{contentClass:"dx-accordion-item-body",container:(0,Z.cc)((0,G.A)("<div>").appendTo((0,G.A)(P).parent()))}))})})}_attachItemTitleClickAction(v){const c=(0,k.b4)(u.U,this.NAME);y.A.off(v,c),y.A.on(v,c,this._itemTitleClickHandler.bind(this))}_itemTitleClickHandler(v){this._itemDXEventHandler(v,"onItemTitleClick")}_renderSelection(v,c){this._itemElements().addClass("dx-accordion-item-closed"),this.setAria("hidden",!0,this._itemContents()),this._updateItems(v,c)}_updateSelection(v,c){this._updateItems(v,c),this._updateItemHeightsWrapper(!1)}_updateItems(v,c){const T=this._itemElements();B.__(v,(l,P)=>{var e;null===(e=this._deferredItems[P])||void 0===e||e.resolve();const h=T.eq(P).addClass("dx-accordion-item-opened").removeClass("dx-accordion-item-closed");this.setAria("hidden",!1,h.find(".dx-accordion-item-body"))}),B.__(c,(l,P)=>{const e=T.eq(P).removeClass("dx-accordion-item-opened");this.setAria("hidden",!0,e.find(".dx-accordion-item-body"))})}_updateItemHeightsWrapper(v){const{templatesRenderAsynchronously:c}=this.option();c?this._animationTimer=setTimeout(()=>{this._updateItemHeights(v)}):this._updateItemHeights(v)}_updateItemHeights(v){const c=this._deferredAnimate,T=this._splitFreeSpace(this._calculateFreeSpace());clearTimeout(this._animationTimer);const l=this;return J.z7.apply(G.A,[...this._itemElements().toArray()].map(P=>l._updateItemHeight((0,G.A)(P),T,v))).done(()=>{c&&c.resolveWith(l)})}_updateItemHeight(v,c,T){const l=v.children(".dx-accordion-item-title");i.fx.isAnimating(v.get(0))&&i.fx.stop(v.get(0),!1);const P=(0,Y.P$)(v);let e;return v.hasClass("dx-accordion-item-opened")?(e=c+(0,Y.P$)(l),e||((0,Y.k$)(v,"auto"),e=(0,Y.P$)(v))):e=(0,Y.P$)(l),this._animateItem(v,P,e,T,!!c)}_animateItem(v,c,T,l,P){let e;if(l||c===T)v.css("height",T),e=(0,J.cY)().resolve();else{const{animationDuration:h,_animationEasing:I}=this.option();e=i.fx.animate(v.get(0),{type:"custom",from:{height:c},to:{height:T},duration:h,easing:I})}return e.done(()=>{v.hasClass("dx-accordion-item-opened")&&!P&&v.css("height",""),v.not(".dx-accordion-item-opened").addClass("dx-accordion-item-closed")})}_splitFreeSpace(v){const{selectedItems:c}=this.option();return v&&null!=c&&c.length?v/c.length:v}_calculateFreeSpace(){const{height:v}=this.option();if(void 0===v||"auto"===v)return;const c=this._itemTitles();let T=0;return B.__(c,(P,e)=>{T+=(0,Y.P$)(e)}),(0,Y.Oq)(this.$element())-T}_visibilityChanged(v){v&&this._dimensionChanged()}_dimensionChanged(){this._updateItemHeights(!0)}_clean(){clearTimeout(this._animationTimer),super._clean()}_tryParseItemPropertyName(v){const c=v.match(/.*\.(.*)/);return(0,tt.O9)(c)&&c.length>=1?c[1]:null}_optionChanged(v){switch(v.name){case"items":{super._optionChanged(v),"title"===this._tryParseItemPropertyName(v.fullName)&&this._renderSelection(this._getSelectedItemIndices(),[]),"visible"===this._tryParseItemPropertyName(v.fullName)&&this._updateItemHeightsWrapper(!0);const{repaintChangesOnly:c}=this.option();!0===c&&"items"===v.fullName&&(this._renderSelection(this._getSelectedItemIndices(),[]),this._updateItemHeightsWrapper(!0));break}case"animationDuration":case"onItemTitleClick":case"_animationEasing":break;case"collapsible":this.option("selectionRequired",!this.option("collapsible"));break;case"itemTitleTemplate":case"height":case"deferRendering":this._invalidate();break;case"multiple":this.option("selectionMode",v.value?"multiple":"single");break;default:super._optionChanged(v)}}expandItem(v){return this._deferredAnimate=(0,J.cY)(),this.selectItem(v),this._deferredAnimate.promise()}collapseItem(v){return this._deferredAnimate=(0,J.cY)(),this.unselectItem(v),this._deferredAnimate.promise()}updateDimensions(){return this._updateItemHeights(!1)}}(0,L.A)("dxAccordion",ut);const q=ut;var f=p(5245),w=p(1063),_=p(177);const A=["*"];let b=(()=>{class V extends f.l9{renderer;document;element;get disabled(){return this._getOption("disabled")}set disabled(c){this._setOption("disabled",c)}get html(){return this._getOption("html")}set html(c){this._setOption("html",c)}get icon(){return this._getOption("icon")}set icon(c){this._setOption("icon",c)}get template(){return this._getOption("template")}set template(c){this._setOption("template",c)}get text(){return this._getOption("text")}set text(c){this._setOption("text",c)}get title(){return this._getOption("title")}set title(c){this._setOption("title",c)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(c){this._setOption("titleTemplate",c)}get visible(){return this._getOption("visible")}set visible(c){this._setOption("visible",c)}get _optionPath(){return"items"}constructor(c,T,l,P,e,h){super(),this.renderer=l,this.document=P,this.element=h,c.setNestedOption(this),T.setHost(this,this._fullOptionPath.bind(this)),e.setHost(this)}setTemplate(c){this.template=c}ngAfterViewInit(){(0,f.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(T){return new(T||V)(d.rXU(f.fH,5),d.rXU(f.fH,1),d.rXU(d.sFG),d.rXU(_.qQ),d.rXU(f.zF,1),d.rXU(d.aKT))};static \u0275cmp=d.VBU({type:V,selectors:[["dxi-accordion-item"]],inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible"},standalone:!0,features:[d.Jv_([f.fH,f.zF]),d.Vt3,d.aNF],ngContentSelectors:A,decls:1,vars:0,template:function(T,l){1&T&&(d.NAR(),d.SdG(0))},dependencies:[f.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return V})(),it=(()=>{class V{static \u0275fac=function(T){return new(T||V)};static \u0275mod=d.$C({type:V});static \u0275inj=d.G2t({imports:[b]})}return V})(),U=(()=>{class V extends f.ic{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(c){this._setOption("accessKey",c)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(c){this._setOption("activeStateEnabled",c)}get animationDuration(){return this._getOption("animationDuration")}set animationDuration(c){this._setOption("animationDuration",c)}get collapsible(){return this._getOption("collapsible")}set collapsible(c){this._setOption("collapsible",c)}get dataSource(){return this._getOption("dataSource")}set dataSource(c){this._setOption("dataSource",c)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(c){this._setOption("deferRendering",c)}get disabled(){return this._getOption("disabled")}set disabled(c){this._setOption("disabled",c)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(c){this._setOption("elementAttr",c)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(c){this._setOption("focusStateEnabled",c)}get height(){return this._getOption("height")}set height(c){this._setOption("height",c)}get hint(){return this._getOption("hint")}set hint(c){this._setOption("hint",c)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(c){this._setOption("hoverStateEnabled",c)}get itemHoldTimeout(){return this._getOption("itemHoldTimeout")}set itemHoldTimeout(c){this._setOption("itemHoldTimeout",c)}get items(){return this._getOption("items")}set items(c){this._setOption("items",c)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(c){this._setOption("itemTemplate",c)}get itemTitleTemplate(){return this._getOption("itemTitleTemplate")}set itemTitleTemplate(c){this._setOption("itemTitleTemplate",c)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(c){this._setOption("keyExpr",c)}get multiple(){return this._getOption("multiple")}set multiple(c){this._setOption("multiple",c)}get noDataText(){return this._getOption("noDataText")}set noDataText(c){this._setOption("noDataText",c)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(c){this._setOption("repaintChangesOnly",c)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(c){this._setOption("rtlEnabled",c)}get selectedIndex(){return this._getOption("selectedIndex")}set selectedIndex(c){this._setOption("selectedIndex",c)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(c){this._setOption("selectedItem",c)}get selectedItemKeys(){return this._getOption("selectedItemKeys")}set selectedItemKeys(c){this._setOption("selectedItemKeys",c)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(c){this._setOption("selectedItems",c)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(c){this._setOption("tabIndex",c)}get visible(){return this._getOption("visible")}set visible(c){this._setOption("visible",c)}get width(){return this._getOption("width")}set width(c){this._setOption("width",c)}onContentReady;onDisposing;onInitialized;onItemClick;onItemContextMenu;onItemHold;onItemRendered;onItemTitleClick;onOptionChanged;onSelectionChanged;accessKeyChange;activeStateEnabledChange;animationDurationChange;collapsibleChange;dataSourceChange;deferRenderingChange;disabledChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;itemHoldTimeoutChange;itemsChange;itemTemplateChange;itemTitleTemplateChange;keyExprChange;multipleChange;noDataTextChange;repaintChangesOnlyChange;rtlEnabledChange;selectedIndexChange;selectedItemChange;selectedItemKeysChange;selectedItemsChange;tabIndexChange;visibleChange;widthChange;get itemsChildren(){return this._getOption("items")}set itemsChildren(c){this._setChildren("items",c,"DxiAccordionItemComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(c){this._setChildren("items",c,"DxiItemComponent")}constructor(c,T,l,P,e,h,I,C){super(c,T,l,P,I,C),this._watcherHelper=P,this._idh=e,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemHold",emit:"onItemHold"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"itemTitleClick",emit:"onItemTitleClick"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"animationDurationChange"},{emit:"collapsibleChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemHoldTimeoutChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"itemTitleTemplateChange"},{emit:"keyExprChange"},{emit:"multipleChange"},{emit:"noDataTextChange"},{emit:"repaintChangesOnlyChange"},{emit:"rtlEnabledChange"},{emit:"selectedIndexChange"},{emit:"selectedItemChange"},{emit:"selectedItemKeysChange"},{emit:"selectedItemsChange"},{emit:"tabIndexChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),h.setHost(this)}_createInstance(c,T){return new q(c,T)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(c){super.ngOnChanges(c),this.setupChanges("dataSource",c),this.setupChanges("items",c),this.setupChanges("selectedItemKeys",c),this.setupChanges("selectedItems",c)}setupChanges(c,T){c in this._optionsToUpdate||this._idh.setup(c,T)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("selectedItemKeys"),this._idh.doCheck("selectedItems"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(c,T){let l=this._idh.setupSingle(c,T),P=null!==this._idh.getChanges(c,T);(l||P)&&super._setOption(c,T)}static \u0275fac=function(T){return new(T||V)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(f.zF),d.rXU(f.jS),d.rXU(f.$M),d.rXU(f.fH),d.rXU(d.pJN),d.rXU(d.Agw))};static \u0275cmp=d.VBU({type:V,selectors:[["dx-accordion"]],contentQueries:function(T,l,P){if(1&T&&(d.wni(P,b,4),d.wni(P,w.CVf,4)),2&T){let e;d.mGM(e=d.lsd())&&(l.itemsChildren=e),d.mGM(e=d.lsd())&&(l.itemsLegacyChildren=e)}},hostAttrs:["ngSkipHydration","true"],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",animationDuration:"animationDuration",collapsible:"collapsible",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",itemHoldTimeout:"itemHoldTimeout",items:"items",itemTemplate:"itemTemplate",itemTitleTemplate:"itemTitleTemplate",keyExpr:"keyExpr",multiple:"multiple",noDataText:"noDataText",repaintChangesOnly:"repaintChangesOnly",rtlEnabled:"rtlEnabled",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedItemKeys:"selectedItemKeys",selectedItems:"selectedItems",tabIndex:"tabIndex",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemContextMenu:"onItemContextMenu",onItemHold:"onItemHold",onItemRendered:"onItemRendered",onItemTitleClick:"onItemTitleClick",onOptionChanged:"onOptionChanged",onSelectionChanged:"onSelectionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",animationDurationChange:"animationDurationChange",collapsibleChange:"collapsibleChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemHoldTimeoutChange:"itemHoldTimeoutChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",itemTitleTemplateChange:"itemTitleTemplateChange",keyExprChange:"keyExprChange",multipleChange:"multipleChange",noDataTextChange:"noDataTextChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rtlEnabledChange:"rtlEnabledChange",selectedIndexChange:"selectedIndexChange",selectedItemChange:"selectedItemChange",selectedItemKeysChange:"selectedItemKeysChange",selectedItemsChange:"selectedItemsChange",tabIndexChange:"tabIndexChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[d.Jv_([f.zF,f.jS,f.fH,f.$M]),d.Vt3,d.OA$,d.aNF],decls:0,vars:0,template:function(T,l){},dependencies:[f.p_],encapsulation:2})}return V})(),st=(()=>{class V{static \u0275fac=function(T){return new(T||V)};static \u0275mod=d.$C({type:V});static \u0275inj=d.G2t({imports:[U,w.POb,it,f.p_,f.xZ,w.POb,it,f.xZ]})}return V})()},1297:(mt,W,p)=>{p.d(W,{zZ:()=>c,Wt:()=>T});var d=p(4438),F=p(4689),i=p(9417),u=p(5245),y=p(1063),k=p(177);const L=["*"];let O=(()=>{class l extends u.t${get hide(){return this._getOption("hide")}set hide(e){this._setOption("hide",e)}get show(){return this._getOption("show")}set show(e){this._setOption("show",e)}get _optionPath(){return"animation"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-animation"]],inputs:{hide:"hide",show:"show"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),H=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[O]})}return l})(),Z=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"at"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-at"]],inputs:{x:"x",y:"y"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),G=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[Z]})}return l})(),o=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"boundaryOffset"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-boundary-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),j=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[o]})}return l})(),J=(()=>{class l extends u.l9{get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get _optionPath(){return"buttons"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxi-date-box-button"]],inputs:{location:"location",name:"name",options:"options"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),dt=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[J]})}return l})(),B=(()=>{class l extends u.t${get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get cellTemplate(){return this._getOption("cellTemplate")}set cellTemplate(e){this._setOption("cellTemplate",e)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(e){this._setOption("dateSerializationFormat",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get disabledDates(){return this._getOption("disabledDates")}set disabledDates(e){this._setOption("disabledDates",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get firstDayOfWeek(){return this._getOption("firstDayOfWeek")}set firstDayOfWeek(e){this._setOption("firstDayOfWeek",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get max(){return this._getOption("max")}set max(e){this._setOption("max",e)}get maxZoomLevel(){return this._getOption("maxZoomLevel")}set maxZoomLevel(e){this._setOption("maxZoomLevel",e)}get min(){return this._getOption("min")}set min(e){this._setOption("min",e)}get minZoomLevel(){return this._getOption("minZoomLevel")}set minZoomLevel(e){this._setOption("minZoomLevel",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get onValueChanged(){return this._getOption("onValueChanged")}set onValueChanged(e){this._setOption("onValueChanged",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get selectionMode(){return this._getOption("selectionMode")}set selectionMode(e){this._setOption("selectionMode",e)}get selectWeekOnClick(){return this._getOption("selectWeekOnClick")}set selectWeekOnClick(e){this._setOption("selectWeekOnClick",e)}get showTodayButton(){return this._getOption("showTodayButton")}set showTodayButton(e){this._setOption("showTodayButton",e)}get showWeekNumbers(){return this._getOption("showWeekNumbers")}set showWeekNumbers(e){this._setOption("showWeekNumbers",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get weekNumberRule(){return this._getOption("weekNumberRule")}set weekNumberRule(e){this._setOption("weekNumberRule",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get zoomLevel(){return this._getOption("zoomLevel")}set zoomLevel(e){this._setOption("zoomLevel",e)}valueChange;zoomLevelChange;get _optionPath(){return"calendarOptions"}constructor(e,h){super(),this._createEventEmitters([{emit:"valueChange"},{emit:"zoomLevelChange"}]),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-calendar-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",cellTemplate:"cellTemplate",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",disabledDates:"disabledDates",elementAttr:"elementAttr",firstDayOfWeek:"firstDayOfWeek",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",isDirty:"isDirty",isValid:"isValid",max:"max",maxZoomLevel:"maxZoomLevel",min:"min",minZoomLevel:"minZoomLevel",name:"name",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",readOnly:"readOnly",rtlEnabled:"rtlEnabled",selectionMode:"selectionMode",selectWeekOnClick:"selectWeekOnClick",showTodayButton:"showTodayButton",showWeekNumbers:"showWeekNumbers",tabIndex:"tabIndex",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",visible:"visible",weekNumberRule:"weekNumberRule",width:"width",zoomLevel:"zoomLevel"},outputs:{valueChange:"valueChange",zoomLevelChange:"zoomLevelChange"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),Y=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[B]})}return l})(),tt=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"collision"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-collision"]],inputs:{x:"x",y:"y"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),S=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[tt]})}return l})(),R=(()=>{class l extends u.t${get currency(){return this._getOption("currency")}set currency(e){this._setOption("currency",e)}get formatter(){return this._getOption("formatter")}set formatter(e){this._setOption("formatter",e)}get parser(){return this._getOption("parser")}set parser(e){this._setOption("parser",e)}get precision(){return this._getOption("precision")}set precision(e){this._setOption("precision",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useCurrencyAccountingStyle(){return this._getOption("useCurrencyAccountingStyle")}set useCurrencyAccountingStyle(e){this._setOption("useCurrencyAccountingStyle",e)}get _optionPath(){return"displayFormat"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-display-format"]],inputs:{currency:"currency",formatter:"formatter",parser:"parser",precision:"precision",type:"type",useCurrencyAccountingStyle:"useCurrencyAccountingStyle"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),K=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[R]})}return l})(),lt=(()=>{class l extends u.l9{renderer;document;element;get cssClass(){return this._getOption("cssClass")}set cssClass(e){this._setOption("cssClass",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get html(){return this._getOption("html")}set html(e){this._setOption("html",e)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(e){this._setOption("locateInMenu",e)}get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(e){this._setOption("menuItemTemplate",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get showText(){return this._getOption("showText")}set showText(e){this._setOption("showText",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get toolbar(){return this._getOption("toolbar")}set toolbar(e){this._setOption("toolbar",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get widget(){return this._getOption("widget")}set widget(e){this._setOption("widget",e)}get _optionPath(){return"toolbarItems"}constructor(e,h,I,C,$,ft){super(),this.renderer=I,this.document=C,this.element=ft,e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this)),$.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,u.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1),d.rXU(d.sFG),d.rXU(k.qQ),d.rXU(u.zF,1),d.rXU(d.aKT))};static \u0275cmp=d.VBU({type:l,selectors:[["dxi-date-box-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},standalone:!0,features:[d.Jv_([u.fH,u.zF]),d.Vt3,d.aNF],ngContentSelectors:L,decls:1,vars:0,template:function(h,I){1&h&&(d.NAR(),d.SdG(0))},dependencies:[u.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return l})(),et=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[lt]})}return l})(),rt=(()=>{class l extends u.t${get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get animation(){return this._getOption("animation")}set animation(e){this._setOption("animation",e)}get container(){return this._getOption("container")}set container(e){this._setOption("container",e)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(e){this._setOption("contentTemplate",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(e){this._setOption("dragAndResizeArea",e)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(e){this._setOption("dragEnabled",e)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(e){this._setOption("dragOutsideBoundary",e)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(e){this._setOption("enableBodyScroll",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(e){this._setOption("fullScreen",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(e){this._setOption("hideOnOutsideClick",e)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(e){this._setOption("hideOnParentScroll",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(e){this._setOption("maxHeight",e)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(e){this._setOption("maxWidth",e)}get minHeight(){return this._getOption("minHeight")}set minHeight(e){this._setOption("minHeight",e)}get minWidth(){return this._getOption("minWidth")}set minWidth(e){this._setOption("minWidth",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onHidden(){return this._getOption("onHidden")}set onHidden(e){this._setOption("onHidden",e)}get onHiding(){return this._getOption("onHiding")}set onHiding(e){this._setOption("onHiding",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get onResize(){return this._getOption("onResize")}set onResize(e){this._setOption("onResize",e)}get onResizeEnd(){return this._getOption("onResizeEnd")}set onResizeEnd(e){this._setOption("onResizeEnd",e)}get onResizeStart(){return this._getOption("onResizeStart")}set onResizeStart(e){this._setOption("onResizeStart",e)}get onShowing(){return this._getOption("onShowing")}set onShowing(e){this._setOption("onShowing",e)}get onShown(){return this._getOption("onShown")}set onShown(e){this._setOption("onShown",e)}get onTitleRendered(){return this._getOption("onTitleRendered")}set onTitleRendered(e){this._setOption("onTitleRendered",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(e){this._setOption("resizeEnabled",e)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(e){this._setOption("restorePosition",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get shading(){return this._getOption("shading")}set shading(e){this._setOption("shading",e)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(e){this._setOption("shadingColor",e)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(e){this._setOption("showCloseButton",e)}get showTitle(){return this._getOption("showTitle")}set showTitle(e){this._setOption("showTitle",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get title(){return this._getOption("title")}set title(e){this._setOption("title",e)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(e){this._setOption("titleTemplate",e)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(e){this._setOption("toolbarItems",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(e){this._setOption("wrapperAttr",e)}heightChange;positionChange;visibleChange;widthChange;get _optionPath(){return"dropDownOptions"}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(e){this.setChildren("toolbarItems",e)}constructor(e,h){super(),this._createEventEmitters([{emit:"heightChange"},{emit:"positionChange"},{emit:"visibleChange"},{emit:"widthChange"}]),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-drop-down-options"]],contentQueries:function(h,I,C){if(1&h&&d.wni(C,lt,4),2&h){let $;d.mGM($=d.lsd())&&(I.toolbarItemsChildren=$)}},inputs:{accessKey:"accessKey",animation:"animation",container:"container",contentTemplate:"contentTemplate",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{heightChange:"heightChange",positionChange:"positionChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),ht=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[rt]})}return l})(),nt=(()=>{class l extends u.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"from"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-from"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),ct=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[nt]})}return l})(),pt=(()=>{class l extends u.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"hide"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-hide"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),_t=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[pt]})}return l})(),ut=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"my"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-my"]],inputs:{x:"x",y:"y"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),D=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[ut]})}return l})(),q=(()=>{class l extends u.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"offset"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),f=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[q]})}return l})(),w=(()=>{class l extends u.t${renderer;document;element;get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get icon(){return this._getOption("icon")}set icon(e){this._setOption("icon",e)}get onClick(){return this._getOption("onClick")}set onClick(e){this._setOption("onClick",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(e){this._setOption("useSubmitBehavior",e)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(e){this._setOption("validationGroup",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get _optionPath(){return"options"}constructor(e,h,I,C,$,ft){super(),this.renderer=I,this.document=C,this.element=ft,e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this)),$.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,u.ym)(this,this.element,this.renderer,this.document)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1),d.rXU(d.sFG),d.rXU(k.qQ),d.rXU(u.zF,1),d.rXU(d.aKT))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},standalone:!0,features:[d.Jv_([u.fH,u.zF]),d.Vt3,d.aNF],ngContentSelectors:L,decls:1,vars:0,template:function(h,I){1&h&&(d.NAR(),d.SdG(0))},dependencies:[u.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return l})(),_=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[w]})}return l})(),A=(()=>{class l extends u.t${get at(){return this._getOption("at")}set at(e){this._setOption("at",e)}get boundary(){return this._getOption("boundary")}set boundary(e){this._setOption("boundary",e)}get boundaryOffset(){return this._getOption("boundaryOffset")}set boundaryOffset(e){this._setOption("boundaryOffset",e)}get collision(){return this._getOption("collision")}set collision(e){this._setOption("collision",e)}get my(){return this._getOption("my")}set my(e){this._setOption("my",e)}get of(){return this._getOption("of")}set of(e){this._setOption("of",e)}get offset(){return this._getOption("offset")}set offset(e){this._setOption("offset",e)}get _optionPath(){return"position"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-position"]],inputs:{at:"at",boundary:"boundary",boundaryOffset:"boundaryOffset",collision:"collision",my:"my",of:"of",offset:"offset"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),b=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[A]})}return l})(),it=(()=>{class l extends u.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"show"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-show"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),U=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[it]})}return l})(),st=(()=>{class l extends u.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"to"}constructor(e,h){super(),e.setNestedOption(this),h.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(h){return new(h||l)(d.rXU(u.fH,5),d.rXU(u.fH,1))};static \u0275cmp=d.VBU({type:l,selectors:[["dxo-date-box-to"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[d.Jv_([u.fH]),d.Vt3,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_]})}return l})(),V=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[st]})}return l})();const v={provide:i.kq,useExisting:(0,d.Rfq)(()=>c),multi:!0};let c=(()=>{class l extends u.ic{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(e){this._setOption("acceptCustomValue",e)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get adaptivityEnabled(){return this._getOption("adaptivityEnabled")}set adaptivityEnabled(e){this._setOption("adaptivityEnabled",e)}get applyButtonText(){return this._getOption("applyButtonText")}set applyButtonText(e){this._setOption("applyButtonText",e)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(e){this._setOption("applyValueMode",e)}get buttons(){return this._getOption("buttons")}set buttons(e){this._setOption("buttons",e)}get calendarOptions(){return this._getOption("calendarOptions")}set calendarOptions(e){this._setOption("calendarOptions",e)}get cancelButtonText(){return this._getOption("cancelButtonText")}set cancelButtonText(e){this._setOption("cancelButtonText",e)}get dateOutOfRangeMessage(){return this._getOption("dateOutOfRangeMessage")}set dateOutOfRangeMessage(e){this._setOption("dateOutOfRangeMessage",e)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(e){this._setOption("dateSerializationFormat",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get disabledDates(){return this._getOption("disabledDates")}set disabledDates(e){this._setOption("disabledDates",e)}get displayFormat(){return this._getOption("displayFormat")}set displayFormat(e){this._setOption("displayFormat",e)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(e){this._setOption("dropDownButtonTemplate",e)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(e){this._setOption("dropDownOptions",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get interval(){return this._getOption("interval")}set interval(e){this._setOption("interval",e)}get invalidDateMessage(){return this._getOption("invalidDateMessage")}set invalidDateMessage(e){this._setOption("invalidDateMessage",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get label(){return this._getOption("label")}set label(e){this._setOption("label",e)}get labelMode(){return this._getOption("labelMode")}set labelMode(e){this._setOption("labelMode",e)}get max(){return this._getOption("max")}set max(e){this._setOption("max",e)}get maxLength(){return this._getOption("maxLength")}set maxLength(e){this._setOption("maxLength",e)}get min(){return this._getOption("min")}set min(e){this._setOption("min",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get opened(){return this._getOption("opened")}set opened(e){this._setOption("opened",e)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(e){this._setOption("openOnFieldClick",e)}get pickerType(){return this._getOption("pickerType")}set pickerType(e){this._setOption("pickerType",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get showAnalogClock(){return this._getOption("showAnalogClock")}set showAnalogClock(e){this._setOption("showAnalogClock",e)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(e){this._setOption("showClearButton",e)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(e){this._setOption("showDropDownButton",e)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(e){this._setOption("spellcheck",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get todayButtonText(){return this._getOption("todayButtonText")}set todayButtonText(e){this._setOption("todayButtonText",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useMaskBehavior(){return this._getOption("useMaskBehavior")}set useMaskBehavior(e){this._setOption("useMaskBehavior",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(e){this._setOption("valueChangeEvent",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}onChange;onClosed;onContentReady;onCopy;onCut;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onKeyDown;onKeyUp;onOpened;onOptionChanged;onPaste;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;adaptivityEnabledChange;applyButtonTextChange;applyValueModeChange;buttonsChange;calendarOptionsChange;cancelButtonTextChange;dateOutOfRangeMessageChange;dateSerializationFormatChange;deferRenderingChange;disabledChange;disabledDatesChange;displayFormatChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;inputAttrChange;intervalChange;invalidDateMessageChange;isDirtyChange;isValidChange;labelChange;labelModeChange;maxChange;maxLengthChange;minChange;nameChange;openedChange;openOnFieldClickChange;pickerTypeChange;placeholderChange;readOnlyChange;rtlEnabledChange;showAnalogClockChange;showClearButtonChange;showDropDownButtonChange;spellcheckChange;stylingModeChange;tabIndexChange;textChange;todayButtonTextChange;typeChange;useMaskBehaviorChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;visibleChange;widthChange;onBlur;change(e){}touched=e=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(e){this._setChildren("buttons",e,"DxiDateBoxButtonComponent")}get buttonsLegacyChildren(){return this._getOption("buttons")}set buttonsLegacyChildren(e){this._setChildren("buttons",e,"DxiButtonComponent")}constructor(e,h,I,C,$,ft,yt,gt){super(e,h,I,C,yt,gt),this._watcherHelper=C,this._idh=$,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"adaptivityEnabledChange"},{emit:"applyButtonTextChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"calendarOptionsChange"},{emit:"cancelButtonTextChange"},{emit:"dateOutOfRangeMessageChange"},{emit:"dateSerializationFormatChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"disabledDatesChange"},{emit:"displayFormatChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"intervalChange"},{emit:"invalidDateMessageChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxChange"},{emit:"maxLengthChange"},{emit:"minChange"},{emit:"nameChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"pickerTypeChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showAnalogClockChange"},{emit:"showClearButtonChange"},{emit:"showDropDownButtonChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"todayButtonTextChange"},{emit:"typeChange"},{emit:"useMaskBehaviorChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),ft.setHost(this)}_createInstance(e,h){return new F.A(e,h)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",h=>{this.eventHelper.fireNgEvent("onBlur",[h])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("buttons",e),this.setupChanges("disabledDates",e),this.setupChanges("validationErrors",e)}setupChanges(e,h){e in this._optionsToUpdate||this._idh.setup(e,h)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("disabledDates"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,h){let I=this._idh.setupSingle(e,h),C=null!==this._idh.getChanges(e,h);(I||C)&&super._setOption(e,h)}static \u0275fac=function(h){return new(h||l)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(u.zF),d.rXU(u.jS),d.rXU(u.$M),d.rXU(u.fH),d.rXU(d.pJN),d.rXU(d.Agw))};static \u0275cmp=d.VBU({type:l,selectors:[["dx-date-box"]],contentQueries:function(h,I,C){if(1&h&&(d.wni(C,J,4),d.wni(C,y.BrI,4)),2&h){let $;d.mGM($=d.lsd())&&(I.buttonsChildren=$),d.mGM($=d.lsd())&&(I.buttonsLegacyChildren=$)}},hostAttrs:["ngSkipHydration","true"],hostBindings:function(h,I){1&h&&d.bIt("valueChange",function($){return I.change($)})("onBlur",function($){return I.touched($)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",adaptivityEnabled:"adaptivityEnabled",applyButtonText:"applyButtonText",applyValueMode:"applyValueMode",buttons:"buttons",calendarOptions:"calendarOptions",cancelButtonText:"cancelButtonText",dateOutOfRangeMessage:"dateOutOfRangeMessage",dateSerializationFormat:"dateSerializationFormat",deferRendering:"deferRendering",disabled:"disabled",disabledDates:"disabledDates",displayFormat:"displayFormat",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",interval:"interval",invalidDateMessage:"invalidDateMessage",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",max:"max",maxLength:"maxLength",min:"min",name:"name",opened:"opened",openOnFieldClick:"openOnFieldClick",pickerType:"pickerType",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showAnalogClock:"showAnalogClock",showClearButton:"showClearButton",showDropDownButton:"showDropDownButton",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",todayButtonText:"todayButtonText",type:"type",useMaskBehavior:"useMaskBehavior",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",adaptivityEnabledChange:"adaptivityEnabledChange",applyButtonTextChange:"applyButtonTextChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",calendarOptionsChange:"calendarOptionsChange",cancelButtonTextChange:"cancelButtonTextChange",dateOutOfRangeMessageChange:"dateOutOfRangeMessageChange",dateSerializationFormatChange:"dateSerializationFormatChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",disabledDatesChange:"disabledDatesChange",displayFormatChange:"displayFormatChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",intervalChange:"intervalChange",invalidDateMessageChange:"invalidDateMessageChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxChange:"maxChange",maxLengthChange:"maxLengthChange",minChange:"minChange",nameChange:"nameChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",pickerTypeChange:"pickerTypeChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showAnalogClockChange:"showAnalogClockChange",showClearButtonChange:"showClearButtonChange",showDropDownButtonChange:"showDropDownButtonChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",todayButtonTextChange:"todayButtonTextChange",typeChange:"typeChange",useMaskBehaviorChange:"useMaskBehaviorChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},standalone:!0,features:[d.Jv_([u.zF,u.jS,v,u.fH,u.$M]),d.Vt3,d.OA$,d.aNF],decls:0,vars:0,template:function(h,I){},dependencies:[u.p_],encapsulation:2})}return l})(),T=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275mod=d.$C({type:l});static \u0275inj=d.G2t({imports:[c,y.GIV,y.u4t,y.QWP,y.f8z,y.df_,y.YLo,y.YaD,y.eNx,y.Bkf,y.nwt,y.hXw,y.YGc,y.gf0,y.rvW,y.Tob,y.$Ql,H,G,j,dt,Y,S,K,ht,ct,_t,D,f,_,b,U,V,et,u.p_,u.xZ,y.GIV,y.u4t,y.QWP,y.f8z,y.df_,y.YLo,y.YaD,y.eNx,y.Bkf,y.nwt,y.hXw,y.YGc,y.gf0,y.rvW,y.Tob,y.$Ql,H,G,j,dt,Y,S,K,ht,ct,_t,D,f,_,b,U,V,et,u.xZ]})}return l})()}}]);