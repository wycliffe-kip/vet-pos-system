"use strict";(self.webpackChunkvet_pos_dev=self.webpackChunkvet_pos_dev||[]).push([[506],{8506:(Ct,V,d)=>{d.r(V),d.d(V,{UsersRolesModule:()=>ht});var b=d(177),u=d(9417),P=d(2183),t=d(4438),$=d(1626),U=d(7175);let me=(()=>{class s{constructor(e){this.http=e,this.api=`${U.$.apiUrl}/rbac`,this.authApi=`${U.$.apiUrl}/auth`}listPermissions(){return this.http.get(`${this.api}/permissions`)}createPermission(e){return this.http.post(`${this.api}/permissions`,e)}updatePermission(e,i){return this.http.put(`${this.api}/permissions/${e}`,i)}deletePermission(e){return this.http.delete(`${this.api}/permissions/${e}`)}assignPermissionToRole(e){return this.http.post(`${this.api}/assign-permission`,e)}revokePermissionFromRole(e){return this.http.post(`${this.api}/revoke-permission`,e)}assignPermissionsToRole(e){return this.http.post(`${this.api}/assign-permissions-bulk`,e)}listRoles(){return this.http.get(`${this.api}/roles`)}createRole(e){return this.http.post(`${this.api}/roles`,e)}updateRole(e,i){return this.http.put(`${this.api}/roles/${e}`,i)}deleteRole(e){return this.http.delete(`${this.api}/roles/${e}`)}listUsers(){return this.http.get(`${this.api}/users`)}createUser(e){return this.http.post(`${this.api}/users`,e)}updateUser(e,i){return this.http.put(`${this.authApi}/users/${e}`,i)}deleteUser(e){return this.http.delete(`${this.authApi}/users/${e}`)}assignRoleToUser(e){return this.http.post(`${this.api}/assign-role`,e)}revokeRoleFromUser(e){return this.http.post(`${this.api}/revoke-role`,e)}getUserPermissions(e){return this.http.get(`${this.api}/users/${e}/permissions`)}listNavigationItems(e){let i=new $.Nl;return e&&Object.keys(e).forEach(o=>{void 0!==e[o]&&(i=i.set(o,e[o]))}),this.http.get(`${this.api}/navigation-items`,{params:i})}createNavigation(e){return this.http.post(`${this.api}/navigation`,e)}updateNavigation(e,i){return this.http.put(`${this.api}/navigation/${e}`,i)}deleteNavigation(e){return this.http.delete(`${this.api}/navigation/${e}`)}getUserNavigation(e,i){return this.http.post(`${this.api}/users/${e}/navigation`,{role_id:i})}static{this.\u0275fac=function(i){return new(i||s)(t.KVO($.Qq))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var _e=d(8010),Ce=d(5794),H=d(6511),k=d(8856),G=d(5506),L=d(4877),N=d(4747),j=d(5853),X=d(2564),ve=d(8168),fe=d(4142),O=d(6676),T=d(1349),E=d(8708),Oe=d(2243),xe=d(5632),be=d(4040),A=d(9489),Te=d(1368),z=d(3992),C=d(7184),ye=d(8106),R=d(4241),I=d(5042),f=d(9765),Se=d(7963),K=d(8758),D=d(8461),Ee=d(9722),y=d(2126),g=d(2463),De=d(4435),Ie=d(7310),Me=d(2371),Ae=d(9328),Re=d(8382);function M(s,n){return(s||n)&&!(s&&n)}class Y extends Me.A{_supportedKeys(){const n=super._supportedKeys(),e=o=>this._list._keyboardHandler(o),i=this.option("rtlEnabled");return(0,ve.A)({},n,{backspace(o){if(!this._isCaretAtTheStart())return;this._processKeyboardEvent(o),this._isTagRemoved=!0;const a=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),0!==a.length&&(this._preserveFocusedTag=!0,this._removeTagElement(a),delete this._preserveFocusedTag)},upArrow:(o,a)=>o.altKey||!this._list?n.upArrow.call(this,o):e(a),downArrow:(o,a)=>o.altKey||!this._list?n.downArrow.call(this,o):e(a),del(o){if(!this._$focusedTag||!this._isCaretAtTheStart())return;this._processKeyboardEvent(o),this._isTagRemoved=!0;const a=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(a),delete this._preserveFocusedTag},enter(o,a){var l;const h=null!==(null===(l=this._list)||void 0===l?void 0:l.option("focusedElement"))&&!0===this.option("opened");if(this.option("acceptCustomValue")&&!h)return o.preventDefault(),void(""!==this._searchValue()&&this._customItemAddedHandler(o));this.option("opened")&&(this._saveValueChangeEvent(o),e(a),o.preventDefault())},space(o,a){const l=this.option("opened"),h=this._shouldRenderSearchEvent();l&&!h&&(this._saveValueChangeEvent(o),e(a),o.preventDefault())},leftArrow(o){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&i&&!this._$focusedTag)return;o.preventDefault();const a=i?"next":"prev";this._moveTagFocus(a),this.option("multiline")||this._scrollContainer(a)},rightArrow(o){if(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!i&&!this._$focusedTag)return;o.preventDefault();const a=i?"prev":"next";this._moveTagFocus(a),!this.option("multiline")&&this._scrollContainer(a)}})}_processKeyboardEvent(n){n.preventDefault(),n.stopPropagation(),this._saveValueChangeEvent(n)}_isEmpty(){return 0===this._getValue().length}_updateTagsContainer(n){this._$tagsContainer=n.addClass("dx-tag-container")}_allowSelectItemByTab(){return!1}_isCaretAtTheStart(){const n=(0,Ae.A)(this._input());return 0===n?.start&&0===n.end}_updateInputAriaActiveDescendant(n){this.setAria("activedescendant",n,this._input())}_moveTagFocus(n,e){if(!this._$focusedTag){const o=this._tagElements();return this._$focusedTag="next"===n?o.first():o.last(),this._toggleFocusClass(!0,this._$focusedTag),void this._updateInputAriaActiveDescendant(this._$focusedTag.attr("id"))}const i=this._$focusedTag[n](".dx-tag");i.length>0?(this._replaceFocusedTag(i),this._updateInputAriaActiveDescendant(i.attr("id"))):(e||"next"===n&&this._isEditable())&&(this._clearTagFocus(),this._updateInputAriaActiveDescendant())}_replaceFocusedTag(n){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=n,this._toggleFocusClass(!0,this._$focusedTag)}_clearTagFocus(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),this._updateInputAriaActiveDescendant(),delete this._$focusedTag)}_focusClassTarget(n){return n&&n.length&&n[0]!==this._focusTarget()[0]?n:super._focusClassTarget()}_getLabelContainer(){return this._$tagsContainer}_getFieldElement(){return this._input()}_scrollContainer(n){if(this.option("multiline")||!(0,De.Vd)()||!this._$tagsContainer)return;const e=this._getScrollPosition(n);this._$tagsContainer.scrollLeft(e)}_getScrollPosition(n){return"start"===n||"end"===n?this._getBorderPosition(n):this._$focusedTag?this._getFocusedTagPosition(n):this._getBorderPosition("end")}_getBorderPosition(n){const{rtlEnabled:e}=this.option(),i=M("end"===n,e),o=e?-1:1;return M(i,!e)?0:o*(this._$tagsContainer.get(0).scrollWidth-(0,y.Ot)(this._$tagsContainer))}_getFocusedTagPosition(n){const i=M("next"===n,this.option("rtlEnabled"));let{left:o}=this._$focusedTag.position(),a=this._$tagsContainer.scrollLeft();return i&&(o+=(0,y.Ot)(this._$focusedTag,!0)-(0,y.Ot)(this._$tagsContainer)),M(i,o<0)&&(a+=o),a}_setNextValue(){}_getDefaultOptions(){return(0,K.X)(super._getDefaultOptions(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:E.A.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})}_init(){super._init(),this._selectedItems=[],this._initSelectAllValueChangedAction()}_initActions(){super._initActions(),this._initMultiTagPreparingAction()}_initMultiTagPreparingAction(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:n=>{this._multiTagPreparingHandler(n.args[0])},excludeValidators:["disabled","readOnly"]})}_multiTagPreparingHandler(n){const{length:e}=this._getValue();n.text=this.option("showMultiTagOnly")?E.A.getFormatter("dxTagBox-selected")(e):E.A.getFormatter("dxTagBox-moreSelected")(e-this.option("maxDisplayedTags")+1)}_initDynamicTemplates(){super._initDynamicTemplates(),this._templateManager.addDefaultTemplates({tag:new ye.U((n,e)=>{const i=(0,C.A)("<div>").addClass("dx-tag-content");(0,C.A)("<span>").text(e.text??e).appendTo(i),(0,C.A)("<div>").addClass("dx-tag-remove-button").appendTo(i),n.append(i)},["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})}_toggleSubmitElement(n){n?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)}_renderSubmitElement(){this.option("useSubmitBehavior")&&(this._$submitElement=(0,C.A)("<select>").attr({multiple:"multiple","aria-label":"Selected items"}).css("display","none").appendTo(this.$element()))}_setSubmitValue(){if(!this.option("useSubmitBehavior"))return;const n=this._getValue(),e=[];for(let i=0,o=n.length;i<o;i++){const a=this._shouldUseDisplayValue(n[i]);e.push((0,C.A)("<option>").val(a?this._displayGetter(n[i]):n[i]).attr("selected","selected"))}this._getSubmitElement().empty().append(e)}_initMarkup(){this._tagElementsCache=(0,C.A)();const n=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",n);const e={role:"application",roledescription:E.A.format("dxTagBox-ariaRoleDescription")};this.setAria(e,this.$element()),this._initTagTemplate(),super._initMarkup()}_getNewLabelId(n,e,i){return n?i?n===e?void 0:n.split(" ").filter(o=>o!==e).join(" "):`${n} ${e}`:e}_updateElementAria(n,e){if(!n)return void this.setAria("labelledby",void 0,this.$element());const o=this.$element().attr("aria-labelledby"),a=this._getNewLabelId(o,n,e);this.setAria("labelledby",a,this.$element())}_render(){super._render(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")}_initTagTemplate(){this._tagTemplate=this._getTemplateByOption("tagTemplate")}_renderField(){const n=!(0,g.O9)(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",n).toggleClass("dx-tagbox-custom-template",!n),super._renderField()}_renderTagRemoveAction(){const n=this._createAction(this._removeTagHandler.bind(this)),e=(0,T.b4)(fe.U,"dxTagBoxTagRemove");O.A.off(this._$tagsContainer,e),O.A.on(this._$tagsContainer,e,".dx-tag-remove-button",i=>{n({event:i})})}_renderSingleLineScroll(){const n=(0,T.b4)("dxmousewheel",this.NAME),e=this.$element(),i=this.option("multiline");O.A.off(e,n),"desktop"===be.A.real().deviceType?i||O.A.on(e,n,this._tagContainerMouseWheelHandler.bind(this)):this._$tagsContainer&&this._$tagsContainer.css("overflowX",i?"":"auto")}_tagContainerMouseWheelHandler(n){const e=this._$tagsContainer.scrollLeft(),i=-.3*n.delta;if(!(0,T.By)(n)&&(0,Re.f)(this._$tagsContainer,i,!0))return this._$tagsContainer.scrollLeft(e+i),!1}_renderEvents(){super._renderEvents();const n=this._input(),e=(0,T.b4)("keydown",this.NAME);O.A.on(n,e,i=>{const o=(0,T.YD)(i);!this._isControlKey(o)&&this._isEditable()&&this._clearTagFocus()})}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-tagbox-popup-wrapper`}_renderInput(){super._renderInput(),this._renderPreventBlurOnInputClick()}_renderPreventBlurOnInputClick(){const n=(0,T.b4)("mousedown","dxTagBox");O.A.off(this._inputWrapper(),n),O.A.on(this._inputWrapper(),n,e=>{e.target!==this._input()[0]&&this._isFocused()&&e.preventDefault()})}_renderInputValueImpl(){return this._renderMultiSelect()}_loadInputValue(){return(0,f.z7)()}_clearTextValue(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")}_focusInHandler(n){this._preventNestedFocusEvent(n)||this._scrollContainer("end"),super._focusInHandler(n)}_renderInputValue(){return this.option("displayValue",this._searchValue()),super._renderInputValue(...arguments)}_restoreInputText(n){n||this._clearTextValue()}_focusOutHandler(n){this._preventNestedFocusEvent(n)||(this._clearTagFocus(),this._scrollContainer("start")),super._focusOutHandler(n)}_initSelectAllValueChangedAction(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")}_renderList(){super._renderList(),this._setListDataSourceFilter()}_canListHaveFocus(){const{applyValueMode:n}=this.option();return"useButtons"===n}_listConfig(){const n=this.option("showSelectionControls")?"all":"multiple";return(0,K.X)(super._listConfig(),{maxFilterLengthInRequest:this.option("maxFilterQueryLength"),selectionMode:n,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:e=>{let{value:i}=e;this._selectAllValueChangeAction({value:i})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})}_renderMultiSelect(){const n=(0,f.cY)();return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(n.resolve).fail(n.reject),n.promise()}_listItemClickHandler(n){!this.option("showSelectionControls")&&this._clearTextValue();const{applyValueMode:e}=this.option();"useButtons"!==e&&(super._listItemClickHandler(n),this._saveValueChangeEvent(void 0))}_shouldClearFilter(){const n=super._shouldClearFilter();return!this.option("showSelectionControls")&&n}_renderInputSize(){const n=this._input(),e=n.val(),i=(0,g.Kg)(e)&&e;let a,o="";const l=this.option("searchEnabled")||this.option("acceptCustomValue");if(i&&l){const h=(0,Se.D2)(n,e,{includePaddings:!0});h.insertAfter(n),o=(0,y.Ot)(h)+5,h.remove()}else e||(a=1);n.css("width",o),n.attr("size",a??"")}_renderInputSubstitution(){super._renderInputSubstitution(),this._updateWidgetHeight()}_getValue(){const{value:n}=this.option();return n||[]}_multiTagRequired(){const n=this._getValue(),{maxDisplayedTags:e}=this.option();return(0,g.O9)(e)&&n.length>e}_renderMultiTag(n){const e=`dx-${new z.A}`,i=(0,C.A)("<div>").attr("id",e).addClass("dx-tag").addClass("dx-tagbox-multi-tag"),o={multiTagElement:(0,A.cc)(i),selectedItems:this.option("selectedItems")};return this._multiTagPreparingAction(o),!o.cancel&&(i.data("dxTagData",o.text),i.insertBefore(n),this._tagTemplate.render({model:o.text,container:(0,A.cc)(i)}),this._setTagAria(i,o.text),this._updateElementAria(e),i)}_getFilter(n){const e=this._dataController.filter(),i=n.getCombinedFilter(this.option("valueExpr"),e),o=encodeURI(JSON.stringify(i)).length,a=this.option("maxFilterQueryLength");if(o<=a)return i;Ie.A.log("W1019",a)}_getFilteredItems(n){var e,i;null===(e=this._loadFilteredItemsPromise)||void 0===e||e.reject();const o=new Ee.H(n),a=null===(i=this._list)||void 0===i?void 0:i.option("selectedItems"),l=!!a&&this._list._dataController.isLoaded(),h=a||this.option("selectedItems"),c=o.getLocalFilter(this._valueGetter),v=h.filter(c),_=v.length===n.length,m=(0,f.cY)(),S=this._dataController;if(!this._dataSource)return m.resolve([]).promise();if((!this._isDataSourceChanged||l)&&_&&!this._isDataSourceOptionChanged)return m.resolve(v).promise();const{customQueryParams:x,expand:B,select:pt}=S.loadOptions(),ut=this._getFilter(o);return S.loadFromStore({filter:ut,customQueryParams:x,expand:B,select:pt}).done((gt,ct)=>{if(this._isDataSourceChanged=!1,this._isDataSourceOptionChanged=!1,this._disposed)return void m.reject();const{data:mt}=(0,Oe.Xp)(gt,ct),_t=S.applyMapFunction(mt);m.resolve(_t.filter(c))}).fail(m.reject),this._loadFilteredItemsPromise=m,m.promise()}_createTagsData(n,e){const i=[],o={},a="this"===this._valueGetterExpr(),{acceptCustomValue:l}=this.option(),h={};e.forEach(_=>{const m=a?JSON.stringify(_):this._valueGetter(_);h[m]=_});const c=[];n.forEach((_,m)=>{const S=h[a?JSON.stringify(_):_];if(a&&!(0,g.O9)(S)){if(!this._dataSource)return;c.push(this._loadItem(_,o).done(x=>{const B=this._createTagData(x,_);i.splice(m,0,B)}).fail(()=>{if(l){const x=this._createTagData(void 0,_);i.splice(m,0,x)}}))}else{const x=this._createTagData(S,_);i.splice(m,0,x)}});const v=(0,f.cY)();return f.z7.apply(this,c).always(()=>{v.resolve(i)}),v.promise()}_createTagData(n,e){if((0,g.O9)(n))return this._selectedItems.push(n),n;const i=this.option("selectedItem");return this._valueGetter(i)===e?i:e}_isGroupedData(){return this.option("grouped")&&!this._dataController.group()}_getItemsByValues(n){const e=[];return n.forEach(i=>{const o=this._getItemFromPlain(i);(0,g.O9)(o)&&e.push(o)}),e}_getFilteredGroupedItems(n){const e=(0,f.cY)();return this._filteredGroupedItemsLoadPromise&&this._dataController.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataController.items().length?e.resolve(this._getItemsByValues(n)):this._filteredGroupedItemsLoadPromise=this._dataController.load().done(()=>{e.resolve(this._getItemsByValues(n))}).fail(()=>{e.resolve([])}).always(()=>{this._filteredGroupedItemsLoadPromise=void 0}),e.promise()}_loadTagsData(){const n=this._getValue(),e=(0,f.cY)();return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(n):this._getFilteredItems(n)).done(o=>{this._createTagsData(n,o).always(l=>{e.resolve(l)})}).fail(e.reject.bind(this)),e.promise()}_renderTags(){const n=(0,f.cY)();let e=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._tagsToRender=this._selectedItems,this._renderTagsImpl(),e=!0,n.resolve())),e||this._loadTagsData().done(i=>{this._disposed?n.reject():(this._tagsToRender=i,this._renderTagsImpl(),n.resolve())}).fail(n.reject),n.promise()}_renderTagsImpl(){this._renderField(),this._shouldUpdateSelectedItems()&&this.option("selectedItems",this._selectedItems.slice()),this._getFieldTemplate()||(this._cleanTags(),this._renderTagsCore())}_shouldGetItemsFromPlain(n){return n&&this._dataController.isLoaded()&&n.length<=this._getPlainItems().length}_getItemsFromPlain(n){let e=this._getSelectedItemsFromList(n);if(0===e.length&&n.length>0||e.length<n.length){const o=this._getPlainItems();e=this._filterSelectedItems(o,n)}return e}_getSelectedItemsFromList(n){const{selectedItems:e}=this._list?this._list.option():{selectedItems:[]};let i=[];return n.length===e?.length&&(i=this._filterSelectedItems(e,n)),i}_filterSelectedItems(n,e){return n.filter(o=>{let a;for(let l=0;l<e.length;l++)if(a=e[l],(0,g.Gv)(a)){if(this._isValueEquals(o,a))return!0}else if(this._isValueEquals(this._valueGetter(o),a))return!0;return!1},this)}_processDataSourceChanging(){this._isDataSourceOptionChanged=!0,super._processDataSourceChanging()}_integrateInput(){super._integrateInput();const n=this.$element().find(".dx-texteditor-input-container");this._updateTagsContainer(n),this._renderTagRemoveAction(),this._renderTagsCore()}_renderTagsCore(){var n;this._renderTagsElements(this._tagsToRender),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus(),null===(n=this._popup)||void 0===n||n.refreshPosition()}_shouldUpdateSelectedItems(){var n,e;const{selectedItems:i}=this.option();return!!((0,g.O9)(i)&&i.length!==(null===(n=this._selectedItems)||void 0===n?void 0:n.length)||(0,R._N)(i,this._selectedItems).length!==(null===(e=this._selectedItems)||void 0===e?void 0:e.length))}_renderTagsElements(n){const e=this._multiTagRequired()&&this._renderMultiTag(this._input()),i=this.option("showMultiTagOnly"),o=this.option("maxDisplayedTags");n.forEach((a,l)=>{if(e&&i||e&&!i&&l-o>=-1)return!1;this._renderTag(a,e||this._input())}),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()}_cleanTags(){if(this._multiTagRequired())this._tagElements().remove();else{const n=this._tagElements(),i=(this.option("selectedItems")??[]).map(o=>this._valueGetter(o));(0,D.__)(n,(o,a)=>{const l=(0,C.A)(a),h=l.data("dxTagData");i.includes(h)||l.remove()})}this._updateElementAria()}_renderEmptyState(){const n=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(n),this._renderDisplayText()}_renderDisplayText(){this._renderInputSize()}_refreshTagElements(){this._tagElementsCache=this.$element().find(".dx-tag")}_tagElements(){return this._tagElementsCache}_applyTagTemplate(n,e){this._tagTemplate.render({model:n,container:(0,A.cc)(e)})}_renderTag(n,e){const i=this._valueGetter(n);if(!(0,g.O9)(i))return;let o=this._getTag(i);const a=this._displayGetter(n),l=this._getItemModel(n,a);if(o){const h=o.data("dxTagDisplayValue");(0,g.O9)(a)&&!(0,I.RL)(h,a)&&(o.empty(),this._applyTagTemplate(l,o)),this._updateElementAria(o.attr("id"))}else{const h=`dx-${new z.A}`;o=this._createTag(i,e,h,a),this._setTagAria(o,(0,g.O9)(a)?a:i),(0,g.O9)(n)?this._applyTagTemplate(l,o):this._applyTagTemplate(i,o),this._updateElementAria(h)}}_setTagAria(n,e){const i={role:"button",label:e,roledescription:E.A.format("dxTagBox-tagRoleDescription")};this.setAria(i,n)}_getItemModel(n,e){return(0,g.Gv)(n)&&(0,g.O9)(e)?n:(0,I.YD)(e,"")}_getTag(n){const e=this._tagElements(),i=e.length;let o=!1;for(let a=0;a<i;a++){const l=e[a],h=(0,Te.p)(l,"dxTagData");if(n===h||(0,I.RL)(n,h)){o=(0,C.A)(l);break}}return o}_createTag(n,e,i,o){return(0,C.A)("<div>").attr("id",i).addClass("dx-tag").data("dxTagData",n).data("dxTagDisplayValue",o).insertBefore(e)}_toggleEmptinessEventHandler(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)}_customItemAddedHandler(n){super._customItemAddedHandler(n),this._clearTextValue()}_removeTagHandler(n){const e=n.event;e.stopPropagation(),this._saveValueChangeEvent(e);const i=(0,C.A)(e.target).closest(".dx-tag");this._removeTagElement(i)}_removeTagElement(n){if(n.hasClass("dx-tagbox-multi-tag")){if(this.option("showMultiTagOnly"))this.clear();else{const{maxDisplayedTags:o}=this.option();this.option("value",this._getValue().slice(0,o))}return}const e=n.data("dxTagData"),i=n.attr("id");this._removeTagWithUpdate(e),this._updateElementAria(i,!0),this._refreshTagElements()}_updateField(){}_removeTagWithUpdate(n){const e=this._getValue().slice();this._removeTag(e,n),this.option("value",e),this.option("selectedItem",null),0===e.length&&this._clearTagFocus()}_getCurrentValue(){return this._lastValue()}_selectionChangeHandler(n){const{applyValueMode:e}=this.option();if("useButtons"===e)return;const i=this._getValue().slice();if((0,D.__)(n.removedItems||[],(o,a)=>{this._removeTag(i,this._valueGetter(a))}),(0,D.__)(n.addedItems||[],(o,a)=>{this._addTag(i,this._valueGetter(a))}),this._updateWidgetHeight(),!(0,I.RL)(this._list.option("selectedItemKeys"),this.option("value"))){const o=this._list._getSelectionChangeEvent();o&&this._saveValueChangeEvent(o),this.option("value",i)}this._list._saveSelectionChangeEvent(void 0)}_removeTag(n,e){const i=this._valueIndex(e,n);i>=0&&n.splice(i,1)}_addTag(n,e){this._valueIndex(e)<0&&n.push(e)}_fieldRenderData(){return this._selectedItems.slice()}_completeSelection(n){this.option("showSelectionControls")||this._setValue(n)}_setValue(n){var e;if(null===n)return;const{applyValueMode:i}=this.option(),o="useButtons"===i,a=this._valueIndex(n),{selectedItemKeys:l}=(null===(e=this._list)||void 0===e?void 0:e.option())||{selectedItemKeys:[]},h=(o?l??[]:this._getValue()).slice();var c;a>=0?h.splice(a,1):h.push(n),o?null===(c=this._list)||void 0===c||c.option("selectedItemKeys",h):this.option("value",h)}_isSelectedValue(n,e){return this._valueIndex(n,null,e)>-1}_valueIndex(n,e,i){let o=-1;return i&&"object"!=typeof n&&(i.indexByValues||(i.indexByValues={},(e=e||this._getValue()).forEach((a,l)=>{i.indexByValues[a]=l})),n in i.indexByValues)?i.indexByValues[n]:(e=e||this._getValue(),(0,D.__)(e,(a,l)=>{if(this._isValueEquals(n,l))return o=a,!1}),o)}_lastValue(){const n=this._getValue();return n[n.length-1]??null}_shouldRenderSearchEvent(){const{searchEnabled:n,acceptCustomValue:e}=this.option();return n||e}_searchHandler(n){this.option("searchEnabled")&&n&&!this._isTagRemoved&&(super._searchHandler(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved}_updateWidgetHeight(){const n=this.$element(),e=(0,y.Oq)(n);this._renderInputSize();const i=(0,y.Oq)(n);this._popup&&this.option("opened")&&this._isEditable()&&i!==e&&this._popup.repaint()}_refreshSelected(){var n;null!==(n=this._list)&&void 0!==n&&n.getDataSource()&&this._list.option("selectedItems",this._selectedItems)}_resetListDataSourceFilter(){const n=this._dataController;delete this._userFilter,n.filter(null),n.reload()}_setListDataSourceFilter(){if(!this.option("hideSelectedItems")||!this._list)return;const n=this._dataController,e=this._valueGetterExpr();if((0,g.Kg)(e)&&"this"!==e){const i=this._dataSourceFilterExpr();void 0===this._userFilter&&(this._userFilter=n.filter()||null),this._userFilter&&i.push(this._userFilter),n.filter(i.length?i:null)}else n.filter(this._dataSourceFilterFunction.bind(this));n.load()}_dataSourceFilterExpr(){const n=[];return this._getValue().forEach(e=>n.push(["!",[this._valueGetterExpr(),e]])),n}_dataSourceFilterFunction(n){const e=this._valueGetter(n);let i=!0;return(0,D.__)(this._getValue(),(o,a)=>{if(this._isValueEquals(a,e))return i=!1,!1}),i}_dataSourceChangedHandler(){this._isDataSourceChanged=!0,super._dataSourceChangedHandler.apply(this,arguments)}_applyButtonHandler(n){this._saveValueChangeEvent(n.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),super._applyButtonHandler(),this._cancelSearchIfNeed()}_getSortedListValues(){const n=this._getListValues(),{value:e}=this.option(),i=e||[],o=n.length?(0,R._N)(i,n):[],a=o.length?(0,R.R3)(n,i):n;return o.concat(a)}_getListValues(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map(n=>this._valueGetter(n)):[]}_setListDataSource(){const n=this._getValue();super._setListDataSource();const{value:e}=this.option();n!==e&&this.option("value",n),this._refreshSelected()}_renderOpenedState(){super._renderOpenedState();const{applyValueMode:n}=this.option();"useButtons"===n&&!this.option("opened")&&this._refreshSelected()}clear(){this._restoreInputText();const n=this._getDefaultOptions().value,{value:e}=this.option();n&&0===n.length&&e&&n.length===e.length||super.clear()}_clean(){super._clean(),delete this._valuesToUpdate,delete this._tagTemplate,delete this._tagsToRender}_getSelectedItemsDifference(n,e){if(!n.length)return{addedItems:[],removedItems:e.slice()};if(!e.length)return{addedItems:n.slice(),removedItems:[]};const i=e.reduce((a,l)=>(a[this._valueGetter(l)]=l,a),{}),o=[];return n.forEach(a=>{const l=this._valueGetter(a);i[l]||o.push(a),delete i[l]}),{addedItems:o,removedItems:Object.values(i)}}_optionChanged(n){const{name:e,value:i,previousValue:o}=n;switch(e){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":i?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(i);break;case"displayExpr":super._optionChanged(n),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":super._optionChanged(n),!i&&this._refreshEvents();break;case"value":this._valuesToUpdate=i,super._optionChanged(n),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(e,i);break;case"selectedItem":case"maxFilterQueryLength":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(i,o));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!i),this._renderSingleLineScroll();break;default:super._optionChanged(n)}}_getActualSearchValue(){return super._getActualSearchValue()||this._searchValue()}_popupHidingHandler(){super._popupHidingHandler(),this._clearFilter()}}(0,xe.A)("dxTagBox",Y);const we=Y;var r=d(5245),p=d(1063);const w=["*"];let Fe=(()=>{class s extends r.t${get hide(){return this._getOption("hide")}set hide(e){this._setOption("hide",e)}get show(){return this._getOption("show")}set show(e){this._setOption("show",e)}get _optionPath(){return"animation"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-animation"]],inputs:{hide:"hide",show:"show"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),W=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Fe]})}return s})(),Be=(()=>{class s extends r.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"at"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-at"]],inputs:{x:"x",y:"y"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),Q=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Be]})}return s})(),Ve=(()=>{class s extends r.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"boundaryOffset"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-boundary-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),J=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Ve]})}return s})(),Z=(()=>{class s extends r.l9{get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get _optionPath(){return"buttons"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxi-tag-box-button"]],inputs:{location:"location",name:"name",options:"options"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),q=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Z]})}return s})(),Pe=(()=>{class s extends r.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"collision"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-collision"]],inputs:{x:"x",y:"y"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),ee=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Pe]})}return s})(),te=(()=>{class s extends r.l9{renderer;document;element;get cssClass(){return this._getOption("cssClass")}set cssClass(e){this._setOption("cssClass",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get html(){return this._getOption("html")}set html(e){this._setOption("html",e)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(e){this._setOption("locateInMenu",e)}get location(){return this._getOption("location")}set location(e){this._setOption("location",e)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(e){this._setOption("menuItemTemplate",e)}get options(){return this._getOption("options")}set options(e){this._setOption("options",e)}get showText(){return this._getOption("showText")}set showText(e){this._setOption("showText",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get toolbar(){return this._getOption("toolbar")}set toolbar(e){this._setOption("toolbar",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get widget(){return this._getOption("widget")}set widget(e){this._setOption("widget",e)}get _optionPath(){return"toolbarItems"}constructor(e,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1),t.rXU(t.sFG),t.rXU(b.qQ),t.rXU(r.zF,1),t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:s,selectors:[["dxi-tag-box-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},standalone:!0,features:[t.Jv_([r.fH,r.zF]),t.Vt3,t.aNF],ngContentSelectors:w,decls:1,vars:0,template:function(i,o){1&i&&(t.NAR(),t.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return s})(),ie=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[te]})}return s})(),$e=(()=>{class s extends r.t${get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get animation(){return this._getOption("animation")}set animation(e){this._setOption("animation",e)}get container(){return this._getOption("container")}set container(e){this._setOption("container",e)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(e){this._setOption("contentTemplate",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(e){this._setOption("dragAndResizeArea",e)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(e){this._setOption("dragEnabled",e)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(e){this._setOption("dragOutsideBoundary",e)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(e){this._setOption("enableBodyScroll",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(e){this._setOption("fullScreen",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(e){this._setOption("hideOnOutsideClick",e)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(e){this._setOption("hideOnParentScroll",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(e){this._setOption("maxHeight",e)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(e){this._setOption("maxWidth",e)}get minHeight(){return this._getOption("minHeight")}set minHeight(e){this._setOption("minHeight",e)}get minWidth(){return this._getOption("minWidth")}set minWidth(e){this._setOption("minWidth",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onHidden(){return this._getOption("onHidden")}set onHidden(e){this._setOption("onHidden",e)}get onHiding(){return this._getOption("onHiding")}set onHiding(e){this._setOption("onHiding",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get onResize(){return this._getOption("onResize")}set onResize(e){this._setOption("onResize",e)}get onResizeEnd(){return this._getOption("onResizeEnd")}set onResizeEnd(e){this._setOption("onResizeEnd",e)}get onResizeStart(){return this._getOption("onResizeStart")}set onResizeStart(e){this._setOption("onResizeStart",e)}get onShowing(){return this._getOption("onShowing")}set onShowing(e){this._setOption("onShowing",e)}get onShown(){return this._getOption("onShown")}set onShown(e){this._setOption("onShown",e)}get onTitleRendered(){return this._getOption("onTitleRendered")}set onTitleRendered(e){this._setOption("onTitleRendered",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(e){this._setOption("resizeEnabled",e)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(e){this._setOption("restorePosition",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get shading(){return this._getOption("shading")}set shading(e){this._setOption("shading",e)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(e){this._setOption("shadingColor",e)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(e){this._setOption("showCloseButton",e)}get showTitle(){return this._getOption("showTitle")}set showTitle(e){this._setOption("showTitle",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get title(){return this._getOption("title")}set title(e){this._setOption("title",e)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(e){this._setOption("titleTemplate",e)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(e){this._setOption("toolbarItems",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(e){this._setOption("wrapperAttr",e)}heightChange;positionChange;visibleChange;widthChange;get _optionPath(){return"dropDownOptions"}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(e){this.setChildren("toolbarItems",e)}constructor(e,i){super(),this._createEventEmitters([{emit:"heightChange"},{emit:"positionChange"},{emit:"visibleChange"},{emit:"widthChange"}]),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-drop-down-options"]],contentQueries:function(i,o,a){if(1&i&&t.wni(a,te,4),2&i){let l;t.mGM(l=t.lsd())&&(o.toolbarItemsChildren=l)}},inputs:{accessKey:"accessKey",animation:"animation",container:"container",contentTemplate:"contentTemplate",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{heightChange:"heightChange",positionChange:"positionChange",visibleChange:"visibleChange",widthChange:"widthChange"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),ne=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[$e]})}return s})(),Ue=(()=>{class s extends r.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"from"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-from"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),se=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Ue]})}return s})(),He=(()=>{class s extends r.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"hide"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-hide"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),oe=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[He]})}return s})(),ae=(()=>{class s extends r.l9{renderer;document;element;get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get html(){return this._getOption("html")}set html(e){this._setOption("html",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get _optionPath(){return"items"}constructor(e,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1),t.rXU(t.sFG),t.rXU(b.qQ),t.rXU(r.zF,1),t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:s,selectors:[["dxi-tag-box-item"]],inputs:{disabled:"disabled",html:"html",template:"template",text:"text",visible:"visible"},standalone:!0,features:[t.Jv_([r.fH,r.zF]),t.Vt3,t.aNF],ngContentSelectors:w,decls:1,vars:0,template:function(i,o){1&i&&(t.NAR(),t.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return s})(),re=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[ae]})}return s})(),ke=(()=>{class s extends r.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"my"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-my"]],inputs:{x:"x",y:"y"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),le=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[ke]})}return s})(),Ge=(()=>{class s extends r.t${get x(){return this._getOption("x")}set x(e){this._setOption("x",e)}get y(){return this._getOption("y")}set y(e){this._setOption("y",e)}get _optionPath(){return"offset"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-offset"]],inputs:{x:"x",y:"y"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),de=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Ge]})}return s})(),Le=(()=>{class s extends r.t${renderer;document;element;get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get icon(){return this._getOption("icon")}set icon(e){this._setOption("icon",e)}get onClick(){return this._getOption("onClick")}set onClick(e){this._setOption("onClick",e)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(e){this._setOption("onContentReady",e)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(e){this._setOption("onDisposing",e)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(e){this._setOption("onInitialized",e)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(e){this._setOption("onOptionChanged",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get template(){return this._getOption("template")}set template(e){this._setOption("template",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(e){this._setOption("useSubmitBehavior",e)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(e){this._setOption("validationGroup",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get _optionPath(){return"options"}constructor(e,i,o,a,l,h){super(),this.renderer=o,this.document=a,this.element=h,e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),l.setHost(this)}setTemplate(e){this.template=e}ngAfterViewInit(){(0,r.ym)(this,this.element,this.renderer,this.document)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1),t.rXU(t.sFG),t.rXU(b.qQ),t.rXU(r.zF,1),t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-options"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},standalone:!0,features:[t.Jv_([r.fH,r.zF]),t.Vt3,t.aNF],ngContentSelectors:w,decls:1,vars:0,template:function(i,o){1&i&&(t.NAR(),t.SdG(0))},dependencies:[r.p_],styles:["[_nghost-%COMP%]{display:block}"]})}return s})(),he=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Le]})}return s})(),Ne=(()=>{class s extends r.t${get at(){return this._getOption("at")}set at(e){this._setOption("at",e)}get boundary(){return this._getOption("boundary")}set boundary(e){this._setOption("boundary",e)}get boundaryOffset(){return this._getOption("boundaryOffset")}set boundaryOffset(e){this._setOption("boundaryOffset",e)}get collision(){return this._getOption("collision")}set collision(e){this._setOption("collision",e)}get my(){return this._getOption("my")}set my(e){this._setOption("my",e)}get of(){return this._getOption("of")}set of(e){this._setOption("of",e)}get offset(){return this._getOption("offset")}set offset(e){this._setOption("offset",e)}get _optionPath(){return"position"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-position"]],inputs:{at:"at",boundary:"boundary",boundaryOffset:"boundaryOffset",collision:"collision",my:"my",of:"of",offset:"offset"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),pe=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Ne]})}return s})(),je=(()=>{class s extends r.t${get complete(){return this._getOption("complete")}set complete(e){this._setOption("complete",e)}get delay(){return this._getOption("delay")}set delay(e){this._setOption("delay",e)}get direction(){return this._getOption("direction")}set direction(e){this._setOption("direction",e)}get duration(){return this._getOption("duration")}set duration(e){this._setOption("duration",e)}get easing(){return this._getOption("easing")}set easing(e){this._setOption("easing",e)}get from(){return this._getOption("from")}set from(e){this._setOption("from",e)}get staggerDelay(){return this._getOption("staggerDelay")}set staggerDelay(e){this._setOption("staggerDelay",e)}get start(){return this._getOption("start")}set start(e){this._setOption("start",e)}get to(){return this._getOption("to")}set to(e){this._setOption("to",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get _optionPath(){return"show"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-show"]],inputs:{complete:"complete",delay:"delay",direction:"direction",duration:"duration",easing:"easing",from:"from",staggerDelay:"staggerDelay",start:"start",to:"to",type:"type"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),ue=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[je]})}return s})(),Xe=(()=>{class s extends r.t${get left(){return this._getOption("left")}set left(e){this._setOption("left",e)}get opacity(){return this._getOption("opacity")}set opacity(e){this._setOption("opacity",e)}get position(){return this._getOption("position")}set position(e){this._setOption("position",e)}get scale(){return this._getOption("scale")}set scale(e){this._setOption("scale",e)}get top(){return this._getOption("top")}set top(e){this._setOption("top",e)}get _optionPath(){return"to"}constructor(e,i){super(),e.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(i){return new(i||s)(t.rXU(r.fH,5),t.rXU(r.fH,1))};static \u0275cmp=t.VBU({type:s,selectors:[["dxo-tag-box-to"]],inputs:{left:"left",opacity:"opacity",position:"position",scale:"scale",top:"top"},standalone:!0,features:[t.Jv_([r.fH]),t.Vt3,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_]})}return s})(),ge=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[Xe]})}return s})();const ze={provide:u.kq,useExisting:(0,t.Rfq)(()=>F),multi:!0};let F=(()=>{class s extends r.ic{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(e){this._setOption("acceptCustomValue",e)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(e){this._setOption("applyValueMode",e)}get buttons(){return this._getOption("buttons")}set buttons(e){this._setOption("buttons",e)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(e){this._setOption("customItemCreateEvent",e)}get dataSource(){return this._getOption("dataSource")}set dataSource(e){this._setOption("dataSource",e)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(e){this._setOption("deferRendering",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(e){this._setOption("displayExpr",e)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(e){this._setOption("dropDownButtonTemplate",e)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(e){this._setOption("dropDownOptions",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(e){this._setOption("fieldTemplate",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get grouped(){return this._getOption("grouped")}set grouped(e){this._setOption("grouped",e)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(e){this._setOption("groupTemplate",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hideSelectedItems(){return this._getOption("hideSelectedItems")}set hideSelectedItems(e){this._setOption("hideSelectedItems",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get items(){return this._getOption("items")}set items(e){this._setOption("items",e)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(e){this._setOption("itemTemplate",e)}get label(){return this._getOption("label")}set label(e){this._setOption("label",e)}get labelMode(){return this._getOption("labelMode")}set labelMode(e){this._setOption("labelMode",e)}get maxDisplayedTags(){return this._getOption("maxDisplayedTags")}set maxDisplayedTags(e){this._setOption("maxDisplayedTags",e)}get maxFilterQueryLength(){return this._getOption("maxFilterQueryLength")}set maxFilterQueryLength(e){this._setOption("maxFilterQueryLength",e)}get maxLength(){return this._getOption("maxLength")}set maxLength(e){this._setOption("maxLength",e)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(e){this._setOption("minSearchLength",e)}get multiline(){return this._getOption("multiline")}set multiline(e){this._setOption("multiline",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get noDataText(){return this._getOption("noDataText")}set noDataText(e){this._setOption("noDataText",e)}get opened(){return this._getOption("opened")}set opened(e){this._setOption("opened",e)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(e){this._setOption("openOnFieldClick",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(e){this._setOption("searchEnabled",e)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(e){this._setOption("searchExpr",e)}get searchMode(){return this._getOption("searchMode")}set searchMode(e){this._setOption("searchMode",e)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(e){this._setOption("searchTimeout",e)}get selectAllMode(){return this._getOption("selectAllMode")}set selectAllMode(e){this._setOption("selectAllMode",e)}get selectAllText(){return this._getOption("selectAllText")}set selectAllText(e){this._setOption("selectAllText",e)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(e){this._setOption("selectedItems",e)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(e){this._setOption("showClearButton",e)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(e){this._setOption("showDataBeforeSearch",e)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(e){this._setOption("showDropDownButton",e)}get showMultiTagOnly(){return this._getOption("showMultiTagOnly")}set showMultiTagOnly(e){this._setOption("showMultiTagOnly",e)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(e){this._setOption("showSelectionControls",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get tagTemplate(){return this._getOption("tagTemplate")}set tagTemplate(e){this._setOption("tagTemplate",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(e){this._setOption("useItemTextAsTitle",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(e){this._setOption("valueChangeEvent",e)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(e){this._setOption("valueExpr",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(e){this._setOption("wrapItemText",e)}onChange;onClosed;onContentReady;onCustomItemCreating;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onItemClick;onKeyDown;onKeyUp;onMultiTagPreparing;onOpened;onOptionChanged;onSelectAllValueChanged;onSelectionChanged;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;applyValueModeChange;buttonsChange;customItemCreateEventChange;dataSourceChange;deferRenderingChange;disabledChange;displayExprChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;fieldTemplateChange;focusStateEnabledChange;groupedChange;groupTemplateChange;heightChange;hideSelectedItemsChange;hintChange;hoverStateEnabledChange;inputAttrChange;isDirtyChange;isValidChange;itemsChange;itemTemplateChange;labelChange;labelModeChange;maxDisplayedTagsChange;maxFilterQueryLengthChange;maxLengthChange;minSearchLengthChange;multilineChange;nameChange;noDataTextChange;openedChange;openOnFieldClickChange;placeholderChange;readOnlyChange;rtlEnabledChange;searchEnabledChange;searchExprChange;searchModeChange;searchTimeoutChange;selectAllModeChange;selectAllTextChange;selectedItemsChange;showClearButtonChange;showDataBeforeSearchChange;showDropDownButtonChange;showMultiTagOnlyChange;showSelectionControlsChange;stylingModeChange;tabIndexChange;tagTemplateChange;textChange;useItemTextAsTitleChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;valueExprChange;visibleChange;widthChange;wrapItemTextChange;onBlur;change(e){}touched=e=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(e){this._setChildren("buttons",e,"DxiTagBoxButtonComponent")}get itemsChildren(){return this._getOption("items")}set itemsChildren(e){this._setChildren("items",e,"DxiTagBoxItemComponent")}get buttonsLegacyChildren(){return this._getOption("buttons")}set buttonsLegacyChildren(e){this._setChildren("buttons",e,"DxiButtonComponent")}get itemsLegacyChildren(){return this._getOption("items")}set itemsLegacyChildren(e){this._setChildren("items",e,"DxiItemComponent")}constructor(e,i,o,a,l,h,c,v){super(e,i,o,a,c,v),this._watcherHelper=a,this._idh=l,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"multiTagPreparing",emit:"onMultiTagPreparing"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectAllValueChanged",emit:"onSelectAllValueChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hideSelectedItemsChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxDisplayedTagsChange"},{emit:"maxFilterQueryLengthChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"multilineChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectAllModeChange"},{emit:"selectAllTextChange"},{emit:"selectedItemsChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showMultiTagOnlyChange"},{emit:"showSelectionControlsChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"tagTemplateChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),h.setHost(this)}_createInstance(e,i){return new we(e,i)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("buttons",e),this.setupChanges("dataSource",e),this.setupChanges("items",e),this.setupChanges("searchExpr",e),this.setupChanges("selectedItems",e),this.setupChanges("validationErrors",e),this.setupChanges("value",e)}setupChanges(e,i){e in this._optionsToUpdate||this._idh.setup(e,i)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("selectedItems"),this._idh.doCheck("validationErrors"),this._idh.doCheck("value"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,i){let o=this._idh.setupSingle(e,i),a=null!==this._idh.getChanges(e,i);(o||a)&&super._setOption(e,i)}static \u0275fac=function(i){return new(i||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(r.zF),t.rXU(r.jS),t.rXU(r.$M),t.rXU(r.fH),t.rXU(t.pJN),t.rXU(t.Agw))};static \u0275cmp=t.VBU({type:s,selectors:[["dx-tag-box"]],contentQueries:function(i,o,a){if(1&i&&(t.wni(a,Z,4),t.wni(a,ae,4),t.wni(a,p.BrI,4),t.wni(a,p.CVf,4)),2&i){let l;t.mGM(l=t.lsd())&&(o.buttonsChildren=l),t.mGM(l=t.lsd())&&(o.itemsChildren=l),t.mGM(l=t.lsd())&&(o.buttonsLegacyChildren=l),t.mGM(l=t.lsd())&&(o.itemsLegacyChildren=l)}},hostAttrs:["ngSkipHydration","true"],hostBindings:function(i,o){1&i&&t.bIt("valueChange",function(l){return o.change(l)})("onBlur",function(l){return o.touched(l)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",applyValueMode:"applyValueMode",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hideSelectedItems:"hideSelectedItems",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxDisplayedTags:"maxDisplayedTags",maxFilterQueryLength:"maxFilterQueryLength",maxLength:"maxLength",minSearchLength:"minSearchLength",multiline:"multiline",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectAllMode:"selectAllMode",selectAllText:"selectAllText",selectedItems:"selectedItems",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showMultiTagOnly:"showMultiTagOnly",showSelectionControls:"showSelectionControls",stylingMode:"stylingMode",tabIndex:"tabIndex",tagTemplate:"tagTemplate",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCustomItemCreating:"onCustomItemCreating",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onMultiTagPreparing:"onMultiTagPreparing",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onSelectAllValueChanged:"onSelectAllValueChanged",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hideSelectedItemsChange:"hideSelectedItemsChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxDisplayedTagsChange:"maxDisplayedTagsChange",maxFilterQueryLengthChange:"maxFilterQueryLengthChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",multilineChange:"multilineChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectAllModeChange:"selectAllModeChange",selectAllTextChange:"selectAllTextChange",selectedItemsChange:"selectedItemsChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showMultiTagOnlyChange:"showMultiTagOnlyChange",showSelectionControlsChange:"showSelectionControlsChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",tagTemplateChange:"tagTemplateChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},standalone:!0,features:[t.Jv_([r.zF,r.jS,ze,r.fH,r.$M]),t.Vt3,t.OA$,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_],encapsulation:2})}return s})(),Ke=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[F,p.GIV,p.u4t,p.df_,p.YLo,p.YaD,p.eNx,p.Bkf,p.nwt,p.hXw,p.YGc,p.gf0,p.rvW,p.Tob,p.$Ql,p.POb,W,Q,J,q,ee,ne,se,oe,re,le,de,he,pe,ue,ge,ie,r.p_,r.xZ,p.GIV,p.u4t,p.df_,p.YLo,p.YaD,p.eNx,p.Bkf,p.nwt,p.hXw,p.YGc,p.gf0,p.rvW,p.Tob,p.$Ql,p.POb,W,Q,J,q,ee,ne,se,oe,re,le,de,he,pe,ue,ge,ie,r.xZ]})}return s})();function Ye(s,n){if(1&s&&t.nrm(0,"img",47),2&s){const e=t.XpG().$implicit;t.Y8G("src",e.data.profile_photo,t.B4B)}}function We(s,n){if(1&s&&(t.j41(0,"div"),t.DNE(1,Ye,1,1,"img",46),t.k0s()),2&s){const e=n.$implicit;t.R7$(),t.Y8G("ngIf",e.data.profile_photo)}}function Qe(s,n){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",48)(2,"dx-button",49),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openPopup("user",o.data))}),t.k0s(),t.j41(3,"dx-button",50),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openAssignRolePopup(o.data))}),t.k0s(),t.j41(4,"dx-button",51),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.deleteUser(o.data.id))}),t.k0s()()()}}function Je(s,n){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",48)(2,"dx-button",52),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openPopup("role",o.data))}),t.k0s(),t.j41(3,"dx-button",53),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openAssignPermissionPopup(o.data))}),t.k0s(),t.j41(4,"dx-button",54),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.deleteRole(o.data.id))}),t.k0s()()()}}function Ze(s,n){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",48)(2,"dx-button",55),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openPopup("permission",o.data))}),t.k0s(),t.j41(3,"dx-button",56),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.deletePermission(o.data.id))}),t.k0s()()()}}function qe(s,n){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",48)(2,"dx-button",57),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openPopup("navigation",o.data))}),t.k0s(),t.j41(3,"dx-button",58),t.bIt("onClick",function(){const o=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.deleteNavigationItem(o.data.id))}),t.k0s()()()}}function et(s,n){1&s&&(t.j41(0,"div")(1,"label"),t.EFF(2,"Name"),t.k0s(),t.nrm(3,"dx-text-box",59),t.k0s())}function tt(s,n){1&s&&(t.j41(0,"div")(1,"label"),t.EFF(2,"Email"),t.k0s(),t.nrm(3,"dx-text-box",60),t.j41(4,"label"),t.EFF(5,"Password"),t.k0s(),t.nrm(6,"dx-text-box",61),t.j41(7,"label"),t.EFF(8,"Phone Number"),t.k0s(),t.nrm(9,"dx-text-box",62),t.k0s())}function it(s,n){if(1&s&&(t.j41(0,"div")(1,"label"),t.EFF(2,"Name"),t.k0s(),t.nrm(3,"dx-text-box",63),t.j41(4,"label"),t.EFF(5,"Code"),t.k0s(),t.nrm(6,"dx-text-box",64),t.j41(7,"label"),t.EFF(8,"Description"),t.k0s(),t.nrm(9,"dx-text-box",65),t.j41(10,"label"),t.EFF(11,"Linked Navigation"),t.k0s(),t.nrm(12,"dx-select-box",66),t.k0s()),2&s){const e=t.XpG();t.R7$(12),t.Y8G("dataSource",e.navigationItems)}}function nt(s,n){1&s&&(t.j41(0,"div")(1,"label"),t.EFF(2,"Description"),t.k0s(),t.nrm(3,"dx-text-area",67),t.k0s())}function st(s,n){1&s&&(t.j41(0,"div")(1,"label"),t.EFF(2,"Route"),t.k0s(),t.nrm(3,"dx-text-box",68),t.j41(4,"label"),t.EFF(5,"Icon"),t.k0s(),t.nrm(6,"dx-text-box",69),t.j41(7,"label"),t.EFF(8,"Level"),t.k0s(),t.nrm(9,"dx-number-box",70),t.j41(10,"label"),t.EFF(11,"Enabled"),t.k0s(),t.nrm(12,"dx-switch",71),t.k0s()),2&s&&(t.R7$(9),t.Y8G("min",0))}const ot=[{path:"",component:(()=>{class s{constructor(e,i,o,a){this.usersRolesService=e,this.authService=i,this.fb=o,this.toastr=a,this.users=[],this.roles=[],this.permissions=[],this.navigationItems=[],this.popupVisible=!1,this.popupTitle="",this.popupType=null,this.editingData=null,this.isAssignRolePopupVisible=!1,this.selectedUserId=null,this.isAssignPermissionPopupVisible=!1,this.selectedRoleId=null,this.loading=!1}ngOnInit(){this.initForms(),this.loadAll()}initForms(){this.popupForm=this.fb.group({name:["",u.k0.required],email:[""],password:[""],phone_number:[""],role_id:[null],code:[""],description:[""],route:[""],icon:[""],level:[null],navigation_item_id:[null],is_enabled:[!0]}),this.assignRoleForm=this.fb.group({role_id:[null,u.k0.required]}),this.assignPermissionForm=this.fb.group({permission_ids:[[],u.k0.required]})}loadAll(){this.loadUsers(),this.loadRoles(),this.loadPermissions(),this.loadNavigationItems()}loadUsers(){this.usersRolesService.listUsers().subscribe({next:e=>this.users=e.data||e.users||[],error:()=>this.toastr.error("Failed to load users")})}loadRoles(){this.usersRolesService.listRoles().subscribe({next:e=>this.roles=e.data||[],error:()=>this.toastr.error("Failed to load roles")})}loadPermissions(){this.usersRolesService.listPermissions().subscribe({next:e=>this.permissions=e.data||[],error:()=>this.toastr.error("Failed to load permissions")})}loadNavigationItems(){this.usersRolesService.listNavigationItems().subscribe({next:e=>this.navigationItems=e.data||[],error:()=>this.toastr.error("Failed to load navigation items")})}openPopup(e,i){this.popupType=e,this.editingData=i||null,this.popupTitle=i?`Edit ${e.charAt(0).toUpperCase()+e.slice(1)}`:`Add ${e.charAt(0).toUpperCase()+e.slice(1)}`,this.resetForm(i),this.popupVisible=!0}openAssignRolePopup(e){this.selectedUserId=e.id,this.assignRoleForm.reset(),this.isAssignRolePopupVisible=!0}openAssignPermissionPopup(e){this.selectedRoleId=e.id,this.assignPermissionForm.reset(),this.isAssignPermissionPopupVisible=!0}resetForm(e){this.popupForm.reset(),this.popupForm.patchValue({is_enabled:!0}),e&&this.popupForm.patchValue(e),this.popupForm.get("name")?.setValidators(u.k0.required),"user"!==this.popupType||this.editingData?this.popupForm.get("password")?.clearValidators():(this.popupForm.get("password")?.setValidators(u.k0.required),this.popupForm.get("email")?.setValidators([u.k0.required,u.k0.email])),this.popupForm.updateValueAndValidity()}savePopup(){if(this.popupForm.invalid)return void this.toastr.warning("Please fill in required fields.");const e=this.popupForm.value,i=this.editingData?.id||null;switch(this.loading=!0,this.popupType){case"user":this.saveUser(i,e);break;case"role":case"permission":case"navigation":this.saveGeneric(this.popupType,i,e)}}saveUser(e,i){const o=e?this.usersRolesService.updateUser(e,i):this.usersRolesService.createUser(i),a=e?"updated":"created";o.subscribe({next:()=>{this.toastr.success(`User ${a} successfully`),this.loadUsers(),this.closePopup()},error:()=>this.toastr.error(`Failed to ${a} user`)})}saveGeneric(e,i,o){const a={role:{create:this.usersRolesService.createRole.bind(this.usersRolesService),update:this.usersRolesService.updateRole.bind(this.usersRolesService),reload:this.loadRoles.bind(this)},permission:{create:this.usersRolesService.createPermission.bind(this.usersRolesService),update:this.usersRolesService.updatePermission.bind(this.usersRolesService),reload:this.loadPermissions.bind(this)},navigation:{create:this.usersRolesService.createNavigation.bind(this.usersRolesService),update:this.usersRolesService.updateNavigation.bind(this.usersRolesService),reload:this.loadNavigationItems.bind(this)}},l=i?a[e].update(i,o):a[e].create(o),h=i?"updated":"created";l.subscribe({next:()=>{this.toastr.success(`${e} ${h} successfully`),a[e].reload(),this.closePopup()},error:()=>this.toastr.error(`Failed to ${h} ${e}`)})}onAssignRoleSubmit(){!this.assignRoleForm.invalid&&this.selectedUserId&&this.usersRolesService.assignRoleToUser({user_id:this.selectedUserId,role_id:this.assignRoleForm.value.role_id}).subscribe({next:()=>{this.toastr.success("Role assigned successfully","Success"),this.isAssignRolePopupVisible=!1,this.loadUsers(),this.authService.triggerNavigationReload()},error:()=>this.toastr.error("Failed to assign role","Error")})}deleteUser(e){confirm("Delete this user?")&&this.usersRolesService.deleteUser(e).subscribe({next:()=>{this.toastr.success("User deleted"),this.loadUsers()},error:()=>this.toastr.error("Failed to delete user")})}deleteRole(e){confirm("Delete this role?")&&this.usersRolesService.deleteRole(e).subscribe({next:()=>{this.toastr.success("Role deleted"),this.loadRoles()},error:()=>this.toastr.error("Failed to delete role")})}deletePermission(e){confirm("Delete this permission?")&&this.usersRolesService.deletePermission(e).subscribe({next:()=>{this.toastr.success("Permission deleted"),this.loadPermissions()},error:()=>this.toastr.error("Failed to delete permission")})}deleteNavigationItem(e){confirm("Delete this navigation item?")&&this.usersRolesService.deleteNavigation(e).subscribe({next:()=>{this.toastr.success("Navigation deleted"),this.loadNavigationItems()},error:()=>this.toastr.error("Failed to delete navigation")})}onAssignPermissionSubmit(){!this.assignPermissionForm.invalid&&this.selectedRoleId&&this.usersRolesService.assignPermissionsToRole({role_id:this.selectedRoleId,permission_ids:this.assignPermissionForm.value.permission_ids}).subscribe({next:()=>{this.toastr.success("Permissions assigned successfully"),this.isAssignPermissionPopupVisible=!1,this.loadPermissions()},error:()=>this.toastr.error("Failed to assign permissions")})}closePopup(){this.popupVisible=!1,this.loading=!1,this.editingData=null,this.popupForm.reset()}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(me),t.rXU(_e.u),t.rXU(u.ok),t.rXU(Ce.tw))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-users-roles"]],decls:76,vars:40,consts:[[1,"users-roles-container","container","mt-4"],[1,"page-title","mb-4","text-center"],["title","Users"],[1,"agrovet-grid",3,"dataSource","showBorders"],["location","before"],["text","Add User","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Name"],["dataField","email","caption","Email"],["dataField","role_name","caption","Role"],["dataField","phone_number","caption","Phone"],["caption","Actions","cellTemplate","userActions",3,"width"],[4,"dxTemplate","dxTemplateOf"],["title","Assign Role to User","closeOnOutsideClick","true",3,"visibleChange","visible","showTitle","width","height"],[1,"p-3"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["formControlName","role_id","displayExpr","name","valueExpr","id","placeholder","Choose a role",3,"dataSource"],[1,"text-end"],["text","Assign","type","success","icon","check",3,"useSubmitBehavior"],["title","Roles"],["text","Add Role","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Role Name"],["dataField","description","caption","Description"],["caption","Actions","cellTemplate","roleActions"],["title","Assign Permissions to Role","closeOnOutsideClick","true",3,"visibleChange","visible","showTitle","width","height"],["formControlName","permission_ids","displayExpr","name","valueExpr","id","placeholder","Select permissions",3,"dataSource"],[1,"text-end","mt-3"],["title","Permissions"],["text","Add Permission","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","name","caption","Permission Name"],["dataField","code","caption","Code"],["dataField","navigation_name","caption","Linked Navigation"],["caption","Actions","cellTemplate","permissionActions"],["title","Navigation Items"],["text","Add Navigation","icon","plus","type","success","stylingMode","contained",3,"onClick"],["dataField","route","caption","Route"],["dataField","icon","caption","Icon"],["dataField","level","caption","Level"],["dataField","is_enabled","caption","Enabled","dataType","boolean"],["caption","Actions","cellTemplate","navigationActions"],["height","auto","closeOnOutsideClick","true",1,"popup-container",3,"visibleChange","visible","showTitle","title","width","dragEnabled"],[1,"popup-form","p-4",3,"ngSubmit","formGroup"],[1,"form-grid"],[4,"ngIf"],[1,"text-center","mt-4"],["text","Save","type","success","width","120",3,"useSubmitBehavior"],["alt","Profile","style","width:40px; height:40px; border-radius:50%; object-fit:cover;",3,"src",4,"ngIf"],["alt","Profile",2,"width","40px","height","40px","border-radius","50%","object-fit","cover",3,"src"],[1,"action-buttons","d-flex","gap-2","justify-content-center"],["icon","edit","hint","Edit User","stylingMode","outlined",3,"onClick"],["icon","key","hint","Assign Role","type","default","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete User","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Role","stylingMode","outlined",3,"onClick"],["icon","lock","hint","Assign Permissions","type","default","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete Role","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Permission","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete","stylingMode","outlined","type","danger",3,"onClick"],["icon","edit","hint","Edit Navigation","stylingMode","outlined",3,"onClick"],["icon","trash","hint","Delete Navigation","stylingMode","outlined","type","danger",3,"onClick"],["formControlName","name","placeholder","Enter name"],["formControlName","email","placeholder","Enter email"],["formControlName","password","mode","password","placeholder","Enter password"],["formControlName","phone_number","placeholder","Enter phone number"],["formControlName","name","placeholder","Permission Name"],["formControlName","code","placeholder","Permission code"],["formControlName","description","placeholder","Short description"],["formControlName","navigation_item_id","displayExpr","name","valueExpr","id","placeholder","Select navigation item",3,"dataSource"],["formControlName","description","placeholder","Role description"],["formControlName","route","placeholder","/path"],["formControlName","icon","placeholder","fa fa-icon"],["formControlName","level",3,"min"],["formControlName","is_enabled"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"User & Role Management"),t.k0s(),t.j41(3,"dx-tab-panel")(4,"dxi-item",2)(5,"dx-data-grid",3)(6,"dxo-toolbar")(7,"dxi-item",4)(8,"dx-button",5),t.bIt("onClick",function(){return o.openPopup("user")}),t.k0s()()(),t.nrm(9,"dxi-column",6)(10,"dxi-column",7)(11,"dxi-column",8)(12,"dxi-column",9)(13,"dxi-column",10),t.DNE(14,We,2,1,"div",11)(15,Qe,5,0,"div",11),t.k0s(),t.j41(16,"dx-popup",12),t.mxI("visibleChange",function(l){return t.DH7(o.isAssignRolePopupVisible,l)||(o.isAssignRolePopupVisible=l),l}),t.j41(17,"div",13)(18,"form",14),t.bIt("ngSubmit",function(){return o.onAssignRoleSubmit()}),t.j41(19,"div",15)(20,"label"),t.EFF(21,"Select Role"),t.k0s(),t.nrm(22,"dx-select-box",16),t.k0s(),t.j41(23,"div",17),t.nrm(24,"dx-button",18),t.k0s()()()()(),t.j41(25,"dxi-item",19)(26,"dx-data-grid",3)(27,"dxo-toolbar")(28,"dxi-item",4)(29,"dx-button",20),t.bIt("onClick",function(){return o.openPopup("role")}),t.k0s()()(),t.nrm(30,"dxi-column",21)(31,"dxi-column",22)(32,"dxi-column",23),t.DNE(33,Je,5,0,"div",11),t.k0s(),t.j41(34,"dx-popup",24),t.mxI("visibleChange",function(l){return t.DH7(o.isAssignPermissionPopupVisible,l)||(o.isAssignPermissionPopupVisible=l),l}),t.j41(35,"div",13)(36,"form",14),t.bIt("ngSubmit",function(){return o.onAssignPermissionSubmit()}),t.j41(37,"div",15)(38,"label"),t.EFF(39,"Select Permissions"),t.k0s(),t.nrm(40,"dx-tag-box",25),t.k0s(),t.j41(41,"div",26),t.nrm(42,"dx-button",18),t.k0s()()()()(),t.j41(43,"dxi-item",27)(44,"dx-data-grid",3)(45,"dxo-toolbar")(46,"dxi-item",4)(47,"dx-button",28),t.bIt("onClick",function(){return o.openPopup("permission")}),t.k0s()()(),t.nrm(48,"dxi-column",29)(49,"dxi-column",30)(50,"dxi-column",22)(51,"dxi-column",31)(52,"dxi-column",32),t.DNE(53,Ze,4,0,"div",11),t.k0s()(),t.j41(54,"dxi-item",33)(55,"dx-data-grid",3)(56,"dxo-toolbar")(57,"dxi-item",4)(58,"dx-button",34),t.bIt("onClick",function(){return o.openPopup("navigation")}),t.k0s()()(),t.nrm(59,"dxi-column",6)(60,"dxi-column",35)(61,"dxi-column",36)(62,"dxi-column",37)(63,"dxi-column",38)(64,"dxi-column",39),t.DNE(65,qe,4,0,"div",11),t.k0s()()(),t.j41(66,"dx-popup",40),t.mxI("visibleChange",function(l){return t.DH7(o.popupVisible,l)||(o.popupVisible=l),l}),t.j41(67,"form",41),t.bIt("ngSubmit",function(){return o.savePopup()}),t.j41(68,"div",42),t.DNE(69,et,4,0,"div",43)(70,tt,10,0,"div",43)(71,it,13,1,"div",43)(72,nt,4,0,"div",43)(73,st,13,1,"div",43),t.k0s(),t.j41(74,"div",44),t.nrm(75,"dx-button",45),t.k0s()()()()),2&i&&(t.R7$(5),t.Y8G("dataSource",o.users)("showBorders",!0),t.R7$(8),t.Y8G("width",180),t.R7$(),t.Y8G("dxTemplateOf","profilePhotoCell"),t.R7$(),t.Y8G("dxTemplateOf","userActions"),t.R7$(),t.R50("visible",o.isAssignRolePopupVisible),t.Y8G("showTitle",!0)("width",400)("height",250),t.R7$(2),t.Y8G("formGroup",o.assignRoleForm),t.R7$(4),t.Y8G("dataSource",o.roles),t.R7$(2),t.Y8G("useSubmitBehavior",!0),t.R7$(2),t.Y8G("dataSource",o.roles)("showBorders",!0),t.R7$(7),t.Y8G("dxTemplateOf","roleActions"),t.R7$(),t.R50("visible",o.isAssignPermissionPopupVisible),t.Y8G("showTitle",!0)("width",600)("height",400),t.R7$(2),t.Y8G("formGroup",o.assignPermissionForm),t.R7$(4),t.Y8G("dataSource",o.permissions),t.R7$(2),t.Y8G("useSubmitBehavior",!0),t.R7$(2),t.Y8G("dataSource",o.permissions)("showBorders",!0),t.R7$(9),t.Y8G("dxTemplateOf","permissionActions"),t.R7$(2),t.Y8G("dataSource",o.navigationItems)("showBorders",!0),t.R7$(10),t.Y8G("dxTemplateOf","navigationActions"),t.R7$(),t.R50("visible",o.popupVisible),t.Y8G("showTitle",!0)("title",o.popupTitle)("width",500)("dragEnabled",!0),t.R7$(),t.Y8G("formGroup",o.popupForm),t.R7$(2),t.Y8G("ngIf","permission"!==o.popupType&&"navigation"!==o.popupType||"navigation"===o.popupType),t.R7$(),t.Y8G("ngIf","user"===o.popupType),t.R7$(),t.Y8G("ngIf","permission"===o.popupType),t.R7$(),t.Y8G("ngIf","role"===o.popupType),t.R7$(),t.Y8G("ngIf","navigation"===o.popupType),t.R7$(2),t.Y8G("useSubmitBehavior",!0))},dependencies:[b.bT,u.qT,u.BC,u.cb,u.j4,u.JD,H.sjL,p.nj_,p.CVf,p.KOr,r.eC,k.xC,G.e,L.EZ,N.iI,j.m7,X.lo,F],styles:[".users-roles-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:600;color:#2b542c}.agrovet-grid[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.action-buttons[_ngcontent-%COMP%]   dx-button[_ngcontent-%COMP%]{min-width:36px;height:36px}.popup-container[_ngcontent-%COMP%]   .dx-popup-content[_ngcontent-%COMP%]{background:#fafafa;border-radius:10px}.popup-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#444}.form-grid[_ngcontent-%COMP%]{display:grid;gap:15px}@media (max-width: 768px){.users-roles-container[_ngcontent-%COMP%]{padding:10px}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return s})()}];let at=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[P.iI.forChild(ot),P.iI]})}}return s})();var rt=d(3906);const lt={provide:u.kq,useExisting:(0,t.Rfq)(()=>ce),multi:!0};let ce=(()=>{class s extends r.ic{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get enableThreeStateBehavior(){return this._getOption("enableThreeStateBehavior")}set enableThreeStateBehavior(e){this._setOption("enableThreeStateBehavior",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get iconSize(){return this._getOption("iconSize")}set iconSize(e){this._setOption("iconSize",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}onContentReady;onDisposing;onInitialized;onOptionChanged;onValueChanged;accessKeyChange;activeStateEnabledChange;disabledChange;elementAttrChange;enableThreeStateBehaviorChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;iconSizeChange;isDirtyChange;isValidChange;nameChange;readOnlyChange;rtlEnabledChange;tabIndexChange;textChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;visibleChange;widthChange;onBlur;change(e){}touched=e=>{};constructor(e,i,o,a,l,h,c,v){super(e,i,o,a,c,v),this._watcherHelper=a,this._idh=l,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"enableThreeStateBehaviorChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconSizeChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"nameChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),h.setHost(this)}_createInstance(e,i){return new rt.A(e,i)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("validationErrors",e)}setupChanges(e,i){e in this._optionsToUpdate||this._idh.setup(e,i)}ngDoCheck(){this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,i){let o=this._idh.setupSingle(e,i),a=null!==this._idh.getChanges(e,i);(o||a)&&super._setOption(e,i)}static \u0275fac=function(i){return new(i||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(r.zF),t.rXU(r.jS),t.rXU(r.$M),t.rXU(r.fH),t.rXU(t.pJN),t.rXU(t.Agw))};static \u0275cmp=t.VBU({type:s,selectors:[["dx-check-box"]],hostAttrs:["ngSkipHydration","true"],hostBindings:function(i,o){1&i&&t.bIt("valueChange",function(l){return o.change(l)})("onBlur",function(l){return o.touched(l)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",enableThreeStateBehavior:"enableThreeStateBehavior",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",iconSize:"iconSize",isDirty:"isDirty",isValid:"isValid",name:"name",readOnly:"readOnly",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",text:"text",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",enableThreeStateBehaviorChange:"enableThreeStateBehaviorChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconSizeChange:"iconSizeChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",nameChange:"nameChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",textChange:"textChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},standalone:!0,features:[t.Jv_([r.zF,r.jS,lt,r.fH,r.$M]),t.Vt3,t.OA$,t.aNF],decls:0,vars:0,template:function(i,o){},dependencies:[r.p_],encapsulation:2})}return s})(),dt=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[ce,r.p_,r.xZ,r.xZ]})}return s})(),ht=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[b.oe],imports:[b.MD,u.YN,u.X1,at,H.N8$,k.Uu,dt,G.L,L.p0,N.pc,j.ZL,X.SN,Ke]})}}return s})()}}]);